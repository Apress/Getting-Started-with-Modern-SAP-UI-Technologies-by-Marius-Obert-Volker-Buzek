{"version":3,"file":"TableDelegate.js","names":["sap","ui","define","Log","deepEqual","CommonUtils","FilterBar","MetaModelConverter","MetaModelFunction","ModelHelper","TypeGuards","DataModelPathHelper","DisplayModeFormatter","PropertyHelper","EDM","TypeUtil","MacrosDelegateUtil","Core","TableDelegate","DelegateUtil","FilterUtil","Filter","FilterOperator","Sorter","isTypeFilterable","getLabel","getAssociatedUnitPropertyPath","getAssociatedTimezonePropertyPath","getAssociatedTextPropertyPath","getAssociatedCurrencyPropertyPath","getDisplayMode","getTargetObjectPath","enhanceDataModelPath","isProperty","isMultiValueFilterExpression","getSortRestrictionsInfo","getFilterRestrictionsInfo","getInvolvedDataModelObjects","fetchTypeConfig","ODataTableDelegate","Object","assign","fetchProperties","table","model","this","_getModel","createPropertyInfos","Promise","resolve","attachModelContextChange","resolver","onModelContextChange","then","oSubModel","_createPropertyInfos","properties","setCachedProperties","getBindingContext","setProperty","createInternalBindingContext","dialog","isA","getParent","internalModel","getModel","newInternalBindingContextPath","getPath","getId","newInternalBindingContext","bindContext","getBoundContext","setBindingContext","event","data","getSource","detachModelContextChange","collectRelatedProperties","dataModelPropertyPath","dataModelAdditionalPropertyPath","getAdditionalProperty","relatedProperties","targetObject","_property$annotations","_property$annotations2","_textAnnotation$annot","_textAnnotation$annot2","_textAnnotation$annot3","additionalProperty","additionalPropertyPath","property","propertyPath","textAnnotation","annotations","Common","Text","textArrangement","UI","TextArrangement","toString","displayMode","metadataInfo","getDelegate","payload","entitySetPath","collectionName","metaModel","getMetaModel","requestObject","entitySetAnnotations","sortRestrictionsInfo","filterRestrictions","filterRestrictionsInfo","customDataForColumns","getCustomData","propertiesToBeCreated","dataModelEntityPath","getContext","customData","forEach","columnDef","propertyInfo","name","path","label","sortable","isSortableProperty","filterable","isFilterableProperty","maxConditions","getPropertyMaxConditions","typeConfig","$Type","getTypeUtil","getTypeConfig","undefined","targetPropertyPath","type","propertyTypeConfig","formatOptions","constraints","relatedPropertiesInfo","relatedPropertyPaths","keys","length","propertyInfos","find","push","relatedColumns","createRelatedProperties","concat","updateBindingInfo","oMDCTable","oBindingInfo","apply","oMetadataInfo","collectionPath","oFilter","byId","getFilter","bFilterEnabled","isFilteringEnabled","mConditions","oInnerFilterInfo","oOuterFilterInfo","aFilters","tableProperties","getCachedProperties","getConditions","getFilterInfo","filters","aParameterNames","getParameterNames","_updatePropertyInfo","sParameterPath","getParametersInfo","parameters","$search","normalizeSearchTerm","getSearch","_applyDefaultSorting","$select","reduce","sQuery","oProperty","indexOf","$count","isDraftSupported","EQ","oTable","oPayload","sorter","defaultSortPropertyName","aTableProperties","aConditionKey","oMetaModel","conditionKey","findIndex","tableProperty","oColumnDef","getObject","updateBinding","oBinding","bNeedManualRefresh","oInternalBindingContext","sManualUpdatePropertyKey","bPendingManualUpdate","getProperty","oRowBinding","getRowBinding","oldFilters","getFilters","getQueryOptionsFromParameters","requestRefresh","getGroupId","finally","catch","oError","error","fireEvent","existingColumns","relatedPropertyNameMap","relatedColumn","column","newName","valueHelpTableColumn","_column$propertyInfos","map","columnName","hasOwnProperty","_filterRestrictionsIn","dataModelAdditionalProperty"],"sources":["TableDelegate-dbg.js"],"mappings":"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"}