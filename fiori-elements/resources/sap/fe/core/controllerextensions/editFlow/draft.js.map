{"version":3,"file":"draft.js","names":["sap","ui","define","Log","CommonUtils","messageHandling","ResourceModelHelper","Button","Dialog","MessageBox","Text","Core","operationsHelper","draftDataLossPopup","getResourceModel","draftOperations","EDIT","ACTIVATION","DISCARD","PREPARE","getActionName","oContext","sOperation","oModel","getModel","oMetaModel","getMetaModel","sEntitySetPath","getMetaPath","getPath","getObject","createOperation","oOptions","sOperationName","bindContext","getReturnType","hasPrepareAction","async","executeDraftEditAction","bPreserveChanges","oView","getProperty","$$inheritExpandSelect","oOperation","setParameter","sGroupId","resourceModel","sActionName","getText","oEditPromise","execute","undefined","fnOnStrictHandlingFailed","bind","draft","label","model","getBinding","isA","submitBatch","Error","executeDraftValidation","context","appComponent","ignoreETag","getMessagesPath","operation","executeDraftPreparationAction","getUpdateGroupId","requestMessages","getSideEffectsService","error","executeDraftActivationAction","oAppComponent","bHasPrepareAction","bIgnoreEtag","e","actionName","oSideEffectsService","oBindingParameters","getODataActionSideEffects","aTargetPaths","pathExpressions","length","requestSideEffects","oError","getMessagePathForPrepare","sContextPath","oReturnType","groupId","bMessages","sMessagesPath","$select","getGroupId","then","catch","Promise","resolve","executeDraftDiscardAction","bEnableStrictHandling","oDiscardOperation","oDiscardPromise","computeSiblingInformation","rootCurrentContext","rightmostCurrentContext","startsWith","additionalPath","replace","segments","substring","split","unshift","oldPaths","newPaths","currentPath","canonicalPathPromises","map","segment","endsWith","siblingContext","getBoundContext","requestCanonicalPath","canonicalPaths","all","siblingPath","forEach","canonicalPath","index","navigation","keys","targetContext","pathMapping","oldPath","newPath","createDraftFromActiveDocument","mParameters","mParam","bRunPreserveChangesFlow","overwriteChange","draftDataContext","draftAdminData","requestObject","removeUnboundTransitionMessages","sInfo","InProcessByUserDescription","InProcessByUser","sEntitySet","getViewData","entitySet","sLockedByUserMsg","CreatedByUserDescription","CreatedByUser","sUnsavedChangesMsg","showEditConfirmationMessageBox","oDraftContext","oResponse","status","removeBoundTransitionMessages","siblingInfo","waitForContextRequested","canceled","_oSideEffects$trigger","sEditActionName","oSideEffects","triggerActions","requestSideEffectsForODataAction","activateDocument","messageHandler","bExecute","fnBeforeActivateDocument","oActiveDocumentContext","sBatchGroup","oPreparePromise","oActivatePromise","values","err","data","removeTransitionMessages","fnAfterActivateDocument","localI18nRef","getLibraryResourceBundle","reject","oDialog","title","state","content","text","beginButton","type","press","close","endButton","afterClose","destroy","addStyleClass","open","deleteDraft","sDiscardAction","bIsActiveEntity","IsActiveEntity","hasPendingChanges","resetChanges","delete","processDataLossOrDraftDiscardConfirmation","silentlyKeepDraftOnForwardNavigation","NavigationType"],"sources":["draft-dbg.js"],"mappings":"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"}