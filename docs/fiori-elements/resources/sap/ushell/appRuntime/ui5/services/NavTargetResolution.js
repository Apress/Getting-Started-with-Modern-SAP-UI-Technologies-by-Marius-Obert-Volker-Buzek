// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/NavTargetResolution","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],function(e,t,s,n){"use strict";function r(r,i,a,u){e.call(this,r,i,a,u);this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){var e=new n.Deferred,r=[],i;r.push(s.getIsScube()?this.getDistinctSemanticObjectsLocal():Promise.resolve([]));r.push(t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects"));Promise.allSettled(r).then(function(t){i=t[0].status==="fulfilled"?t[0].value:[];i=i.concat(t[1].status==="fulfilled"?t[1].value:[]);i=i.filter(function(e,t,s){return s.indexOf(e)==t}).sort();e.resolve(i)});return e.promise()};this.expandCompactHash=function(e){if(e&&e.indexOf("sap-intent-param")>0){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.expandCompactHash",{sHashFragment:e})}return(new n.Deferred).resolve(e).promise()};this.resolveHashFragmentLocal=this.resolveHashFragment;this.resolveHashFragment=function(e){if(s.getIsScube()){var r=new n.Deferred;this.resolveHashFragmentLocal(e).done(r.resolve).fail(function(){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e}).done(r.resolve).fail(r.reject)});return r.promise()}else{return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e})}};this.isIntentSupportedLocal=this.isIntentSupported;this.isIntentSupported=function(e){var r=new n.Deferred,i=[],a,u;i.push(s.getIsScube()?this.isIntentSupportedLocal(e):Promise.resolve(undefined));i.push(t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.isIntentSupported",{aIntents:e}));Promise.allSettled(i).then(function(t){a=t[0].status==="fulfilled"?t[0].value:undefined;u=t[1].status==="fulfilled"?t[1].value:undefined;if(a&&u){Object.keys(a).forEach(function(e){a[e].supported=a[e].supported||u[e].supported})}else if(a||u){a=a||u}else{a={};e.forEach(function(e){a[e]={supported:undefined}})}r.resolve(a)});return r.promise()}}r.prototype=e.prototype;r.hasNoAdapter=e.hasNoAdapter;return r},true);