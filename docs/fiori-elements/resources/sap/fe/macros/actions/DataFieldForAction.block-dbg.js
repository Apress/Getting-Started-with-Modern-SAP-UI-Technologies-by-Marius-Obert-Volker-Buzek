/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/MetaModelConverter","sap/fe/core/library","sap/fe/core/templating/CriticalityFormatters","sap/m/Button","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,n,r,o,a,l,c){"use strict";var u,s,p,d,f,b,g,v,h;var m={};var y=r.getInvolvedDataModelObjects;var x=n.isActionWithDialog;var C=e.defineBuildingBlock;var j=e.blockAttribute;function O(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}function B(e,t){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return B(e,t)}function P(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function E(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let k=(u=C({name:"DataFieldForAction",namespace:"sap.fe.macros.actions"}),s=j({type:"object",required:true}),p=j({type:"sap.ui.model.Context",required:true}),d=j({type:"string",required:true}),u(f=(b=function(e){z(t,e);function t(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call(this,...n)||this;O(t,"action",g,w(t));O(t,"contextPath",v,w(t));O(t,"id",h,w(t));return t}m=t;var n=t.prototype;n.getContent=function e(t){const n=y(this.contextPath);const r=this.contextPath.getModel();const u=this.action.annotationPath;if(u){const e=r.getContext(u);const p=y(e);const d=p.targetObject;if(d){var s;const e={entitySetName:(s=n.targetEntitySet)===null||s===void 0?void 0:s.name,invocationGrouping:d.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?o.InvocationGrouping.ChangeSet:o.InvocationGrouping.Isolated,label:d.Label,isNavigable:this.action.isNavigable,defaultValuesExtensionFunction:this.action.defaultValuesExtensionFunction};return c(l,{id:this.id,text:e.label,press:this.action.command?i.executeCommand(this.action.command):()=>{t.getController().handlers.onCallAction(t,d.Action,{...e,...{contexts:t.getBindingContext(),model:t.getModel()}})},ariaHasPopup:x(p.targetObject),visible:this.action.visible,enabled:this.action.enabled,type:a.buildExpressionForCriticalityButtonType(p)})}}};return t}(t),g=P(b.prototype,"action",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=P(b.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),h=P(b.prototype,"id",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||f);m=k;return m},false);