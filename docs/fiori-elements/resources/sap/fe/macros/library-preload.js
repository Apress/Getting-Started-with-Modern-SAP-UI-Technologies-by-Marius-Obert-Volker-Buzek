//@ui5-bundle sap/fe/macros/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/CommonHelper",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/m/library","sap/ui/Device","sap/ui/mdc/enum/EditMode","sap/ui/model/Context","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,i,n,a,r,o,l,s,c){"use strict";var u=o.system;var p=n.isPropertyFilterable;var d=i.ref;var f=i.fn;var m=i.compileExpression;const g=r.ValueColor;const h={getPathToKey:function(t){return t.getObject()},isVisible:function(t,e){const i=e.context.getModel(),n=e.context.getPath(),a=i.getObject(`${n}@`),r=a["@com.sap.vocabularies.UI.v1.Hidden"];return typeof r==="object"?"{= !${"+r.$Path+"} }":!r},getParameterEditMode:function(t,e){const i=e.context.getModel(),n=e.context.getPath(),a=i.getObject(`${n}@`),r=a["@com.sap.vocabularies.Common.v1.FieldControl"],o=a["@Org.OData.Core.V1.Immutable"],s=a["@Org.OData.Core.V1.Computed"];let c=l.Editable;if(o||s){c=l.ReadOnly}else if(r){if(r.$EnumMember){if(r.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly"){c=l.ReadOnly}if(r.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Inapplicable"||r.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"){c=l.Disabled}}if(r.$Path){c="{= %{"+r.$Path+"} < 3 ? (%{"+r.$Path+"} === 0 ? '"+l.Disabled+"' : '"+l.ReadOnly+"') : '"+l.Editable+"'}"}}return c},getMetaPath:function(t,e){return e&&e.context&&e.context.getPath()||undefined},isDesktop:function(){return u.desktop===true},getTargetCollectionPath:function(t,e){let i=t.getPath();if(t.getMetadata().getName()==="sap.ui.model.Context"&&(t.getObject("$kind")==="EntitySet"||t.getObject("$ContainsTarget")===true)){return i}if(t.getModel){i=t.getModel().getMetaPath&&t.getModel().getMetaPath(i)||t.getModel().getMetaModel().getMetaPath(i)}const n=i.split("/").filter(function(t){return t&&t!="$Type"});const a=`/${n[0]}`;if(n.length===1){return a}const r=e===undefined?n.slice(1).join("/$NavigationPropertyBinding/"):e;return`${a}/$NavigationPropertyBinding/${r}`},isPropertyFilterable:function(t,e){const i=t.getModel(),n=t.getPath(),a=h.getLocationForPropertyPath(i,n),r=n.replace(`${a}/`,"");if(e&&(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")){return false}return p(i,a,r)},getLocationForPropertyPath:function(t,e){let i;let n=e.slice(0,e.lastIndexOf("/"));if(t.getObject(`${n}/$kind`)==="EntityContainer"){i=n.length+1;n=e.slice(i,e.indexOf("/",i))}return n},gotoActionParameter:function(t){const i=t.getPath(),n=t.getObject(`${i}/$Name`);return e.getParameterPath(i,n)},getEntitySetName:function(t,e){const i=t.getObject("/");for(const t in i){if(typeof i[t]==="object"&&i[t].$Type===e){return t}}return undefined},getActionPath:function(t,e,i,n){let a=t.getPath().split("/@")[0];i=!i?t.getObject(t.getPath()):i;if(i&&i.indexOf("(")>-1){i=i.split("(")[0]}else if(t.getObject(a)){const e=t.getObject(a).$Type;const i=this.getEntitySetName(t.getModel(),e);if(i){a=`/${i}`}}else{return a}if(n){return t.getObject(`${a}/${i}@Org.OData.Core.V1.OperationAvailable`)}if(e){return`${a}/${i}`}else{return{sContextPath:a,sProperty:t.getObject(`${a}/${i}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:t.getObject(`${a}/${i}/@$ui5.overload/0/$Parameter/0/$Name`)}}},getNavigationContext:function(t){return c.getNavigationPath(t.getPath())},getNavigationPath:function(t,e){const i=t.startsWith("/");const n=t.split("/").filter(function(t){return!!t});if(i){n.shift()}if(!e){n.pop()}return n.join("/")},getActionContext:function(t){return h.getActionPath(t,true)},getPathToBoundActionOverload:function(t){const e=h.getActionPath(t,true);return`${e}/@$ui5.overload/0`},addSingleQuotes:function(t,e){if(e&&t){t=this.escapeSingleQuotes(t)}return`'${t}'`},escapeSingleQuotes:function(t){return t.replace(/[']/g,"\\'")},generateFunction:function(t){let e="";for(let t=0;t<(arguments.length<=1?0:arguments.length-1);t++){e+=t+1<1||arguments.length<=t+1?undefined:arguments[t+1];if(t<(arguments.length<=1?0:arguments.length-1)-1){e+=", "}}let i=`${t}()`;if(e){i=`${t}(${e})`}return i},getHeaderDataPointLinkVisibility:function(t,e,i){let n;if(i){n=e?"{= ${internal>isHeaderDPLinkVisible/"+t+"} === true && "+i+"}":"{= ${internal>isHeaderDPLinkVisible/"+t+"} !== true && "+i+"}"}else{n=e?"{= ${internal>isHeaderDPLinkVisible/"+t+"} === true}":"{= ${internal>isHeaderDPLinkVisible/"+t+"} !== true}"}return n},objectToString:function(t){let e=Object.keys(t).length,i="";for(const n in t){let a=t[n];if(a&&typeof a==="object"){a=this.objectToString(a)}i+=`${n}: ${a}`;if(e>1){--e;i+=", "}}return`{ ${i}}`},removeEscapeCharacters:function(t){return t?t.replace(/\\?\\([{}])/g,"$1"):undefined},stringifyObject:function(e){if(!e||e==="{}"){return undefined}else{const i=JSON.parse(e);if(typeof i==="object"&&!Array.isArray(i)){const t={ui5object:true};Object.assign(t,i);return JSON.stringify(t)}else{const e=Array.isArray(i)?"Array":typeof i;t.error(`Unexpected object type in stringifyObject (${e}) - only works with object`);throw new Error("stringifyObject only works with objects!")}}},stringifyCustomData:function(t){const e={ui5object:true};e["customData"]=t instanceof s?t.getObject():t;return JSON.stringify(e)},parseCustomData:function(t){t=typeof t==="string"?JSON.parse(t):t;if(t&&t.hasOwnProperty("customData")){return t["customData"]}return t},getContextPath:function(t,e){const i=e&&e.context&&e.context.getPath();return i[i.length-1]==="/"?i.slice(0,-1):i},getSortConditions:function(t,e,i){if(e&&h._isPresentationVariantAnnotation(i)&&e.SortOrder){const i={sorters:[]};const n=t.getPath(0).split("@")[0];e.SortOrder.forEach(function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let a={};const r={};if(e.DynamicProperty){var o;a=(o=t.getModel(0).getObject(n+e.DynamicProperty.$AnnotationPath))===null||o===void 0?void 0:o.Name}else if(e.Property){a=e.Property.$PropertyPath}if(a){r.name=a;r.descending=!!e.Descending;i.sorters.push(r)}else{throw new Error("Please define the right path to the sort property")}});return JSON.stringify(i)}return undefined},_isPresentationVariantAnnotation:function(t){return t.indexOf(`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`)>-1||t.indexOf(`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`)>-1},createPresentationPathContext:function(t){const e=t.sPath.split("@")||[];const i=t.getModel();if(e.length&&e[e.length-1].indexOf("com.sap.vocabularies.UI.v1.SelectionPresentationVariant")>-1){const e=t.sPath.split("/PresentationVariant")[0];return i.createBindingContext(`${e}@sapui.name`)}return i.createBindingContext(`${t.sPath}@sapui.name`)},getPressHandlerForDataFieldForIBN:function(t,e,i){if(!t)return undefined;const n={navigationContexts:e?e:"${$source>/}.getBindingContext()"};if(t.RequiresContext&&!t.Inline&&i){n.applicableContexts="${internal>ibn/"+t.SemanticObject+"-"+t.Action+"/aApplicable/}";n.notApplicableContexts="${internal>ibn/"+t.SemanticObject+"-"+t.Action+"/aNotApplicable/}";n.label=this.addSingleQuotes(t.Label,true)}if(t.Mapping){n.semanticObjectMapping=this.addSingleQuotes(JSON.stringify(t.Mapping))}return this.generateFunction(i?"._intentBasedNavigation.navigateWithConfirmationDialog":"._intentBasedNavigation.navigate",this.addSingleQuotes(t.SemanticObject),this.addSingleQuotes(t.Action),this.objectToString(n))},getEntitySet:function(t){const e=t.getPath();return a.getEntitySetPath(e)},handleVisibilityOfMenuActions:function(t){const e=[];if(Array.isArray(t)){for(let i=0;i<t.length;i++){if(t[i].indexOf("{")>-1&&t[i].indexOf("{=")===-1){t[i]="{="+t[i]+"}"}if(t[i].split("{=").length>0){t[i]=t[i].split("{=")[1].slice(0,-1)}e.push(`(${t[i]})`)}}return e.length>0?`{= ${e.join(" || ")}}`:t},getCriticalityCalculationBinding:function(e,i,n,a,r,o,l,s){let c=g.Neutral;i=`%${i}`;n=n||-Infinity;a=a||n;r=r||a;s=s||Infinity;l=l||s;o=o||l;n=n&&(+n?+n:`%${n}`);a=a&&(+a?+a:`%${a}`);r=r&&(+r?+r:`%${r}`);o=o&&(+o?+o:`%${o}`);l=l&&(+l?+l:`%${l}`);s=s&&(+s?+s:`%${s}`);if(e.indexOf("Minimize")>-1){c="{= "+i+" <= "+o+" ? '"+g.Good+"' : "+i+" <= "+l+" ? '"+g.Neutral+"' : "+"("+s+" && "+i+" <= "+s+") ? '"+g.Critical+"' : '"+g.Error+"' }"}else if(e.indexOf("Maximize")>-1){c="{= "+i+" >= "+r+" ? '"+g.Good+"' : "+i+" >= "+a+" ? '"+g.Neutral+"' : "+"("+n+" && "+i+" >= "+n+") ? '"+g.Critical+"' : '"+g.Error+"' }"}else if(e.indexOf("Target")>-1){c="{= ("+i+" <= "+o+" && "+i+" >= "+r+") ? '"+g.Good+"' : "+"(("+i+" >= "+a+" && "+i+" < "+r+") || ("+i+" > "+o+" && "+i+" <= "+l+")) ? '"+g.Neutral+"' : "+"(("+n+" && ("+i+" >= "+n+") && ("+i+" < "+a+")) || (("+i+" > "+l+") && "+s+" && ("+i+" <= "+s+"))) ? '"+g.Critical+"' : '"+g.Error+"' }"}else{t.warning("Case not supported, returning the default Value Neutral")}return c},getMeasureAttributeIndex:function(t,e){var i,n;let a,r;if((e===null||e===void 0?void 0:(i=e.Measures)===null||i===void 0?void 0:i.length)>0){a=e.Measures;r=a[t].$PropertyPath}else if((e===null||e===void 0?void 0:(n=e.DynamicMeasures)===null||n===void 0?void 0:n.length)>0){a=e.DynamicMeasures;r=a[t].$AnnotationPath}let o;const l=e.MeasureAttributes;let s=-1;const c=function(t,e,i){if(e){if(e.Measure&&e.Measure.$PropertyPath===t){s=i;return true}else if(e.DynamicMeasure&&e.DynamicMeasure.$AnnotationPath===t){s=i;return true}}};if(l){o=l.some(c.bind(null,r))}return o&&s>-1&&s},getMeasureAttribute:function(e){const i=e.getModel(),n=e.getPath();return i.requestObject(n).then(function(e){const i=e.MeasureAttributes,a=h.getMeasureAttributeIndex(0,e);const r=a>-1&&i[a]&&i[a].DataPoint?`${n}/MeasureAttributes/${a}/`:undefined;if(r===undefined){t.warning("DataPoint missing for the measure")}return r?`${r}DataPoint/$AnnotationPath/`:r})},getMeasureAttributeForMeasure:function(e){const i=e.getModel(),n=e.getPath(),a=n.substring(0,n.lastIndexOf("Measure")),r=n.replace(/.*\//,"");const o=i.getObject(a);const l=o.MeasureAttributes,s=h.getMeasureAttributeIndex(r,o);const c=s>-1&&l[s]&&l[s].DataPoint?`${a}MeasureAttributes/${s}/`:undefined;if(c===undefined){t.warning("DataPoint missing for the measure")}return c?`${c}DataPoint/$AnnotationPath/`:c},isDraftParentEntityForContainment:function(t,e){if(t){if(e&&e.parentEntitySet&&e.parentEntitySet.sPath){const t=e.parentEntitySet.sPath;const i=e.parentEntitySet.oModel.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftRoot`);const n=e.parentEntitySet.oModel.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftNode`);if(i||n){return true}else{return false}}}return false},getDataFromTemplate:function(t){const e=t.getPath().split("/");const i=e[e.length-1];const n=`/${e.slice(1,-2).join("/")}/@`;const a=t.getObject(n);const r=a.Template;const o=r.split("}");const l=[];for(let t=0;t<o.length-1;t++){const e=o[t].split("{")[1].trim();l.push(e)}Object.keys(a.Data).forEach(function(t){if(t.startsWith("$")){delete a.Data[t]}});const s=Object.keys(a.Data).indexOf(i);return`/${e.slice(1,-2).join("/")}/Data/${l[s]}`},notLastIndex:function(t,e){const i=t.Template;const n=i.split("}");const a=[];let r=false;for(let t=0;t<n.length-1;t++){const e=n[t].split("{")[1].trim();a.push(e)}a.forEach(function(i){if(t.Data[i]===e&&a.indexOf(i)!==a.length-1){r=true}});return r},getDelimiter:function(t){return t.split("}")[1].split("{")[0].trim()},oMetaModel:undefined,setMetaModel:function(t){this.oMetaModel=t},getMetaModel:function(t,e){if(t){return e.context.getModel()}return this.oMetaModel},getParameters:function(t,i){if(t){const t=i.context.getModel();const n=i.context.getPath();const a=e.getParameterInfo(t,n);if(a.parameterProperties){return Object.keys(a.parameterProperties)}}return[]},buildActionWrapper:function(t,e){const i=[d("$event"),t.handlerModule,t.handlerMethod];if(e&&e.id){const t={contexts:d("${internal>selectedContexts}")};i.push(t)}return m(f("FPM.actionWrapper",i))},getHiddenPathExpression:function(t){if(t["@com.sap.vocabularies.UI.v1.Hidden"]!==null){const e=t["@com.sap.vocabularies.UI.v1.Hidden"];return typeof e==="object"?"{= !${"+e.$Path+"} }":!e}return true},validatePresentationMetaPath:function(t,e){if(t.indexOf(e.slice(0,e.lastIndexOf(".")))>-1){const i=["com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant",e];if(!i.some(e=>t.search(new RegExp(`${e}(#|/|$)`))>-1)){throw new Error(`Annotation Path ${t} mentioned in the manifest is not valid for ${e}`)}}}};h.getSortConditions.requiresIContext=true;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/DelegateUtil",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating"],function(t,e,i,n,a,r){"use strict";var o=r.generateID;var l=n.getRelativePropertyPath;var s=i.generate;const c="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1";function u(){this.control.detachModelContextChange(u,this);const t=this.modelName,e=this.control.getModel(t);if(e){this.resolve(e)}else{this.control.attachModelContextChange(u,this)}}async function p(t,e,i){const n=[];const a=await Promise.resolve().then(i.getAggregation.bind(i,t,"customData"));const r=a.reduce((t,a)=>t.then(i.getProperty.bind(i,a,"key")).then(function(t){if(t===e){n.push(a)}}),Promise.resolve());await r;if(n.length===1){return i.getProperty(n[0],"value")}else{return undefined}}const d="sap_fe_ControlDelegate_propertyInfoMap";const f={setCachedProperties(t,e){if(t instanceof window.Element){return}const i=d;f.setCustomData(t,i,e)},getCachedProperties(t){if(t instanceof window.Element){return null}const e=d;return f.getCustomData(t,e)},getCustomData(t,e,i){if(i){return p(t,e,i)}else{if(t&&e){if(t instanceof window.Element){return t.getAttributeNS(c,e)}if(t.data instanceof Function){return t.data(e)}}return undefined}},setCustomData(t,e,i){if(t&&e){if(t instanceof window.Element){return t.setAttributeNS(c,`customData:${e}`,i)}if(t.data instanceof Function){return t.data(e,i)}}},fetchPropertiesForEntity(t,e){return e.requestObject(`${t}/`)},fetchAnnotationsForEntity(t,e){return e.requestObject(`${t}@`)},fetchModel(t){return new Promise(e=>{const i=t.getDelegate().payload&&t.getDelegate().payload.modelName,n={modelName:i,control:t,resolve:e};u.call(n)})},templateControlFragment(t,i,n,a){return e.templateControlFragment(t,i,n,a)},doesValueHelpExist(t){const e=t.sPropertyName||"";const i=t.sValueHelpType||"";const n=t.oMetaModel;const r=t.oModifier;const c=`${t.sBindingPath}/${e}`;const u=n.createBindingContext(c);let p=a.valueHelpProperty(u);const d=t.sBindingPath&&t.sBindingPath.indexOf("/")===0;if(p.indexOf("$Path")>-1){p=n.getObject(p)}if(d&&p.indexOf("/")!==0){p=`${t.sBindingPath}/${p}`}const f=o(t.flexId,s([r?r.getId(t.oControl):t.oControl.getId(),i]),l(u.getProperty(c),{context:{getModel:()=>t.oMetaModel,getPath:()=>c}}),l(u.getProperty(p),{context:{getModel:()=>t.oMetaModel,getPath:()=>p}}));return Promise.resolve().then(function(){if(r){return r.getAggregation(t.oControl,"dependents")}return t.oControl.getAggregation("dependents")}).then(function(t){return Promise.resolve(t&&t.some(function(t){return r?r.getId(t)===f:t.getId()===f}))})},isValueHelpRequired(e,i){const n=e.sPropertyName||"",r=e.oMetaModel,o=`${e.sBindingPath}/${n}`,l=r.createBindingContext(o),s=a.valueHelpProperty(l,i);return this.getCustomData(e.oControl,"displayModePropertyBinding",e.oModifier).then(function(t){t=typeof t==="boolean"?t:t==="true";if(t){return false}return Promise.all([r.requestObject(`${s}@com.sap.vocabularies.Common.v1.ValueListWithFixedValues`),r.requestObject(`${s}@com.sap.vocabularies.Common.v1.ValueListReferences`),r.requestObject(`${s}@com.sap.vocabularies.Common.v1.ValueListMapping`),r.requestObject(`${s}@com.sap.vocabularies.Common.v1.ValueList`)])}).then(function(t){return!!t[0]||!!t[1]||!!t[2]||!!t[3]}).catch(function(e){t.warning("Error while retrieving custom data / value list annotation values",e)})},isMultiValue(t){let e=true;switch(t.filterExpression){case"SearchExpression":case"SingleRange":case"SingleValue":e=false;break;default:break}if(t.type&&t.type.indexOf("Boolean")>0){e=false}return e}};return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/MacroAPI",["sap/base/util/merge","sap/base/util/uid","sap/fe/core/converters/ConverterContext","sap/fe/core/helpers/ClassSupport","sap/ui/core/Component","sap/ui/core/Control"],function(t,e,i,n,a,r){"use strict";var o,l,s,c,u,p,d,f,m,g,h,b;var v=n.property;var y=n.implementInterface;var P=n.defineUI5Class;var C=n.aggregation;function D(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function $(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function x(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;T(t,e)}function T(t,e){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return T(t,e)}function F(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function O(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const I="sap.fe.macros.MacroAPI";let M=(o=P(I),l=y("sap.ui.core.IFormContent"),s=v({type:"string"}),c=v({type:"string"}),u=C({type:"sap.ui.core.Control",multiple:false,isDefault:true}),o(p=(d=(b=function(t){x(e,t);function e(i){var n;for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++){r[o-1]=arguments[o]}n=t.call(this,i,...r)||this;D(n,"__implements__sap_ui_core_IFormContent",f,$(n));D(n,"contextPath",m,$(n));D(n,"metaPath",g,$(n));D(n,"content",h,$(n));n.parentContextToBind={};e.registerInstance($(n));return n}var i=e.prototype;i.init=function e(){t.prototype.init.call(this);if(!this.getModel("_pageModel")){var i;const t=(i=a.getOwnerComponentFor(this))===null||i===void 0?void 0:i.getModel("_pageModel");if(t){this.setModel(t,"_pageModel")}}};e.registerInstance=function t(e){if(!this.instanceMap.get(e.constructor)){this.instanceMap.set(e.constructor,[])}this.instanceMap.get(e.constructor).push(e)};e.render=function t(e,i){e.renderControl(i.content)};i.rerender=function t(){this.content.rerender()};i.getDomRef=function e(){const i=this.content;return i?i.getDomRef():t.prototype.getDomRef.call(this)};i.getController=function t(){return this.getModel("$view").getObject().getController()};e.getAPI=function t(e){let i=e.getSource();if(this.isDependentBound){while(i&&!i.isA(I)&&i.getParent){const t=i.getDependents();const e=t.find(t=>t.isA(I));if(e){i=e}else{i=i.getParent()}}}else{while(i&&!i.isA(I)&&i.getParent){i=i.getParent()}}if(!i||!i.isA(I)){const t=this.instanceMap.get(this);i=t===null||t===void 0?void 0:t[t.length-1]}return i&&i.isA(I)&&i};i.setParentBindingContext=function t(e,i){this.parentContextToBind[e]=i};i.setParent=function e(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}t.prototype.setParent.call(this,...n);Object.keys(this.parentContextToBind).forEach(t=>{this.getParent().bindObject({path:this.parentContextToBind[t],model:t,events:{change:function(){const t=this.getBoundContext();if(t&&!t.getObject()){t.setProperty("",{})}}}})})};return e}(r),b.namespace="sap.fe.macros",b.macroName="Macro",b.fragment="sap.fe.macros.Macro",b.hasValidation=true,b.instanceMap=new WeakMap,b.isDependentBound=false,b.getConverterContext=function(e,n,a){const r=a.appComponent;const o=a.models.viewData&&a.models.viewData.getData();return i.createConverterContextForMacro(e.startingEntitySet.name,a.models.metaModel,r&&r.getDiagnostics(),t,e.contextLocation,o)},b.createBindingContext=function(t,i){const n=`/uid--${e()}`;i.models.converterContext.setProperty(n,t);return i.models.converterContext.createBindingContext(n)},b),f=F(d.prototype,"__implements__sap_ui_core_IFormContent",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),m=F(d.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),g=F(d.prototype,"metaPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),h=F(d.prototype,"content",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||p);return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/MacroTemplating",[],function(){"use strict";var t={};const e=function(t,e){if(e&&e.context){return e.context.getPath()}return""};e.requiresIContext=true;t.getPath=e;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/actions/CustomAction.block",["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/core/helpers/FPMHelper","sap/m/Button","sap/fe/core/jsx-runtime/jsx"],function(t,e,i,n,a,r){"use strict";var o,l,s,c,u,p,d;var f={};var m=t.defineBuildingBlock;var g=t.blockAttribute;function h(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function v(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;y(t,e)}function y(t,e){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return y(t,e)}function P(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function C(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let D=(o=m({name:"CustomAction",namespace:"sap.fe.macros.actions"}),l=g({type:"object",required:true}),s=g({type:"string",required:true}),o(c=(u=function(t){v(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;h(e,"action",p,b(e));h(e,"id",d,b(e));return e}f=e;var o=e.prototype;o.getContent=function t(){return r(a,{id:this.id,text:this.action.text??"",press:this.action.command?i.executeCommand(this.action.command):async t=>n.actionWrapper(t,this.action.handlerModule,this.action.handlerMethod,{}),type:"Transparent",visible:this.action.visible,enabled:this.action.enabled})};return e}(e),p=P(u.prototype,"action",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=P(u.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||c);f=D;return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/actions/DataFieldForAction.block",["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/controls/CommandExecution","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/MetaModelConverter","sap/fe/core/library","sap/fe/core/templating/CriticalityFormatters","sap/m/Button","sap/fe/core/jsx-runtime/jsx"],function(t,e,i,n,a,r,o,l,s){"use strict";var c,u,p,d,f,m,g,h,b;var v={};var y=a.getInvolvedDataModelObjects;var P=n.isActionWithDialog;var C=t.defineBuildingBlock;var D=t.blockAttribute;function $(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function T(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;F(t,e)}function F(t,e){F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return F(t,e)}function O(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function I(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let M=(c=C({name:"DataFieldForAction",namespace:"sap.fe.macros.actions"}),u=D({type:"object",required:true}),p=D({type:"sap.ui.model.Context",required:true}),d=D({type:"string",required:true}),c(f=(m=function(t){T(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;$(e,"action",g,x(e));$(e,"contextPath",h,x(e));$(e,"id",b,x(e));return e}v=e;var n=e.prototype;n.getContent=function t(e){const n=y(this.contextPath);const a=this.contextPath.getModel();const c=this.action.annotationPath;if(c){const t=a.getContext(c);const p=y(t);const d=p.targetObject;if(d){var u;const t={entitySetName:(u=n.targetEntitySet)===null||u===void 0?void 0:u.name,invocationGrouping:d.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?r.InvocationGrouping.ChangeSet:r.InvocationGrouping.Isolated,label:d.Label,isNavigable:this.action.isNavigable,defaultValuesExtensionFunction:this.action.defaultValuesExtensionFunction};return s(l,{id:this.id,text:t.label,press:this.action.command?i.executeCommand(this.action.command):()=>{e.getController().handlers.onCallAction(e,d.Action,{...t,...{contexts:e.getBindingContext(),model:e.getModel()}})},ariaHasPopup:P(p.targetObject),visible:this.action.visible,enabled:this.action.enabled,type:o.buildExpressionForCriticalityButtonType(p)})}}};return e}(e),g=O(m.prototype,"action",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=O(m.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),b=O(m.prototype,"id",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||f);v=M;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/chart/Chart.block",["sap/base/Log","sap/base/util/uid","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/CommonHelper","sap/ui/core/library","sap/ui/model/json/JSONModel","../internal/helpers/ActionHelper","../internal/helpers/DefaultActionHandler","./ChartHelper"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v){"use strict";var y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V,j,R,U,k,N,H,z,W,q,G,Q,X,K,J,Y,Z,tt,et,it,nt,at,rt,ot,lt,st,ct,ut,pt,dt,ft,mt,gt,ht,bt,vt,yt,Pt,Ct,Dt,$t,xt,Tt,Ft;var Ot={};var It=m.TitleLevel;var Mt=d.getContextRelativeTargetObjectPath;var At=p.generate;var Et=c.resolveBindingString;var wt=s.getInvolvedDataModelObjects;var St=l.AggregationHelper;var Lt=o.getVisualizationsFromPresentationVariant;var _t=o.getDataVisualizationConfiguration;var Bt=r.isDataModelObjectPathForActionWithDialog;var Vt=a.xml;var jt=a.escapeXMLAttributeValue;var Rt=n.defineBuildingBlock;var Ut=n.blockEvent;var kt=n.blockAttribute;var Nt=n.blockAggregation;function Ht(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function zt(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Wt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;qt(t,e)}function qt(t,e){qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return qt(t,e)}function Gt(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function Qt(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const Xt={"com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis1":"axis1","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis2":"axis2","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis3":"axis3","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis4":"axis4"};var Kt;(function(t){t["Sort"]="Sort";t["Type"]="Type";t["Item"]="Item";t["Filter"]="Filter"})(Kt||(Kt={}));const Jt=function(t){var e;let i=null;const n=t;let a=[];const r=(e=n.getAttribute("key"))===null||e===void 0?void 0:e.replace("InlineXML_","");if(n.children.length&&n.localName==="ActionGroup"&&n.namespaceURI==="sap.fe.macros"){const t=Array.prototype.slice.apply(n.children);let e=0;i=t.reduce((t,i)=>{var n;const a=((n=i.getAttribute("key"))===null||n===void 0?void 0:n.replace("InlineXML_",""))||r+"_Menu_"+e;const o={key:a,text:i.getAttribute("text"),__noWrap:true,press:i.getAttribute("press"),requiresSelection:i.getAttribute("requiresSelection")==="true",enabled:i.getAttribute("enabled")===null?true:i.getAttribute("enabled")};t[o.key]=o;e++;return t},{});a=Object.values(i).slice(-n.children.length).map(function(t){return t.key})}return{key:r,text:n.getAttribute("text"),position:{placement:n.getAttribute("placement"),anchor:n.getAttribute("anchor")},__noWrap:true,press:n.getAttribute("press"),requiresSelection:n.getAttribute("requiresSelection")==="true",enabled:n.getAttribute("enabled")===null?true:n.getAttribute("enabled"),menu:a.length?a:null,menuContentActions:i}};let Yt=(y=Rt({name:"Chart",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros"}),P=kt({type:"string",isPublic:true}),C=kt({type:"object"}),D=kt({type:"sap.ui.model.Context",isPublic:true}),$=kt({type:"sap.ui.model.Context",isPublic:true}),x=kt({type:"string"}),T=kt({type:"string"}),F=kt({type:"string",isPublic:true}),O=kt({type:"boolean",isPublic:true}),I=kt({type:"sap.ui.core.TitleLevel",isPublic:true}),M=kt({type:"string",isPublic:true}),A=kt({type:"string|boolean",isPublic:true}),E=kt({type:"string",isPublic:true}),w=kt({type:"string"}),S=kt({type:"string"}),L=kt({type:"string"}),_=kt({type:"sap.ui.model.Context"}),B=kt({type:"boolean"}),V=kt({type:"boolean"}),j=kt({type:"string"}),R=kt({type:"string"}),U=kt({type:"string"}),k=kt({type:"string"}),N=kt({type:"boolean"}),H=kt({type:"string",isPublic:true}),z=Ut(),W=Ut(),q=Nt({type:"sap.fe.macros.internal.chart.Action | sap.fe.macros.internal.chart.ActionGroup",isPublic:true,processAggregations:Jt}),G=Ut(),Q=Ut(),y(X=(K=(Ft=function(i){Wt(n,i);function n(a,r,o){var l;l=i.call(this,a,r,o)||this;Ht(l,"id",J,zt(l));Ht(l,"chartDefinition",Y,zt(l));Ht(l,"metaPath",Z,zt(l));Ht(l,"contextPath",tt,zt(l));Ht(l,"height",et,zt(l));Ht(l,"width",it,zt(l));Ht(l,"header",nt,zt(l));Ht(l,"headerVisible",at,zt(l));Ht(l,"headerLevel",rt,zt(l));Ht(l,"selectionMode",ot,zt(l));Ht(l,"personalization",lt,zt(l));Ht(l,"filterBar",st,zt(l));Ht(l,"noDataText",ct,zt(l));Ht(l,"chartDelegate",ut,zt(l));Ht(l,"vizProperties",pt,zt(l));Ht(l,"chartActions",dt,zt(l));Ht(l,"draftSupported",ft,zt(l));Ht(l,"autoBindOnInit",mt,zt(l));Ht(l,"visible",gt,zt(l));Ht(l,"navigationPath",ht,zt(l));Ht(l,"filter",bt,zt(l));Ht(l,"measures",vt,zt(l));Ht(l,"_applyIdToContent",yt,zt(l));Ht(l,"variantManagement",Pt,zt(l));Ht(l,"variantSelected",Ct,zt(l));Ht(l,"variantSaved",Dt,zt(l));Ht(l,"actions",$t,zt(l));Ht(l,"selectionChange",xt,zt(l));Ht(l,"stateChange",Tt,zt(l));l._commandActions=[];l.createChartDefinition=(t,e,i)=>{var a,r;let o=Mt(e);if(((a=l.metaPath)===null||a===void 0?void 0:(r=a.getObject())===null||r===void 0?void 0:r.$Type)==="com.sap.vocabularies.UI.v1.PresentationVariantType"){const t=l.metaPath.getObject().Visualizations;o=n.checkChartVisualizationPath(t,o)}if(!o||i.indexOf(o)===-1){o=`@${"com.sap.vocabularies.UI.v1.Chart"}`}const s=_t(o,l.useCondensedLayout,t,undefined,undefined,undefined,true);return s.visualizations[0]};l.createBindingContext=function(t,i){const n=`/${e()}`;i.models.converterContext.setProperty(n,t);return i.models.converterContext.createBindingContext(n)};l.getChartMeasures=(e,i)=>{const n=e.chartDefinition.annotationPath.split("/");const a=n.filter(function(t,e){return n.indexOf(t)==e}).toString().replaceAll(",","/");const r=wt(l.metaPath.getModel().createBindingContext(a),l.contextPath).targetObject;const o=i.getAggregatedProperties("AggregatedProperty");let s=[];const c=e.metaPath.getPath();const u=i.getAggregatedProperties("AggregatedProperties");const p=r.Measures?r.Measures:[];const d=r.DynamicMeasures?r.DynamicMeasures:[];const f=u[0]?u[0].filter(function(t){return p.some(function(e){return t.Name===e.value})}):undefined;const m=c.replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant|SelectionPresentationVariant).*/,"");const h=e.chartDefinition.transAgg;const b=e.chartDefinition.customAgg;if(o.length>0&&!d&&f.length>0){t.warning("The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.")}const v=p.some(t=>{const e=l.getCustomAggMeasure(b,t);return!!e});if(o.length>0&&!d.length&&!v){throw new Error("Please configure DynamicMeasures for the chart")}if(o.length>0){for(const t of d){s=l.getDynamicMeasures(s,t,m,r)}}for(const t of p){const e=t.value;const i=l.getCustomAggMeasure(b,t);const n={};if(i){s=l.setCustomAggMeasure(s,n,i,e)}else if(o.length===0&&h[e]){s=l.setTransAggMeasure(s,n,h,e)}l.setChartMeasureAttributes(l._chart.MeasureAttributes,m,n)}const y=new g(s);y.$$valueAsPromise=true;return y.createBindingContext("/")};l.setCustomAggMeasure=(e,i,n,a)=>{if(a.indexOf("/")>-1){t.error(`$expand is not yet supported. Measure: ${a} from an association cannot be used`)}i.key=n.value;i.role="axis1";i.label=n.label;i.propertyPath=n.value;e.push(i);return e};l.setTransAggMeasure=(t,e,i,n)=>{const a=i[n];e.key=a.name;e.role="axis1";e.propertyPath=n;e.aggregationMethod=a.aggregationMethod;e.label=a.label||e.label;t.push(e);return t};l.getDynamicMeasures=(e,i,n,a)=>{var r;const o=i.value||"";const s=wt(l.metaPath.getModel().createBindingContext(n+o),l.contextPath).targetObject;if(o.indexOf("/")>-1){t.error(`$expand is not yet supported. Measure: ${o} from an association cannot be used`)}else if(!s){throw new Error(`Please provide the right AnnotationPath to the Dynamic Measure ${i.value}`)}else if(((r=i.value)===null||r===void 0?void 0:r.startsWith(`@${"com.sap.vocabularies.Analytics.v1.AggregatedProperty"}`))===null){throw new Error(`Please provide the right AnnotationPath to the Dynamic Measure ${i.value}`)}else{var c;const t={key:s.Name,role:"axis1"};t.propertyPath=s.AggregatableProperty.value;t.aggregationMethod=s.AggregationMethod;t.label=Et(((c=s.annotations.Common)===null||c===void 0?void 0:c.Label)||wt(l.metaPath.getModel().createBindingContext(n+t.propertyPath+`@${"com.sap.vocabularies.Common.v1.Label"}`),l.contextPath).targetObject);l.setChartMeasureAttributes(a.MeasureAttributes,n,t);e.push(t)}return e};l.getCustomAggMeasure=(t,e)=>{if(e.value&&t[e.value]){var i;e.label=(i=t[e.value])===null||i===void 0?void 0:i.label;return e}return null};l.setChartMeasureAttributes=(t,e,i)=>{if(t!==null&&t!==void 0&&t.length){for(const n of t){l._setChartMeasureAttribute(n,e,i)}}};l._setChartMeasureAttribute=(t,e,i)=>{var n,a,r;const o=t.DynamicMeasure?t===null||t===void 0?void 0:(n=t.DynamicMeasure)===null||n===void 0?void 0:n.value:t===null||t===void 0?void 0:(a=t.Measure)===null||a===void 0?void 0:a.value;const s=t.DataPoint?t===null||t===void 0?void 0:(r=t.DataPoint)===null||r===void 0?void 0:r.value:null;const c=t.Role;const u=s&&wt(l.metaPath.getModel().createBindingContext(e+s),l.contextPath).targetObject;if(i.key===o){l.setMeasureRole(i,c);l.setMeasureDataPoint(i,u)}};l.setMeasureDataPoint=(t,e)=>{if(e&&e.Value.$Path==t.key){t.dataPoint=v.formatJSONToString(l.createDataPointProperty(e))||""}};l.setMeasureRole=(t,e)=>{if(e){const i=e.$EnumMember;t.role=Xt[i]}};l.getDependents=t=>{if(l._commandActions.length>0){return l._commandActions.map(e=>l.getActionCommand(e,t))}return Vt``};l.checkPersonalizationInChartProperties=t=>{if(t.personalization){if(t.personalization==="false"){l.personalization=undefined}else if(t.personalization==="true"){l.personalization=Object.values(Kt).join(",")}else if(l.verifyValidPersonlization(t.personalization)===true){l.personalization=t.personalization}else{l.personalization=undefined}}};l.verifyValidPersonlization=t=>{let e=true;const i=t.split(",");const n=Object.values(Kt);i.forEach(t=>{if(!n.includes(t)){e=false}});return e};l.getVariantManagement=(t,e)=>{let i=t.variantManagement?t.variantManagement:e.variantManagement;i=l.personalization===undefined?"None":i;return i};l.createVariantManagement=()=>{const e=l.personalization;if(e){const t=l.variantManagement;if(t==="Control"){return Vt`
					<mdc:variant>
					<variant:VariantManagement
						id="${At([l.id,"VM"])}"
						for="${l.id}"
						showSetAsDefault="${true}"
						select="${l.variantSelected}"
						headerLevel="${l.headerLevel}"
						save="${l.variantSaved}"
					/>
					</mdc:variant>
			`}else if(t==="None"||t==="Page"){return Vt``}}else if(!e){t.warning("Variant Management cannot be enabled when personalization is disabled")}return Vt``};l.getPersistenceProvider=()=>{if(l.variantManagement==="None"){return Vt`<p13n:PersistenceProvider id="${At([l.id,"PersistenceProvider"])}" for="${l.id}"/>`}return Vt``};l.pushActionCommand=(t,e,i,n)=>{if(e){const a={actionContext:t,onExecuteAction:v.getPressEventForDataFieldForActionButton(l.id,e,i||""),onExecuteIBN:f.getPressHandlerForDataFieldForIBN(e,`\${internal>selectedContexts}`,false),onExecuteManifest:f.buildActionWrapper(n,zt(l))};l._commandActions.push(a)}};l.getActionCommand=(t,e)=>{const i=t.actionContext.getObject();const n=i.annotationPath&&l.contextPath.getModel().createBindingContext(i.annotationPath);const a=n&&n.getObject();const r=l.contextPath.getModel().createBindingContext(i.annotationPath+"/Action");const o=f.getActionContext(r);const s=f.getPathToBoundActionOverload(r);const c=l.contextPath.getModel().createBindingContext(s).getObject();const u=jt(v.getOperationAvailableMap(e.getObject(),{context:e}));const p=i.enabled?i.enabled:v.isDataFieldForActionButtonEnabled(c&&c.$IsBound,a.Action,l.contextPath,u||"",i.enableOnSelect||"");let d;if(i.enabled){d=i.enabled}else if(a.RequiresContext){d="{= %{internal>numberOfSelectedContexts} >= 1}"}const m=Vt`<internalMacro:ActionCommand
		action="${i}"
		onExecuteAction="${t.onExecuteAction}"
		onExecuteIBN="${t.onExecuteIBN}"
		onExecuteManifest="${t.onExecuteManifest}"
		isIBNEnabled="${d}"
		isActionEnabled="${p}"
		visible="${l.getVisible(n)}"
	/>`;if(i.type=="ForAction"&&(!c||c.IsBound!==true||o[`@${"Org.OData.Core.V1.OperationAvailable"}`]!==false)){return m}else if(i.type=="ForAction"){return Vt``}else{return m}};l.getItems=t=>{if(l._chart){const e=[];const i=[];if(l._chart.Dimensions){v.formatDimensions(t).getObject().forEach(t=>{t.id=At([l.id,"dimension",t.key]);e.push(l.getItem({id:t.id,key:t.key,label:t.label,role:t.role},"_fe_groupable_","groupable"))})}if(l.measures){v.formatMeasures(l.measures).forEach(t=>{t.id=At([l.id,"measure",t.key]);i.push(l.getItem({id:t.id,key:t.key,label:t.label,role:t.role},"_fe_aggregatable_","aggregatable"))})}if(e.length&&i.length){return e.concat(i)}}return Vt``};l.getItem=(t,e,i)=>Vt`<chart:Item
			id="${t.id}"
			name="${e+t.key}"
			type="${i}"
			label="${Et(t.label,"string")}"
			role="${t.role}"
		/>`;l.getToolbarActions=t=>{var e;const i=l.getActions(t);if((e=l.chartDefinition)!==null&&e!==void 0&&e.onSegmentedButtonPressed){i.push(l.getSegmentedButton())}if(i.length>0){return Vt`<mdc:actions>${i}</mdc:actions>`}return Vt``};l.getActions=t=>{var e;let i=(e=l.chartActions)===null||e===void 0?void 0:e.getObject();i=l.removeMenuItems(i);return i.map(e=>{if(e.annotationPath){return l.getAction(e,t,false)}else if(e.hasOwnProperty("noWrap")){return l.getCustomActions(e,t)}})};l.removeMenuItems=t=>{for(const e of t){if(e.menu){e.menu.forEach(e=>{if(t.indexOf(e)!==-1){t.splice(t.indexOf(e),1)}})}}return t};l.getCustomActions=(t,e)=>{let i=t.enabled;if((t.requiresSelection??false)&&t.enabled==="true"){i="{= %{internal>numberOfSelectedContexts} >= 1}"}if(t.type==="Default"){return l.getActionToolbarAction(t,{id:At([l.id,t.id]),unittestid:"DataFieldForActionButtonAction",label:t.text?t.text:"",ariaHasPopup:undefined,press:t.press?t.press:"",enabled:i,visible:t.visible?t.visible:false},false)}else if(t.type==="Menu"){return l.getActionToolbarMenuAction({id:At([l.id,t.id]),text:t.text,visible:t.visible,enabled:i,useDefaultActionOnly:b.getUseDefaultActionOnly(t),buttonMode:b.getButtonMode(t),defaultAction:undefined,actions:t},e)}};l.getMenuItemFromMenu=(t,e)=>{let i;if(t.annotationPath){return l.getAction(t,e,true)}if(t.command){i="cmd:"+t.command}else if(t.noWrap??false){i=t.press}else{i=f.buildActionWrapper(t,zt(l))}return Vt`<MenuItem
		core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
		text="${t.text}"
		press="${i}"
		visible="${t.visible}"
		enabled="${t.enabled}"
	/>`};l.getActionToolbarMenuAction=(t,e)=>{var i,n;const a=(i=t.actions)===null||i===void 0?void 0:(n=i.menu)===null||n===void 0?void 0:n.map(t=>l.getMenuItemFromMenu(t,e));return Vt`<mdcat:ActionToolbarAction>
			<MenuButton
			text="${t.text}"
			type="Transparent"
			menuPosition="BeginBottom"
			id="${t.id}"
			visible="${t.visible}"
			enabled="${t.enabled}"
			useDefaultActionOnly="${t.useDefaultActionOnly}"
			buttonMode="${t.buttonMode}"
			defaultAction="${t.defaultAction}"
			>
				<menu>
					<Menu>
						${a}
					</Menu>
				</menu>
			</MenuButton>
		</mdcat:ActionToolbarAction>`};l.getAction=(t,e,i)=>{const n=l.contextPath.getModel().createBindingContext(t.annotationPath||"");if(t.type==="ForNavigation"){return l.getNavigationActions(t,n,i)}else if(t.type==="ForAction"){return l.getAnnotationActions(e,t,n,i)}return Vt``};l.getNavigationActions=(t,e,i)=>{let n="true";const a=e.getObject();if(t.enabled!==undefined){n=t.enabled}else if(a.RequiresContext){n="{= %{internal>numberOfSelectedContexts} >= 1}"}return l.getActionToolbarAction(t,{id:undefined,unittestid:"DataFieldForIntentBasedNavigationButtonAction",label:a.Label,ariaHasPopup:undefined,press:f.getPressHandlerForDataFieldForIBN(a,`\${internal>selectedContexts}`,false),enabled:n,visible:l.getVisible(e)},i)};l.getAnnotationActions=(t,e,i,n)=>{const a=l.contextPath.getModel().createBindingContext(e.annotationPath+"/Action");const r=l.contextPath.getModel().createBindingContext(f.getActionContext(a));const o=r.getObject();const s=f.getPathToBoundActionOverload(a);const c=l.contextPath.getModel().createBindingContext(s).getObject();const u=i.getObject();if(!c||c.$IsBound!==true||o[`@${"Org.OData.Core.V1.OperationAvailable"}`]!==false){const a=l.getAnnotationActionsEnabled(e,c,u,t);const r=wt(l.contextPath.getModel().createBindingContext(e.annotationPath));const o=Bt(r);const s=jt(v.getOperationAvailableMap(t.getObject(),{context:t}))||"";return l.getActionToolbarAction(e,{id:At([l.id,wt(i)]),unittestid:"DataFieldForActionButtonAction",label:u.Label,ariaHasPopup:o,press:v.getPressEventForDataFieldForActionButton(l.id,u,s),enabled:a,visible:l.getVisible(i)},n)}return Vt``};l.getActionToolbarAction=(t,e,i)=>{if(i){return Vt`
			<MenuItem
				text="${e.label}"
				press="${t.command?"cmd:"+t.command:e.press}"
				enabled="${e.enabled}"
				visible="${e.visible}"
			/>`}else{return l.buildAction(t,e)}};l.buildAction=(t,e)=>{let i="";if(t.hasOwnProperty("noWrap")){if(t.command){i="cmd:"+t.command}else if(t.noWrap===true){i=e.press}else if(!t.annotationPath){i=f.buildActionWrapper(t,zt(l))}return Vt`<mdcat:ActionToolbarAction>
			<Button
				core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
				unittest:id="${e.unittestid}"
				id="${e.id}"
				text="${e.label}"
				ariaHasPopup="${e.ariaHasPopup}"
				press="${i}"
				enabled="${e.enabled}"
				visible="${e.visible}"
			/>
		   </mdcat:ActionToolbarAction>`}else{return Vt`<mdcat:ActionToolbarAction>
			<Button
				unittest:id="${e.unittestid}"
				id="${e.id}"
				text="${e.label}"
				ariaHasPopup="${e.ariaHasPopup}"
				press="${t.command?"cmd:"+t.command:e.press}"
				enabled="${e.enabled}"
				visible="${e.visible}"
			/>
		</mdcat:ActionToolbarAction>`}};l.getAnnotationActionsEnabled=(t,e,i,n)=>t.enabled!==undefined?t.enabled:v.isDataFieldForActionButtonEnabled(e&&e.$IsBound,i.Action,l.contextPath,v.getOperationAvailableMap(n.getObject(),{context:n}),t.enableOnSelect||"");l.getSegmentedButton=()=>Vt`<mdcat:ActionToolbarAction layoutInformation="{
			aggregationName: 'end',
			alignment: 'End'
		}">
			<SegmentedButton
				id="${At([l.id,"SegmentedButton","TemplateContentView"])}"
				select="${l.chartDefinition.onSegmentedButtonPressed}"
				visible="{= \${pageInternal>alpContentView} !== 'Table' }"
				selectedKey="{pageInternal>alpContentView}"
			>
				<items>
					${l.getSegmentedButtonItems()}
				</items>
			</SegmentedButton>
		</mdcat:ActionToolbarAction>`;l.getSegmentedButtonItems=()=>{const t=[];if(f.isDesktop()){t.push(l.getSegmentedButtonItem("{sap.fe.i18n>M_COMMON_HYBRID_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Hybrid","sap-icon://chart-table-view"))}t.push(l.getSegmentedButtonItem("{sap.fe.i18n>M_COMMON_CHART_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Chart","sap-icon://bar-chart"));t.push(l.getSegmentedButtonItem("{sap.fe.i18n>M_COMMON_TABLE_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Table","sap-icon://table-view"));return t};l.getSegmentedButtonItem=(t,e,i)=>Vt`<SegmentedButtonItem
			tooltip="${t}"
			key="${e}"
			icon="${i}"
		/>`;l.getVisible=t=>{const e=t.getObject();if(e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]&&e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path){const i=l.contextPath.getModel().createBindingContext(t.getPath()+`/@${"com.sap.vocabularies.UI.v1.Hidden"}/$Path`,e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path);return v.getHiddenPathExpressionForTableActionsAndIBN(e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path,{context:i})}else if(e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]){return!e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]}else{return true}};l.getContextPath=()=>l.contextPath.getPath().lastIndexOf("/")===l.contextPath.getPath().length-1?l.contextPath.getPath().replaceAll("/",""):l.contextPath.getPath().split("/")[l.contextPath.getPath().split("/").length-1];const s=wt(l.metaPath,l.contextPath);const c=l.getConverterContext(s,undefined,o);const p=n.getVisualizationPath(zt(l),s,c);const d=n.getExtraParams(zt(l),p);const m=l.getConverterContext(s,undefined,o,d);const y=new St(m.getEntityType(),m);l._chartContext=v.getUiChart(l.metaPath);l._chart=l._chartContext.getObject();if(l._applyIdToContent??false){l._apiId=l.id+"::Chart";l._contentId=l.id}else{l._apiId=l.id;l._contentId=l.getContentId(l.id)}if(l._chart){var P,C,D,$,x,T,F;l.chartDefinition=l.chartDefinition===undefined||l.chartDefinition===null?l.createChartDefinition(m,s,l._chartContext.getPath()):l.chartDefinition;l.navigationPath=l.chartDefinition.navigationPath;l.autoBindOnInit=l.chartDefinition.autoBindOnInit;l.vizProperties=l.chartDefinition.vizProperties;l.chartActions=l.createBindingContext(l.chartDefinition.actions,o);l.selectionMode=l.selectionMode.toUpperCase();if(l.filterBar){l.filter=l.getContentId(l.filterBar)}else if(!l.filter){l.filter=l.chartDefinition.filterId}l.checkPersonalizationInChartProperties(zt(l));l.variantManagement=l.getVariantManagement(zt(l),l.chartDefinition);l.visible=l.chartDefinition.visible;let t=l.contextPath.getPath();t=t[t.length-1]==="/"?t.slice(0,-1):t;l.draftSupported=u.isDraftSupported(o.models.metaModel,t);l._chartType=v.formatChartType(l._chart.ChartType);const e=v.getOperationAvailableMap(l._chart,{context:l._chartContext});if(Object.keys((P=l.chartDefinition)===null||P===void 0?void 0:P.commandActions).length>0){var O;Object.keys((O=l.chartDefinition)===null||O===void 0?void 0:O.commandActions).forEach(t=>{var i;const n=(i=l.chartDefinition)===null||i===void 0?void 0:i.commandActions[t];const a=l.createBindingContext(n,o);const r=n.annotationPath&&l.contextPath.getModel().createBindingContext(n.annotationPath);const s=r&&r.getObject();const c=jt(e);l.pushActionCommand(a,s,c,n)})}l.measures=l.getChartMeasures(zt(l),y);const i=f.createPresentationPathContext(l.metaPath);l._sortCondtions=v.getSortConditions(l.metaPath,l.metaPath.getObject(),i.getPath(),l.chartDefinition.applySupported);const n=l.contextPath.getModel().createBindingContext(l._chartContext.getPath()+"/Actions",l._chart.Actions);const a=l.contextPath.getModel().createBindingContext(l.contextPath.getPath(),l.contextPath);const r=f.getContextPath(l.contextPath,{context:a});const c=f.getTargetCollectionPath(l.contextPath);const p=l.contextPath.getModel().createBindingContext(c,l.contextPath);const d=(C=s.convertedTypes.resolvePath(n.getPath()))===null||C===void 0?void 0:C.target;l._customData={targetCollectionPath:r,entitySet:typeof p.getObject()==="string"?p.getObject():p.getObject("@sapui.name"),entityType:r+"/",operationAvailableMap:f.stringifyCustomData(JSON.parse(e)),multiSelectDisabledActions:h.getMultiSelectDisabledActions(d)+"",segmentedButtonId:At([l.id,"SegmentedButton","TemplateContentView"]),customAgg:f.stringifyCustomData((D=l.chartDefinition)===null||D===void 0?void 0:D.customAgg),transAgg:f.stringifyCustomData(($=l.chartDefinition)===null||$===void 0?void 0:$.transAgg),applySupported:f.stringifyCustomData((x=l.chartDefinition)===null||x===void 0?void 0:x.applySupported),vizProperties:l.vizProperties,draftSupported:l.draftSupported,multiViews:(T=l.chartDefinition)===null||T===void 0?void 0:T.multiViews,selectionPresentationVariantPath:f.stringifyCustomData({data:(F=l.chartDefinition)===null||F===void 0?void 0:F.selectionPresentationVariantPath})};l._actions=l.chartActions?l.getToolbarActions(l._chartContext):Vt``}else{l.autoBindOnInit=false;l.visible="true";l.navigationPath="";l._actions="";l._customData={targetCollectionPath:"",entitySet:"",entityType:"",operationAvailableMap:"",multiSelectDisabledActions:"",segmentedButtonId:"",customAgg:"",transAgg:"",applySupported:"",vizProperties:""}}return l}Ot=n;var a=n.prototype;a.getContentId=function t(e){return`${e}-content`};n.getExtraParams=function t(e,i){const n={};if(e.actions){var a;(a=Object.values(e.actions))===null||a===void 0?void 0:a.forEach(t=>{e.actions={...e.actions,...t.menuContentActions};delete t.menuContentActions})}if(i){n[i]={actions:e.actions}}return n};a.createDataPointProperty=function t(e){const i={};if(e.TargetValue){i.targetValue=e.TargetValue.$Path}if(e.ForeCastValue){i.foreCastValue=e.ForeCastValue.$Path}let n=null;if(e.Criticality){if(e.Criticality.$Path){n={Calculated:e.Criticality.$Path}}else{n={Static:e.Criticality.$EnumMember.replace("com.sap.vocabularies.UI.v1.CriticalityType/","")}}}else if(e.CriticalityCalculation){const t={};const i=this.buildThresholds(t,e.CriticalityCalculation);if(i){n={ConstantThresholds:t}}else{n={DynamicThresholds:t}}}if(n){i.criticality=n}return i};a.buildThresholds=function t(e,i){const n=["AcceptanceRangeLowValue","AcceptanceRangeHighValue","ToleranceRangeLowValue","ToleranceRangeHighValue","DeviationRangeLowValue","DeviationRangeHighValue"];let a=true,r,o,l;e.ImprovementDirection=i.ImprovementDirection.$EnumMember.replace("com.sap.vocabularies.UI.v1.ImprovementDirectionType/","");const s={oneSupplied:false,usedMeasures:[]};const c={oneSupplied:false};for(o=0;o<n.length;o++){r=n[o];s[r]=i[r]?i[r].$Path:undefined;s.oneSupplied=s.oneSupplied||s[r];if(!s.oneSupplied){c[r]=i[r];c.oneSupplied=c.oneSupplied||c[r]}else if(s[r]){s.usedMeasures.push(s[r])}}if(s.oneSupplied){a=false;for(o=0;o<n.length;o++){if(s[n[o]]){e[n[o]]=s[n[o]]}}e.usedMeasures=s.usedMeasures}else{let t;e.AggregationLevels=[];if(c.oneSupplied){t={VisibleDimensions:null};for(o=0;o<n.length;o++){if(c[n[o]]){t[n[o]]=c[n[o]]}}e.AggregationLevels.push(t)}if(i.ConstantThresholds&&i.ConstantThresholds.length>0){for(o=0;o<i.ConstantThresholds.length;o++){const a=i.ConstantThresholds[o];const r=a.AggregationLevel?[]:null;if(a.AggregationLevel&&a.AggregationLevel.length>0){for(l=0;l<a.AggregationLevel.length;l++){r.push(a.AggregationLevel[l].$PropertyPath)}}t={VisibleDimensions:r};for(l=0;l<n.length;l++){const e=a[n[l]];if(e){t[n[l]]=e}}e.AggregationLevels.push(t)}}}return a};a.getTemplate=function t(){let e="";if(this._customData.targetCollectionPath===""){this.noDataText=this.getTranslatedText("M_CHART_NO_ANNOTATION_SET_TEXT")}if(this.chartDelegate){e=this.chartDelegate}else{const t=this.getContextPath();e="{name:'sap/fe/macros/chart/ChartDelegate', payload: {contextPath: '"+t+"', parameters:{$$groupId:'$auto.Workers'}, selectionMode: '"+this.selectionMode+"'}}"}const i="{internal>controls/"+this.id+"}";if(!this.header){var n,a;this.header=(n=this._chart)===null||n===void 0?void 0:(a=n.Title)===null||a===void 0?void 0:a.toString()}return Vt`
			<macro:ChartAPI xmlns="sap.m" xmlns:macro="sap.fe.macros.chart" xmlns:variant="sap.ui.fl.variants" xmlns:p13n="sap.ui.mdc.p13n" xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1" xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:internalMacro="sap.fe.macros.internal" xmlns:chart="sap.ui.mdc.chart" xmlns:mdc="sap.ui.mdc" xmlns:mdcat="sap.ui.mdc.actiontoolbar" xmlns:core="sap.ui.core" id="${this._apiId}" selectionChange="${this.selectionChange}" stateChange="${this.stateChange}">
				<macro:layoutData>
					<FlexItemData growFactor="1" shrinkFactor="1" />
				</macro:layoutData>
				<mdc:Chart
					binding="${i}"
					unittest:id="ChartMacroFragment"
					id="${this._contentId}"
					chartType="${this._chartType}"
					sortConditions="${this._sortCondtions}"
					header="${this.header}"
					headerVisible="${this.headerVisible}"
					height="${this.height}"
					width="${this.width}"
					headerLevel="${this.headerLevel}"
					p13nMode="${this.personalization}"
					filter="${this.filter}"
					noDataText="${this.noDataText}"
					autoBindOnInit="${this.autoBindOnInit}"
					delegate="${e}"
					macrodata:targetCollectionPath="${this._customData.targetCollectionPath}"
					macrodata:entitySet="${this._customData.entitySet}"
					macrodata:entityType="${this._customData.entityType}"
					macrodata:operationAvailableMap="${this._customData.operationAvailableMap}"
					macrodata:multiSelectDisabledActions="${this._customData.multiSelectDisabledActions}"
					macrodata:segmentedButtonId="${this._customData.segmentedButtonId}"
					macrodata:customAgg="${this._customData.customAgg}"
					macrodata:transAgg="${this._customData.transAgg}"
					macrodata:applySupported="${this._customData.applySupported}"
					macrodata:vizProperties="${this._customData.vizProperties}"
					macrodata:draftSupported="${this._customData.draftSupported}"
					macrodata:multiViews="${this._customData.multiViews}"
					macrodata:selectionPresentationVariantPath="${this._customData.selectionPresentationVariantPath}"
					visible="${this.visible}"
				>
				<mdc:dependents>
					${this.getDependents(this._chartContext)}
					${this.getPersistenceProvider()}
				</mdc:dependents>
				<mdc:items>
					${this.getItems(this._chartContext)}
				</mdc:items>
				${this._actions}
				${this.createVariantManagement()}
			</mdc:Chart>
		</macro:ChartAPI>`};return n}(i),Ft.checkChartVisualizationPath=(t,e)=>{t.forEach(function(t){if(t.$AnnotationPath.indexOf(`@${"com.sap.vocabularies.UI.v1.Chart"}`)>-1){e=t.$AnnotationPath}});return e},Ft.getVisualizationPath=(e,i,n)=>{var a;const r=Mt(i);if(!r){t.error(`Missing metapath parameter for Chart`);return`@${"com.sap.vocabularies.UI.v1.Chart"}`}if(i.targetObject.term==="com.sap.vocabularies.UI.v1.Chart"){return r}const o=n.getEntityTypeAnnotation(r);let l=[];switch((a=i.targetObject)===null||a===void 0?void 0:a.term){case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":if(i.targetObject.PresentationVariant){l=Lt(i.targetObject.PresentationVariant,r,o.converterContext,true)}break;case"com.sap.vocabularies.UI.v1.PresentationVariant":l=Lt(i.targetObject,r,o.converterContext,true);break}const s=l.find(t=>t.visualization.term==="com.sap.vocabularies.UI.v1.Chart");if(s){return s.annotationPath}else{t.error(`Bad metapath parameter for chart: ${i.targetObject.term}`);return`@${"com.sap.vocabularies.UI.v1.Chart"}`}},Ft),J=Gt(K.prototype,"id",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=Gt(K.prototype,"chartDefinition",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Gt(K.prototype,"metaPath",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=Gt(K.prototype,"contextPath",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),et=Gt(K.prototype,"height",[x],{configurable:true,enumerable:true,writable:true,initializer:function(){return"100%"}}),it=Gt(K.prototype,"width",[T],{configurable:true,enumerable:true,writable:true,initializer:function(){return"100%"}}),nt=Gt(K.prototype,"header",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),at=Gt(K.prototype,"headerVisible",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=Gt(K.prototype,"headerLevel",[I],{configurable:true,enumerable:true,writable:true,initializer:function(){return It.Auto}}),ot=Gt(K.prototype,"selectionMode",[M],{configurable:true,enumerable:true,writable:true,initializer:function(){return"MULTIPLE"}}),lt=Gt(K.prototype,"personalization",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),st=Gt(K.prototype,"filterBar",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),ct=Gt(K.prototype,"noDataText",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=Gt(K.prototype,"chartDelegate",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=Gt(K.prototype,"vizProperties",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=Gt(K.prototype,"chartActions",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),ft=Gt(K.prototype,"draftSupported",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),mt=Gt(K.prototype,"autoBindOnInit",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),gt=Gt(K.prototype,"visible",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=Gt(K.prototype,"navigationPath",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),bt=Gt(K.prototype,"filter",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),vt=Gt(K.prototype,"measures",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),yt=Gt(K.prototype,"_applyIdToContent",[N],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Pt=Gt(K.prototype,"variantManagement",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),Ct=Gt(K.prototype,"variantSelected",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),Dt=Gt(K.prototype,"variantSaved",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),$t=Gt(K.prototype,"actions",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),xt=Gt(K.prototype,"selectionChange",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),Tt=Gt(K.prototype,"stateChange",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),K))||X);Ot=Yt;return Ot},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/chart/ChartAPI",["sap/base/util/merge","sap/fe/core/helpers/ClassSupport","sap/fe/macros/chart/ChartRuntime","sap/fe/macros/filter/FilterUtils","sap/fe/macros/MacroAPI"],function(t,e,i,n,a){"use strict";var r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_;var B=e.xmlEventHandler;var V=e.property;var j=e.event;var R=e.defineUI5Class;var U=e.aggregation;function k(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function N(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function H(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;z(t,e)}function z(t,e){z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return z(t,e)}function W(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function q(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let G=(r=R("sap.fe.macros.chart.ChartAPI"),o=V({type:"string"}),l=V({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.Chart"]}),s=V({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:[]}),c=V({type:"string"}),u=V({type:"boolean",defaultValue:true}),p=V({type:"string",defaultValue:"MULTIPLE"}),d=V({type:"string"}),f=V({type:"string"}),m=V({type:"boolean | string"}),g=U({type:"sap.fe.macros.chart.Action"}),h=j(),b=j(),v=j(),y=B(),P=B(),r(C=(D=function(e){H(a,e);function a(){var t;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}t=e.call(this,...n)||this;k(t,"id",$,N(t));k(t,"metaPath",x,N(t));k(t,"contextPath",T,N(t));k(t,"header",F,N(t));k(t,"headerVisible",O,N(t));k(t,"selectionMode",I,N(t));k(t,"filterBar",M,N(t));k(t,"variantManagement",A,N(t));k(t,"personalization",E,N(t));k(t,"actions",w,N(t));k(t,"selectionChange",S,N(t));k(t,"stateChange",L,N(t));k(t,"internalDataRequested",_,N(t));return t}var r=a.prototype;r.getSelectedContexts=function t(){var e,i;return((e=this.content)===null||e===void 0?void 0:(i=e.getBindingContext("internal"))===null||i===void 0?void 0:i.getProperty("selectedContexts"))||[]};r.onAfterRendering=function t(){const e=this.getController().getView();const i=e.getBindingContext("internal");const n=this.getContent();const a={};const r=n.data("entitySet"),o=`${r}Chart`,l=e.getBindingContext();a[o]=n.data("draftSupported")==="true"&&!!l&&!l.getObject("IsActiveEntity");i.setProperty("controls/showMessageStrip",a)};r.refreshNotApplicableFields=function t(e){const i=this.getContent();return n.getNotApplicableFilters(e,i)};r.handleSelectionChange=function e(n){const a=n.getParameter("data");const r=n.getParameter("name")==="selectData";i.fnUpdateChart(n);this.fireSelectionChange(t({},{data:a,selected:r}))};r.onInternalDataRequested=function t(){this.fireEvent("internalDataRequested")};return a}(a),$=W(D.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),x=W(D.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),T=W(D.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),F=W(D.prototype,"header",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),O=W(D.prototype,"headerVisible",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),I=W(D.prototype,"selectionMode",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),M=W(D.prototype,"filterBar",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),A=W(D.prototype,"variantManagement",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),E=W(D.prototype,"personalization",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),w=W(D.prototype,"actions",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),S=W(D.prototype,"selectionChange",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),L=W(D.prototype,"stateChange",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),_=W(D.prototype,"internalDataRequested",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),W(D.prototype,"handleSelectionChange",[y],Object.getOwnPropertyDescriptor(D.prototype,"handleSelectionChange"),D.prototype),W(D.prototype,"onInternalDataRequested",[P],Object.getOwnPropertyDescriptor(D.prototype,"onInternalDataRequested"),D.prototype),D))||C);return G},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/chart/ChartDelegate",["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/chart/ChartHelper","sap/fe/macros/chart/ChartUtils","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filter/FilterUtils","sap/ui/mdc/library","sap/ui/mdc/odata/v4/util/DelegateUtil","sap/ui/mdc/odata/v4/vizChart/ChartDelegate","sap/ui/model/Filter","sap/ui/model/FilterOperator","../filterBar/FilterBarDelegate"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g){"use strict";var h=a.getResourceModel;var b=n.isMultiValueFilterExpression;var v=n.getSortRestrictionsInfo;var y=n.getFilterRestrictionsInfo;const P=u.ChartItemRoleType;const C=Object.assign({},d);C._setChartNoDataText=function(t,e){let i="";const n=o.getAllFilterInfo(t),a=e.path.startsWith("/")?e.path.substr(1):e.path;const r=function(){if(t.data("multiViews")){return"M_TABLE_AND_CHART_NO_DATA_TEXT_MULTI_VIEW"}else{return"T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER"}};if(t.getFilter()){if(n.search||n.filters&&n.filters.length){i=r()}else{i="T_TABLE_AND_CHART_NO_DATA_TEXT"}}else if(n.search||n.filters&&n.filters.length){i=r()}else{i="M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT"}t.setNoDataText(h(t).getText(i,undefined,a))};C._handleProperty=function(e,i,n,a,r,o){const s=l.parseCustomData(e.data("applySupported"));const c=v(i);const u=i["@Org.OData.Capabilities.V1.FilterRestrictions"];const p=y(u);const d=this.getModel().getObject(this.getPath());const f=this.getModel().getObject(`${this.getPath()}@sapui.name`);const m=this.getModel();const g=e.getP13nMode();$(e,g);if(d&&d.$kind==="Property"){if(d.$isCollection){return}const i=m.getObject(`${this.getPath()}@`);const l=m.getObject("@sapui.name",m.getMetaContext(this.getPath()));const u=s&&s.GroupableProperties;const h=s&&s.AggregatableProperties;let b=u?x(u,l):false;let v=h?x(h,l):false;if(!u||u&&!u.length){b=i["@Org.OData.Aggregation.V1.Groupable"]}if(!h||h&&!h.length){v=i["@Org.OData.Aggregation.V1.Aggregatable"]}if(!b&&!v){return}T(a,f,b,v);if(v){const t=C._createPropertyInfosForAggregatable(e,f,i,p,c,n,a);t.forEach(function(t){r.push(t)});if(g&&g.includes("Filter")){const t=Object.keys(n);const a=u.map(t=>t.$PropertyPath);t.forEach(t=>{if(!a.includes(t)){r=D(r,f,i,p,c,e,o,d,false,true,undefined,true)}})}}if(b){const n=f||"",a=i["@com.sap.vocabularies.Common.v1.Text"]?i["@com.sap.vocabularies.Common.v1.Text"].$Path:null;let l=false;if(n&&n.indexOf("/")>-1){t.error(`$expand is not yet supported. Property: ${n} from an association cannot be used`);return}if(a&&a.indexOf("/")>-1){t.error(`$expand is not yet supported. Text Property: ${a} from an association cannot be used`);l=true}r=D(r,f,i,p,c,e,o,d,true,false,l)}}};function D(t,e,i,n,a,r,o,l,s,c,u,p){t.push({name:"_fe_groupable_"+e,propertyPath:e,label:i["@com.sap.vocabularies.Common.v1.Label"]||e,sortable:C._getSortable(r,a.propertyInfo[e],false),filterable:n[e]?n[e].filterable:true,groupable:s,aggregatable:c,maxConditions:b(n.propertyInfo[e])?-1:1,sortKey:e,path:e,role:P.category,criticality:o,typeConfig:l.typeConfig,visible:p?!p:true,textProperty:!u&&i["@com.sap.vocabularies.Common.v1.Text"]?i["@com.sap.vocabularies.Common.v1.Text"].$Path:null,textFormatter:i["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]});return t}function $(t,e){var i,n,a;const r=t===null||t===void 0?void 0:(i=t.getModel())===null||i===void 0?void 0:(n=i.getMetaModel())===null||n===void 0?void 0:(a=n.getObject(`${t.data("targetCollectionPath")}@Org.OData.Capabilities.V1.FilterRestrictions`))===null||a===void 0?void 0:a.Filterable;if(r!==undefined&&!r){e=e.filter(t=>t!=="Filter");t.setP13nMode(e)}}function x(t,e){if(t.length){for(const n of t){var i;if((n===null||n===void 0?void 0:n.$PropertyPath)===e||(n===null||n===void 0?void 0:(i=n.Property)===null||i===void 0?void 0:i.$PropertyPath)===e){return true}}}}function T(t,e,i,n){const a=Object.keys(t);if(i&&n&&a.includes(e)){throw new Error("Same property can not be configured as groupable and aggregatable")}}C.formatText=function(t,e){const i=this.textFormatter;if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst"){return`${e} (${t})`}else if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return`${t} (${e})`}else if(i.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return e}return e?e:t};C.updateBindingInfo=function(t,e){C._setChartNoDataText(t,e);const n=sap.ui.getCore().byId(t.getFilter());const a=t.getConditions();if(!e){e={}}if(n){const a=c.getFilterInfo(n,{});const r=l.parseCustomData(t.data("applySupported"));if(r&&r.enableSearch&&a.search){e.parameters.$search=i.normalizeSearchTerm(a.search)}else if(e.parameters.$search){delete e.parameters.$search}}const r=a?p.getParametersInfo(n,a):null;if(r){e.path=r}const s=o.getAllFilterInfo(t);if(s.filters){s.filters=i.getChartPropertiesWithoutPrefixes(s.filters)}e.filters=s.filters.length>0?new f({filters:s.filters,and:true}):null;e.sorter=this.getSorters(t);C._checkAndAddDraftFilter(t,e)};C.fetchProperties=function(t){const e=this._getModel(t);let i;if(!e){i=new Promise(e=>{t.attachModelContextChange({resolver:e},F,this)}).then(e=>this._createPropertyInfos(t,e))}else{i=this._createPropertyInfos(t,e)}return i.then(function(e){if(t.data){t.data("$mdcChartPropertyInfo",e);s.setCachedProperties(t,e)}return e})};function F(t,e){const i=t.getSource();const n=this._getModel(i);if(n){i.detachModelContextChange(F);e.resolver(n)}}C._createPropertyInfos=async function(t,e){const i=`/${t.data("entitySet")}`;const n=e.getMetaModel();const a=await Promise.all([n.requestObject(`${i}/`),n.requestObject(`${i}@`)]);const o=[];let s=a[0];const c=a[1];s=O(s,t);const u=l.parseCustomData(t.data("customAgg"));I(u,t);let p;const d=[];for(const t in c){if(t.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){p=t.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");const e=p.split("@");if(e.length==2&&e[1]=="com.sap.vocabularies.Common.v1.Label"){u[e[0]]=c[t]}}}const f=l.parseCustomData(t.data("transAgg"));const m={};for(const t in f){const e=f[t].propertyPath;m[e]=m[e]||{};m[e][f[t].aggregationMethod]={name:f[t].name,label:f[t].label}}for(const e in s){if(e.indexOf("$")!==0){d.push(r.fetchCriticality(n,n.createBindingContext(`${i}/${e}`)).then(C._handleProperty.bind(n.getMetaContext(`${i}/${e}`),t,c,m,u,o)))}}await Promise.all(d);return o};function O(t,e){for(const i in t){if(i=="$Key"||i=="$kind"||i=="SAP_Message"){continue}else if(t[i]["$kind"]=="Property"){t[i]["typeConfig"]=e.getTypeUtil().getTypeConfig(t[i].$Type)}else{t[i]["typeConfig"]=null}}return t}function I(e,i){const n=[],a=[];if(e&&Object.keys(e).length>=1){const e=i.getItems();for(const t in e){if(e[t].getType()==="groupable"){n.push(C.getInternalChartNameFromPropertyNameAndKind(e[t].getName(),"groupable"))}else if(e[t].getType()==="aggregatable"){a.push(C.getInternalChartNameFromPropertyNameAndKind(e[t].getName(),"aggregatable"))}}if(a.filter(function(t){return n.indexOf(t)!=-1}).length>=1){t.error("Dimension and Measure has the sameProperty Configured")}}}C._createPropertyInfosForAggregatable=function(t,i,n,a,r,o,l){const s=[];if(Object.keys(o).indexOf(i)>-1){for(const t in o[i]){s.push({name:"_fe_aggregatable_"+o[i][t].name,propertyPath:i,label:o[i][t].label||`${n["@com.sap.vocabularies.Common.v1.Label"]} (${t})`||`${i} (${t})`,sortable:r.propertyInfo[i]?r.propertyInfo[i].sortable:true,filterable:false,groupable:false,aggregatable:true,path:i,aggregationMethod:t,maxConditions:b(a.propertyInfo[i])?-1:1,role:P.axis1,datapoint:null})}}if(Object.keys(l).indexOf(i)>-1){for(const t in l){if(t===i){const i=e({},l[t],{name:"_fe_aggregatable_"+t,groupable:false,aggregatable:true,filterable:false,role:P.axis1,propertyPath:t,datapoint:null});s.push(i);break}}}return s};C.rebind=function(t,e){const i=e.parameters.$search;if(i){delete e.parameters.$search}d.rebind(t,e);if(i){const e=t.getControlDelegate().getInnerChart(t),n=e&&e.getBinding("data");n.suspend();n.setAggregation({search:i});const a={onBeforeRendering:function(){n.resume();e.removeEventDelegate(a)}};e.addEventDelegate(a)}t.fireEvent("bindingUpdated")};C._setChart=function(t,e){const i=t.getParent();e.setVizProperties(t.data("vizProperties"));e.detachSelectData(i.handleSelectionChange.bind(i));e.detachDeselectData(i.handleSelectionChange.bind(i));e.detachDrilledUp(i.handleSelectionChange.bind(i));e.attachSelectData(i.handleSelectionChange.bind(i));e.attachDeselectData(i.handleSelectionChange.bind(i));e.attachDrilledUp(i.handleSelectionChange.bind(i));e.setSelectionMode(t.getPayload().selectionMode.toUpperCase());d._setChart(t,e)};C._getBindingInfo=function(t){if(this._getBindingInfoFromState(t)){return this._getBindingInfoFromState(t)}const i=t.getDelegate().payload;const n=t.getModel()&&t.getModel().getMetaModel();const a=t.data("targetCollectionPath");const r=(n.getObject(`${a}/$kind`)!=="NavigationProperty"?"/":"")+i.contextPath;const o=e({},i.parameters,{entitySet:t.data("entitySet")});return{path:r,events:{dataRequested:t.getParent().onInternalDataRequested.bind(t.getParent())},parameters:o}};C.removeItemFromInnerChart=function(t,e){d.removeItemFromInnerChart.call(this,t,e);if(e.getType()==="groupable"){const e=this._getChart(t);e.fireDeselectData()}};C._getSortable=function(t,e,i){if(i){if(t.data("draftSupported")==="true"){return false}else{return e?e.sortable:true}}return e?e.sortable:true};C._checkAndAddDraftFilter=function(t,e){if(t.data("draftSupported")==="true"){if(!e){e={}}if(!e.filters){e.filters=[];e.filters.push(new f("IsActiveEntity",m.EQ,true))}else{var i,n;(i=e.filters)===null||i===void 0?void 0:(n=i.aFilters)===null||n===void 0?void 0:n.push(new f("IsActiveEntity",m.EQ,true))}}};C.getInternalChartNameFromPropertyNameAndKind=function(t,e){return t.replace("_fe_"+e+"_","")};C.getPropertyFromNameAndKind=function(t,e,i){return i.getPropertyHelper().getProperty("_fe_"+e+"_"+t)};C.getFilterDelegate=function(){return Object.assign({},g,{addItem:function(t,e){const i=C.getInternalChartNameFromPropertyNameAndKind(t,"groupable");return g.addItem(i,e).then(e=>{e===null||e===void 0?void 0:e.bindProperty("conditions",{path:"$filters>/conditions/"+t});return e})}})};return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/chart/ChartHelper",["sap/base/Log","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/macros/CommonHelper","sap/fe/macros/internal/helpers/ActionHelper","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,i,n,a,r){"use strict";var o=e.getUiControl;function l(t){return t.getPath().replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant).*/,"")}var s;(function(t){t["com.sap.vocabularies.UI.v1.ChartType/Column"]="column";t["com.sap.vocabularies.UI.v1.ChartType/ColumnStacked"]="stacked_column";t["com.sap.vocabularies.UI.v1.ChartType/ColumnDual"]="dual_column";t["com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual"]="dual_stacked_column";t["com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100"]="100_stacked_column";t["com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual100"]="100_dual_stacked_column";t["com.sap.vocabularies.UI.v1.ChartType/Bar"]="bar";t["com.sap.vocabularies.UI.v1.ChartType/BarStacked"]="stacked_bar";t["com.sap.vocabularies.UI.v1.ChartType/BarDual"]="dual_bar";t["com.sap.vocabularies.UI.v1.ChartType/BarStackedDual"]="dual_stacked_bar";t["com.sap.vocabularies.UI.v1.ChartType/BarStacked100"]="100_stacked_bar";t["com.sap.vocabularies.UI.v1.ChartType/BarStackedDual100"]="100_dual_stacked_bar";t["com.sap.vocabularies.UI.v1.ChartType/Area"]="area";t["com.sap.vocabularies.UI.v1.ChartType/AreaStacked"]="stacked_column";t["com.sap.vocabularies.UI.v1.ChartType/AreaStacked100"]="100_stacked_column";t["com.sap.vocabularies.UI.v1.ChartType/HorizontalArea"]="bar";t["com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked"]="stacked_bar";t["com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100"]="100_stacked_bar";t["com.sap.vocabularies.UI.v1.ChartType/Line"]="line";t["com.sap.vocabularies.UI.v1.ChartType/LineDual"]="dual_line";t["com.sap.vocabularies.UI.v1.ChartType/Combination"]="combination";t["com.sap.vocabularies.UI.v1.ChartType/CombinationStacked"]="stacked_combination";t["com.sap.vocabularies.UI.v1.ChartType/CombinationDual"]="dual_combination";t["com.sap.vocabularies.UI.v1.ChartType/CombinationStackedDual"]="dual_stacked_combination";t["com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStacked"]="horizontal_stacked_combination";t["com.sap.vocabularies.UI.v1.ChartType/Pie"]="pie";t["com.sap.vocabularies.UI.v1.ChartType/Donut"]="donut";t["com.sap.vocabularies.UI.v1.ChartType/Scatter"]="scatter";t["com.sap.vocabularies.UI.v1.ChartType/Bubble"]="bubble";t["com.sap.vocabularies.UI.v1.ChartType/Radar"]="line";t["com.sap.vocabularies.UI.v1.ChartType/HeatMap"]="heatmap";t["com.sap.vocabularies.UI.v1.ChartType/TreeMap"]="treemap";t["com.sap.vocabularies.UI.v1.ChartType/Waterfall"]="waterfall";t["com.sap.vocabularies.UI.v1.ChartType/Bullet"]="bullet";t["com.sap.vocabularies.UI.v1.ChartType/VerticalBullet"]="vertical_bullet";t["com.sap.vocabularies.UI.v1.ChartType/HorizontalWaterfall"]="horizontal_waterfall";t["com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationDual"]="dual_horizontal_combination";t["com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStackedDual"]="dual_horizontal_stacked_combination"})(s||(s={}));var c;(function(t){t["com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category"]="category";t["com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series"]="series";t["com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category2"]="category2"})(c||(c={}));const u={formatJSONToString(t){if(!t){return undefined}let e=JSON.stringify(t);e=e.replace(new RegExp("{","g"),"\\{");e=e.replace(new RegExp("}","g"),"\\}");return e},formatChartType(t){return s[t===null||t===void 0?void 0:t.$EnumMember]},formatDimensions(e){const i=e.getObject("./"),n=e.getModel(),r=l(e),o=[];let s=false;i.DimensionAttributes=i.DimensionAttributes||[];for(const e of i.Dimensions){const a=e.$PropertyPath;const l=n.getObject(`${r+a}@${"com.sap.vocabularies.Common.v1.Text"}`)||{};if(a.indexOf("/")>-1){t.error(`$expand is not yet supported. Dimension: ${a} from an association cannot be used`)}if(l.$Path&&l.$Path.indexOf("/")>-1){t.error(`$expand is not yet supported. Text Property: ${l.$Path} from an association cannot be used for the dimension ${a}`);s=true}const d={key:a,textPath:!s?l.$Path:undefined,label:n.getObject(`${r+a}@${"com.sap.vocabularies.Common.v1.Label"}`),role:"category"};for(const t of i.DimensionAttributes){var u;if(d.key===((u=t.Dimension)===null||u===void 0?void 0:u.$PropertyPath)){var p;d.role=c[(p=t.Role)===null||p===void 0?void 0:p.$EnumMember]||d.role;break}}d.criticality=this.fetchCriticality(n,n.createBindingContext(r+a)).then(this.formatJSONToString);o.push(d)}const d=new a(o);d.$$valueAsPromise=true;return d.createBindingContext("/")},fetchCriticality(t,e){const i="@com.sap.vocabularies.UI.v1";return t.requestObject(`${i}.ValueCriticality`,e).then(function(t){let e,i;if(t){e={VeryPositive:[],Positive:[],Critical:[],VeryNegative:[],Negative:[],Neutral:[]};for(let n=0;n<t.length;n++){i=t[n];if(i.Criticality.$EnumMember.endsWith("VeryPositive")){e.VeryPositive.push(i.Value)}else if(i.Criticality.$EnumMember.endsWith("Positive")){e.Positive.push(i.Value)}else if(i.Criticality.$EnumMember.endsWith("Critical")){e.Critical.push(i.Value)}else if(i.Criticality.$EnumMember.endsWith("VeryNegative")){e.VeryNegative.push(i.Value)}else if(i.Criticality.$EnumMember.endsWith("Negative")){e.Negative.push(i.Value)}else{e.Neutral.push(i.Value)}}for(const t in e){if(e[t].length==0){delete e[t]}}}return e})},formatMeasures(t){return t.getModel().getData()},getUiChart(t){return o(t,`@${"com.sap.vocabularies.UI.v1.Chart"}`)},getOperationAvailableMap(t,e){const i=(t===null||t===void 0?void 0:t.Actions)||[];return JSON.stringify(n.getOperationAvailableMap(i,"chart",e))},getSortConditions:function(t,e,n,a){if(e&&i._isPresentationVariantAnnotation(n)&&e.SortOrder){const i={sorters:[]};const n=t.getPath(0).split("@")[0];e.SortOrder.forEach(function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let r="";const o={};if(e.DynamicProperty){var l;r="_fe_aggregatable_"+((l=t.getModel(0).getObject(n+e.DynamicProperty.$AnnotationPath))===null||l===void 0?void 0:l.Name)}else if(e.Property){const i=a.GroupableProperties;if(i&&i.length){for(let t=0;t<i.length;t++){if(i[t].$PropertyPath===e.Property.$PropertyPath){r="_fe_groupable_"+e.Property.$PropertyPath;break}if(!r){r="_fe_aggregatable_"+e.Property.$PropertyPath}}}else if(t.getModel(0).getObject(`${n+e.Property.$PropertyPath}@${"Org.OData.Aggregation.V1.Groupable"}`)){r="_fe_groupable_"+e.Property.$PropertyPath}else{r="_fe_aggregatable_"+e.Property.$PropertyPath}}if(r){o.name=r;o.descending=!!e.Descending;i.sorters.push(o)}else{throw new Error("Please define the right path to the sort property")}});return JSON.stringify(i)}return undefined},getBindingData(t,e,n){const a=[];let r;for(const t in n){if(n[t].$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const r=n[t].Action;const o=i.getActionPath(e,false,r,true);if(o&&o.$Path){a.push(`'${o.$Path}'`)}else if(o===null){}}}if(a.length>0){r=" $select: '"+a.join()+"'"}return"'{path: '"+(e.getObject("$kind")==="EntitySet"?"/":"")+e.getObject("@sapui.name")+"'"+(r?",parameters:{"+r+"}":"")+"}'"},_getModel(t,e){return e.context},isDataFieldForActionButtonEnabled(t,e,i,a,r){if(t!==true){return"true"}const o=i.getModel();const l=i.getPath();const s=o.getObject(l).$Partner;const c=a&&JSON.parse(a);const u=c&&c[e]&&c[e].split("/");const p=n.getNumberOfContextsExpression(r);if(u&&u[0]===s){const t=c[e].replace(s+"/","");return"{= ${"+p+" && ${"+t+"}}"}else{return"{= ${"+p+"}"}},getHiddenPathExpressionForTableActionsAndIBN(t,e){const i=e.context,n=i.getPath(),a=r.getNavigationPath(n);if(t.indexOf("/")>0){const e=t.split("/");const n=e[0];if(i.getObject(a+"/$Partner")===n){return"{= !%{"+e.slice(1).join("/")+"} }"}}return true},getPressEventForDataFieldForActionButton(t,e,i){return n.getPressEventDataFieldForActionButton(t,e,{contexts:"${internal>selectedContexts}"},i)},getActionType(t){return(t["$Type"].indexOf("com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")>-1||t["$Type"].indexOf("com.sap.vocabularies.UI.v1.DataFieldForAction")>-1)&&t["Inline"]},getCollectionName(t){return t.split("/")[t.split("/").length-1]}};u.getSortConditions.requiresIContext=true;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/chart/ChartRuntime",["sap/fe/core/ActionRuntime","sap/fe/macros/chart/ChartUtils","sap/fe/macros/DelegateUtil"],function(t,e,i){"use strict";const n={fnUpdateChart:function(n){const a=n.getSource();const r=a.getParent();let o,l={},s=[];r.getCustomData().forEach(function(t){if(t.getKey()==="operationAvailableMap"){l=i.getCustomData(r,"operationAvailableMap")&&i.getCustomData(r,"operationAvailableMap").customData}else if(t.getKey()==="multiSelectDisabledActions"){o=t.getValue();s=o?o.split(","):[]}});const c=r.getBindingContext("internal");const u=[];let p;const d=e.getChartSelectedData(a);for(let t=0;t<d.length;t++){u.push(d[t].context)}c.setProperty("selectedContexts",u);c.getModel().setProperty(`${c.getPath()}/numberOfSelectedContexts`,a.getSelectedDataPoints().count);for(let t=0;t<u.length;t++){const e=u[t];const i=e.getObject();for(const t in i){if(t.indexOf("#")===0){let e=t;e=e.substring(1,e.length);p=c.getObject();p[e]=true;c.setProperty("",p)}}p=c.getObject()}t.setActionEnablement(c,l,u,"chart");if(u.length>1){s.forEach(function(t){c.setProperty(t,false)})}}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/chart/ChartUtils",["sap/fe/core/CommonUtils","sap/fe/macros/filter/FilterUtils","sap/ui/model/Filter","sap/ui/model/FilterOperator","../CommonHelper","../table/Utils"],function(t,e,i,n,a,r){"use strict";let o=[];const l={getChartSelectionsExist:function(t,e){const i=e||t;if(t){try{const e=t.getControlDelegate()._getChart(t);if(e){const n=this.getDimensionsFromDrillStack(e);const a=n.length>o.length;const r=n.length<o.length;const l=n.toString()===o.toString();let s;if(r&&n.length===1){s=this.getChartSelections(t,true)}else{s=this.getChartSelections(t)}if(a||r){o=n;return s.length>0}else if(l&&i.isA("sap.ui.mdc.Table")){return s.length>0}}}catch(t){return false}}return false},getChartSelections:function(t,e){if(e){this.getChartModel(t,"",{})}const i=this.getChartModel(t,"filters");return i||[]},getChartFilters:function(t){const e=this.getChartSelections(t)||[];return new i(e)},setChartFilters:function(t){const e=this.getChartModel(t,"drillStack")||{};const a=t.getControlDelegate()._getChart(t);const r=[];let o;function l(t){for(const e in t){const a=[];for(const r in o){const l=o[r];const s=t[e].data[l];if(s!==undefined){a.push(new i({path:l,operator:n.EQ,value1:s}))}}if(a.length>0){r.push(new i(a,true))}}}if(a){const i=this.getVizSelection(a);o=a.getVisibleDimensions();const n=this.getDimensionsFromDrillStack(a);if(n.length>0){this.getChartModel(t,"drillStack",{});e[n.toString()]=i;this.getChartModel(t,"drillStack",e)}if(i.length>0){l(i)}else{const t=Object.keys(e)||[];const i=e[t[t.length-2]]||[];l(i)}this.getChartModel(t,"filters",r)}},getFilterBarFilterInfo:function(t){return e.getFilterInfo(t.getFilter(),{targetControl:t})},getAllFilterInfo:function(e){const i=this.getFilterBarFilterInfo(e);const n=this.getChartFilters(e);const o=r.getP13nFilters(e);const l=a.parseCustomData(e.data("selectionPresentationVariantPath"))?a.parseCustomData(e.data("selectionPresentationVariantPath")).data:"";const s=l?t.getFiltersInfoForSV(e,l,true):null;if(n&&n.aFilters&&n.aFilters.length){i.filters.push(n)}if(o.length>0){o.forEach(t=>{if(t.aFilters&&t.aFilters.length>0){t.aFilters.forEach(t=>{i.filters.push(t)})}else{i.filters.push(t)}})}if(s&&s.filters.length>0){s.filters.forEach(t=>{i.filters.push(t.aFilters[0])})}return i},getChartSelectedData:function(t){let e=[];switch(t.getSelectionBehavior()){case"DATAPOINT":e=t.getSelectedDataPoints().dataPoints;break;case"CATEGORY":e=t.getSelectedCategories().categories;break;case"SERIES":e=t.getSelectedSeries().series;break}return e},getChartModel:function(t,e,i){const n=t.getBindingContext("internal");if(!n){return false}if(i){n.setProperty(e,i)}return n&&n.getObject(e)},getDimensionsFromDrillStack:function(t){const e=t.getDrillStack()||[];const i=e.pop()||{};return i.dimension||[]},getVizSelection:function(t){return t&&t._getVizFrame()&&t._getVizFrame().vizSelection()||[]}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/contact/Contact.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper"],function(t,e,i,n,a,r,o){"use strict";var l,s,c,u,p,d,f,m,g,h,b,v,y,P,C;var D={};var $=o.getRelativePaths;var x=r.generate;var T=a.getExpressionFromAnnotation;var F=n.getInvolvedDataModelObjects;var O=n.convertMetaModelContext;var I=i.xml;var M=e.defineBuildingBlock;var A=e.blockAttribute;function E(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function S(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;L(t,e)}function L(t,e){L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return L(t,e)}function _(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function B(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let V=(l=M({name:"Contact",namespace:"sap.fe.macros",designtime:"sap/fe/macros/Contact.designtime"}),s=A({type:"string"}),c=A({type:"string"}),u=A({type:"sap.ui.model.Context",expectedTypes:["com.sap.vocabularies.Communication.v1.ContactType"],required:true}),p=A({type:"sap.ui.model.Context",expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),d=A({type:"string"}),f=A({type:"boolean"}),l(m=(g=function(t){S(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;E(e,"idPrefix",h,w(e));E(e,"_flexId",b,w(e));E(e,"metaPath",v,w(e));E(e,"contextPath",y,w(e));E(e,"ariaLabelledBy",P,w(e));E(e,"visible",C,w(e));return e}D=e;var i=e.prototype;i.getTemplate=function t(){let e;if(this._flexId){e=this._flexId}else{e=this.idPrefix?x([this.idPrefix,"Field-content"]):undefined}const i=O(this.metaPath);const n=F(this.metaPath,this.contextPath);const a=T(i.fn,$(n));const r={name:"sap/fe/macros/contact/ContactDelegate",payload:{contact:this.metaPath.getPath()}};return I`<mdc:Field
		xmlns:mdc="sap.ui.mdc"
		delegate="{name: 'sap/ui/mdc/odata/v4/FieldBaseDelegate'}"
		${this.attr("id",e)}
		editMode="Display"
		width="100%"
		${this.attr("visible",this.visible)}
		${this.attr("value",a)}
		${this.attr("ariaLabelledBy",this.ariaLabelledBy)}
	>
		<mdc:fieldInfo>
			<mdc:Link
				core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				enablePersonalization="false"
				${this.attr("delegate",JSON.stringify(r))}
			/>
		</mdc:fieldInfo>
	</mdc:Field>
			`};return e}(t),h=_(g.prototype,"idPrefix",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),b=_(g.prototype,"_flexId",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),v=_(g.prototype,"metaPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),y=_(g.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),P=_(g.prototype,"ariaLabelledBy",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),C=_(g.prototype,"visible",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),g))||m);D=V;return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/contact/ContactDelegate",["sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/LinkDelegate"],function(t,e,i,n){"use strict";return Object.assign({},n,{_fnTemplateFragment:async function(n,a){const r="sap.fe.macros.contact.ContactQuickView";const o={bindingContexts:{},models:{}};const l=a.createBindingContext(n.contact);if(n.contact&&l){o.bindingContexts={contact:l};o.models={contact:a}}const s=i.loadTemplate(r,"fragment");const c=await e.process(s,{name:r},o);return t.load({definition:c,controller:this})},fetchAdditionalContent:async function(t,e){var i;const n=(i=t.navigationPath)===null||i===void 0?void 0:i.match(/{(.*?)}/);const a=n&&n.length>1&&n[1]?e.getModel().bindContext(n[1],e.getBindingContext(),{$$ownRequest:true}):null;if(e.isA("sap.ui.mdc.Link")){const i=e.getModel().getMetaModel();const n=await this._fnTemplateFragment(t,i);if(a){n.setBindingContext(a.getBoundContext())}return[n]}return Promise.resolve([])},fetchLinkType:async function(){return{initialType:{type:2,directLink:undefined},runtimeType:undefined}}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/contact/ContactHelper",["sap/ui/core/Core"],function(t){"use strict";const e=t.getLibraryResourceBundle("sap.ui.mdc");const i={formatUri:function(t,e){switch(t){case"phone":return`tel:${e}`;case"mail":return`mailto:${e}`;default:return e}},formatAddress:function(t,e,i,n,a){const r=[];if(t){r.push(t)}if(e&&i){r.push(`${e} ${i}`)}else{if(e){r.push(e)}if(i){r.push(i)}}if(n){r.push(n)}if(a){r.push(a)}return r.join(", ")},computeLabel:function(t,i){switch(t){case"role":return e.getText("info.POPOVER_CONTACT_SECTION_ROLE");case"title":return e.getText("info.POPOVER_CONTACT_SECTION_JOBTITLE");case"org":return e.getText("info.POPOVER_CONTACT_SECTION_DEPARTMENT");case"phone":if(i.indexOf("fax")>-1){return e.getText("info.POPOVER_CONTACT_SECTION_FAX")}else if(i.indexOf("work")>-1){return e.getText("info.POPOVER_CONTACT_SECTION_PHONE")}else if(i.indexOf("cell")>-1){return e.getText("info.POPOVER_CONTACT_SECTION_MOBILE")}else if(i.indexOf("preferred")>-1){return e.getText("info.POPOVER_CONTACT_SECTION_PHONE")}break;case"mail":return e.getText("info.POPOVER_CONTACT_SECTION_EMAIL");case"address":return e.getText("info.POPOVER_CONTACT_SECTION_ADR");default:return"contactItem"}},getContactTitle:function(){return e.getText("info.POPOVER_CONTACT_SECTION_TITLE")},getAvatarInitials:function(t){return t?t:""}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/controls/ConditionalWrapper",["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(t,e){"use strict";var i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v;var y=t.property;var P=t.implementInterface;var C=t.defineUI5Class;var D=t.association;var $=t.aggregation;function x(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function T(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function F(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;O(t,e)}function O(t,e){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return O(t,e)}function I(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function M(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let A=(i=C("sap.fe.macros.controls.ConditionalWrapper"),n=P("sap.ui.core.IFormContent"),a=y({type:"sap.ui.core.CSSSize",defaultValue:null}),r=y({type:"boolean",defaultValue:false}),o=y({type:"boolean",defaultValue:false}),l=D({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),s=$({type:"sap.ui.core.Control",multiple:false,isDefault:true}),c=$({type:"sap.ui.core.Control",multiple:false}),i(u=(p=function(t){F(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;x(e,"__implements__sap_ui_core_IFormContent",d,T(e));x(e,"width",f,T(e));x(e,"formDoNotAdjustWidth",m,T(e));x(e,"condition",g,T(e));x(e,"ariaLabelledBy",h,T(e));x(e,"contentTrue",b,T(e));x(e,"contentFalse",v,T(e));return e}var i=e.prototype;i.enhanceAccessibilityState=function t(e,i){const n=this.getParent();if(n&&n.enhanceAccessibilityState){n.enhanceAccessibilityState(this,i)}return i};i.getAccessibilityInfo=function t(){var e;let i;if(this.condition){i=this.contentTrue}else{i=this.contentFalse}return(e=i)!==null&&e!==void 0&&e.getAccessibilityInfo?i.getAccessibilityInfo():{}};i._setAriaLabelledBy=function t(e){if(e&&e.addAriaLabelledBy){const t=this.ariaLabelledBy;for(let i=0;i<t.length;i++){const n=t[i];const a=e.getAriaLabelledBy()||[];if(a.indexOf(n)===-1){e.addAriaLabelledBy(n)}}}};i.onBeforeRendering=function t(){this._setAriaLabelledBy(this.contentTrue);this._setAriaLabelledBy(this.contentFalse)};e.render=function t(e,i){e.openStart("div",i);e.style("width",i.width);e.style("display","inline-block");e.openEnd();if(i.condition){e.renderControl(i.contentTrue)}else{e.renderControl(i.contentFalse)}e.close("div")};return e}(e),d=I(p.prototype,"__implements__sap_ui_core_IFormContent",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),f=I(p.prototype,"width",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),m=I(p.prototype,"formDoNotAdjustWidth",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),g=I(p.prototype,"condition",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),h=I(p.prototype,"ariaLabelledBy",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),b=I(p.prototype,"contentTrue",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=I(p.prototype,"contentFalse",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||u);return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/controls/CustomFilterFieldContentWrapper",["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/SemanticDateOperators","sap/ui/base/ManagedObjectObserver","sap/ui/core/Control","sap/ui/mdc/condition/Condition","sap/ui/mdc/enum/ConditionValidated","sap/ui/mdc/field/ConditionsType","sap/ui/model/json/JSONModel"],function(t,e,i,n,a,r,o,l){"use strict";var s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$;var x={};var T=t.property;var F=t.implementInterface;var O=t.event;var I=t.defineUI5Class;var M=t.aggregation;function A(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function w(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;S(t,e)}function S(t,e){S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return S(t,e)}function L(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function _(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let B=(s=I("sap.fe.macros.controls.CustomFilterFieldContentWrapper"),c=F("sap.ui.core.IFormContent"),u=T({type:"sap.ui.core.CSSSize",defaultValue:null}),p=T({type:"boolean",defaultValue:false}),d=T({type:"object[]",defaultValue:[]}),f=M({type:"sap.ui.core.Control",multiple:false,isDefault:true}),m=O(),s(g=(h=($=function(t){w(n,t);function n(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;A(e,"__implements__sap_ui_core_IFormContent",b,E(e));A(e,"width",v,E(e));A(e,"formDoNotAdjustWidth",y,E(e));A(e,"conditions",P,E(e));A(e,"content",C,E(e));A(e,"conditionsChange",D,E(e));return e}x=n;n.render=function t(e,i){e.openStart("div",i);e.style("min-height","1rem");e.style("width",i.width);e.openEnd();e.renderControl(i.getContent());e.close("div")};n._filterValuesToConditions=function t(i,n){let l={operators:[]},s=[];if(n){l={operators:[n]}}if(i===""){i=[]}else if(typeof i==="object"&&i.hasOwnProperty("operator")&&i.hasOwnProperty("values")){l={operators:[i.operator]};i=i.values}else if(i!==undefined&&typeof i!=="object"&&typeof i!=="string"){throw new Error(`FilterUtils.js#_filterValuesToConditions: Unexpected type of input parameter vValues: ${typeof i}`)}const c=new o(l);const u=Array.isArray(i)?i:[i];if(typeof n==="string"&&(u.length===0||e.getSemanticDateOperations().includes(n))){s=[a.createCondition(n,u,null,null,r.NotValidated)]}else{s=u.map(t=>{const e=t===null||t===void 0?void 0:t.toString(),i=c.parseValue(e,"any");return i===null||i===void 0?void 0:i[0]}).filter(t=>t!==undefined)}return s};n._conditionsToFilterModelString=function t(e,i){const n=new o(i);return e.map(t=>n.formatValue([t],"any")||"").filter(t=>t!=="").join(",")};var s=n.prototype;s._handleFilterModelChange=function t(e){var i;const n=(i=this.getObjectBinding("filterValues"))===null||i===void 0?void 0:i.getPath(),a=e.getSource().getProperty(n);this.updateConditionsByFilterValues(a,"")};s._handleConditionsChange=function t(e){this.updateFilterModelByConditions(e)};s.init=function e(){t.prototype.init.call(this);this._conditionsObserver=new i(this._observeChanges.bind(this));this._conditionsObserver.observe(this,{properties:["conditions"]});this._filterModel=new l;this._filterModel.attachPropertyChange(this._handleFilterModelChange,this);this.setModel(this._filterModel,n.FILTER_MODEL_ALIAS)};s.clone=function e(i,a){const e=t.prototype.clone.call(this,i,a);e.setModel(e._filterModel,n.FILTER_MODEL_ALIAS);return e};s._observeChanges=function t(e){if(e.name==="conditions"){this._handleConditionsChange(e.current)}};s.getContent=function t(){return this.getAggregation("content")};s.getConditions=function t(){return this.getProperty("conditions")};s.setConditions=function t(e){this.setProperty("conditions",e||[]);return this};s.getFilterModelAlias=function t(){return n.FILTER_MODEL_ALIAS};s.updateConditionsByFilterValues=function t(e,i){const a=n._filterValuesToConditions(e,i);this.setConditions(a)};s.updateFilterModelByConditions=function t(e){var i;const a=((i=e[0])===null||i===void 0?void 0:i.operator)||"";const r=a!==""?{operators:[a]}:{operators:[]};if(this.getBindingContext(n.FILTER_MODEL_ALIAS)){var o;const t=n._conditionsToFilterModelString(e,r);this._filterModel.setProperty((o=this.getBindingContext(n.FILTER_MODEL_ALIAS))===null||o===void 0?void 0:o.getPath(),t)}};s.getAccessibilityInfo=function t(){var e;const i=this.getContent();return(i===null||i===void 0?void 0:(e=i.getAccessibilityInfo)===null||e===void 0?void 0:e.call(i))||{}};s.getIdForLabel=function t(){const e=this.getContent();return e===null||e===void 0?void 0:e.getIdForLabel()};return n}(n),$.FILTER_MODEL_ALIAS="filterValues",$),b=L(h.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),v=L(h.prototype,"width",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),y=L(h.prototype,"formDoNotAdjustWidth",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),P=L(h.prototype,"conditions",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),C=L(h.prototype,"content",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),D=L(h.prototype,"conditionsChange",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||g);x=B;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/controls/CustomQuickViewPage",["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/macros/DelegateUtil","sap/m/QuickViewPage"],function(t,e,i,n,a){"use strict";var r,o,l,s,c,u,p;var d=e.defineUI5Class;var f=e.aggregation;function m(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function h(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;b(t,e)}function b(t,e){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return b(t,e)}function v(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function y(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let P=(r=d("sap.fe.macros.controls.CustomQuickViewPage"),o=f({type:"sap.ui.core.Control",multiple:true}),l=f({type:"sap.m.QuickViewGroup",multiple:true,singularName:"group",isDefault:true}),r(s=(c=function(e){h(a,e);function a(){var t;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}t=e.call(this,...n)||this;m(t,"customContent",u,g(t));m(t,"groups",p,g(t));return t}var r=a.prototype;r.onBeforeRendering=function a(r){const o=this.getParent();if(o&&o.isA("sap.fe.macros.controls.ConditionalWrapper")&&o.getProperty("condition")===true){this.setCrossAppNavCallback(()=>{const e=n.getCustomData(this,"titleLink");const a=t.getTargetView(this);const r=t.getAppComponent(a);const o=r.getShellServices();let l=o.parseShellHash(e);const s={target:{semanticObject:l.semanticObject,action:l.action},params:l.params};const c=`${s.target.semanticObject}-${s.target.action}`;if(c&&this.oCrossAppNavigator&&this.oCrossAppNavigator.isNavigationSupported([c])){if(c&&c!==""){if(typeof c==="string"&&c!==""){var u;let t=this.getParent();while(t&&!t.isA("sap.ui.mdc.Link")){t=t.getParent()}const e=(u=t)===null||u===void 0?void 0:u.getModel("$sapuimdcLink").getProperty("/titleLinkHref");if(e){l=o.parseShellHash(e)}else{l=o.parseShellHash(c);l.params=s.params}i.storeControlRefreshStrategyForHash(a,l);return{target:{semanticObject:l.semanticObject,action:l.action},params:l.params}}}}else{const t=o.parseShellHash(window.location.hash);i.storeControlRefreshStrategyForHash(a,t);return{target:{semanticObject:t.semanticObject,action:t.action,appSpecificRoute:t.appSpecificRoute},params:t.params}}})}e.prototype.onBeforeRendering.call(this,r);const l=this.getPageContent();const s=l.form;if(s){const t=this.customContent;if(t&&t.length>0){t.forEach(t=>{const e=t.clone();e.setModel(this.getModel());e.setBindingContext(this.getBindingContext());s.addContent(e)});setTimeout(function(){s.rerender()},0)}}};return a}(a),u=v(c.prototype,"customContent",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),p=v(c.prototype,"groups",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||s);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/controls/FieldWrapper",["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(t,e){"use strict";var i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D;var $=t.property;var x=t.implementInterface;var T=t.defineUI5Class;var F=t.association;var O=t.aggregation;function I(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function M(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function A(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;E(t,e)}function E(t,e){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return E(t,e)}function w(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function S(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let L=(i=T("sap.fe.macros.controls.FieldWrapper"),n=x("sap.ui.core.IFormContent"),a=$({type:"sap.ui.core.TextAlign"}),r=$({type:"sap.ui.core.CSSSize",defaultValue:null}),o=$({type:"boolean",defaultValue:false}),l=$({type:"string",defaultValue:"Display"}),s=$({type:"boolean",defaultValue:false}),c=F({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),u=O({type:"sap.ui.core.Control",multiple:false,isDefault:true}),p=O({type:"sap.ui.core.Control",multiple:true}),i(d=(f=function(t){A(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;I(e,"__implements__sap_ui_core_IFormContent",m,M(e));I(e,"textAlign",g,M(e));I(e,"width",h,M(e));I(e,"formDoNotAdjustWidth",b,M(e));I(e,"editMode",v,M(e));I(e,"required",y,M(e));I(e,"ariaLabelledBy",P,M(e));I(e,"contentDisplay",C,M(e));I(e,"contentEdit",D,M(e));return e}var i=e.prototype;i.enhanceAccessibilityState=function t(e,i){const n=this.getParent();if(n&&n.enhanceAccessibilityState){n.enhanceAccessibilityState(this,i)}return i};i.getAccessibilityInfo=function t(){let e;if(this.editMode==="Display"){e=this.contentDisplay}else{e=this.contentEdit.length?this.contentEdit[0]:null}return e&&e.getAccessibilityInfo?e.getAccessibilityInfo():{}};i.getIdForLabel=function t(){var e;let i;if(this.editMode==="Display"){i=this.contentDisplay}else{i=this.contentEdit.length?this.contentEdit[0]:null}return(e=i)===null||e===void 0?void 0:e.getIdForLabel()};i._setAriaLabelledBy=function t(e){if(e&&e.addAriaLabelledBy){const t=this.ariaLabelledBy;for(let i=0;i<t.length;i++){const n=t[i];const a=e.getAriaLabelledBy()||[];if(a.indexOf(n)===-1){e.addAriaLabelledBy(n)}}}};i.onBeforeRendering=function t(){this._setAriaLabelledBy(this.contentDisplay);const e=this.contentEdit;for(let t=0;t<e.length;t++){this._setAriaLabelledBy(e[t])}};e.render=function t(e,i){e.openStart("div",i);e.style("text-align",i.textAlign);if(i.editMode==="Display"){e.style("width",i.width);e.openEnd();e.renderControl(i.contentDisplay)}else{const t=i.contentEdit;e.style("width",i.width);e.openEnd();for(let i=0;i<t.length;i++){const n=t[i];e.renderControl(n)}}e.close("div")};return e}(e),m=w(f.prototype,"__implements__sap_ui_core_IFormContent",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),g=w(f.prototype,"textAlign",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),h=w(f.prototype,"width",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),b=w(f.prototype,"formDoNotAdjustWidth",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),v=w(f.prototype,"editMode",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=w(f.prototype,"required",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),P=w(f.prototype,"ariaLabelledBy",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),C=w(f.prototype,"contentDisplay",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),D=w(f.prototype,"contentEdit",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/controls/FileWrapper",["sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/m/BusyDialog","./FieldWrapper"],function(t,e,i,n,a,r){"use strict";var o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I;var M=n.getResourceModel;var A=i.property;var E=i.defineUI5Class;var w=i.aggregation;function S(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function L(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function _(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;B(t,e)}function B(t,e){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return B(t,e)}function V(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function j(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let R=(o=E("sap.fe.macros.controls.FileWrapper"),l=A({type:"sap.ui.core.URI"}),s=A({type:"string"}),c=A({type:"string"}),u=A({type:"string"}),p=w({type:"sap.m.Avatar",multiple:false}),d=w({type:"sap.ui.core.Icon",multiple:false}),f=w({type:"sap.m.Link",multiple:false}),m=w({type:"sap.m.Text",multiple:false}),g=w({type:"sap.ui.unified.FileUploader",multiple:false}),h=w({type:"sap.m.Button",multiple:false}),o(b=(v=function(i){_(n,i);function n(){var t;for(var e=arguments.length,n=new Array(e),a=0;a<e;a++){n[a]=arguments[a]}t=i.call(this,...n)||this;S(t,"uploadUrl",y,L(t));S(t,"propertyPath",P,L(t));S(t,"filename",C,L(t));S(t,"mediaType",D,L(t));S(t,"avatar",$,L(t));S(t,"icon",x,L(t));S(t,"link",T,L(t));S(t,"text",F,L(t));S(t,"fileUploader",O,L(t));S(t,"deleteButton",I,L(t));t._busy=false;return t}var o=n.prototype;o.getAccessibilityInfo=function t(){const e=[];if(this.avatar){e.push(this.avatar)}if(this.icon){e.push(this.icon)}if(this.link){e.push(this.link)}if(this.text){e.push(this.text)}if(this.fileUploader){e.push(this.fileUploader)}if(this.deleteButton){e.push(this.deleteButton)}return{children:e}};o.onBeforeRendering=function t(){this._setAriaLabels();this._addSideEffects()};o._setAriaLabels=function t(){this._setAriaLabelledBy(this.avatar);this._setAriaLabelledBy(this.icon);this._setAriaLabelledBy(this.link);this._setAriaLabelledBy(this.text);this._setAriaLabelledBy(this.fileUploader);this._setAriaLabelledBy(this.deleteButton)};o._addSideEffects=function i(){var n;const a=[],r=t.getTargetView(this),o=r.getViewData().fullContextPath,l=r.getModel().getMetaModel(),s=l.getMetaPath(o),c=l.getContext(o),u=e.getInvolvedDataModelObjects(c),p=this.data("sourcePath"),d=p.replace(`${s}`,""),f=d.replace(this.propertyPath,"");a.push({$NavigationPropertyPath:d});if(this.filename){a.push({$NavigationPropertyPath:f+this.filename})}if(this.mediaType){a.push({$NavigationPropertyPath:f+this.mediaType})}(n=this._getSideEffectController())===null||n===void 0?void 0:n.addControlSideEffects(u.targetEntityType.fullyQualifiedName,{sourceProperties:[d],targetEntities:a,sourceControlId:this.getId()})};o._getSideEffectController=function t(){const e=this._getViewController();return e?e._sideEffects:undefined};o._getViewController=function e(){const i=t.getTargetView(this);return i&&i.getController()};o.getUploadUrl=function t(){const e=this.getBindingContext();return e&&this.uploadUrl?this.uploadUrl.replace(e.getPath(),e.getCanonicalPath()):""};o.setUIBusy=function t(e){const i=this;this._busy=e;if(e){if(!this.busyDialog){this.busyDialog=new a({text:M(this).getText("M_FILEWRAPPER_BUSY_DIALOG_TITLE"),showCancelButton:false})}setTimeout(function(){if(i._busy){var t;(t=i.busyDialog)===null||t===void 0?void 0:t.open()}},1e3)}else{var n;(n=this.busyDialog)===null||n===void 0?void 0:n.close(false)}};o.getUIBusy=function t(){return this._busy};n.render=function t(e,i){e.openStart("div",i);e.style("width",i.width);e.openEnd();e.openStart("div");e.style("display","flex");e.style("box-sizing","border-box");e.style("justify-content","space-between");e.style("align-items","center");e.style("flex-wrap","wrap");e.style("align-content","stretch");e.style("width","100%");e.openEnd();e.openStart("div");e.style("display","flex");e.style("align-items","center");e.openEnd();if(i.avatar){e.renderControl(i.avatar)}else{e.renderControl(i.icon);e.renderControl(i.link);e.renderControl(i.text)}e.close("div");e.openStart("div");e.style("display","flex");e.style("align-items","center");e.openEnd();e.renderControl(i.fileUploader);e.renderControl(i.deleteButton);e.close("div");e.close("div");e.close("div")};o.destroy=function t(e){const i=this._getSideEffectController();if(i){i.removeControlSideEffects(this)}delete this.busyDialog;r.prototype.destroy.apply(this,[e])};return n}(r),y=V(v.prototype,"uploadUrl",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),P=V(v.prototype,"propertyPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),C=V(v.prototype,"filename",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),D=V(v.prototype,"mediaType",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),$=V(v.prototype,"avatar",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),x=V(v.prototype,"icon",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=V(v.prototype,"link",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),F=V(v.prototype,"text",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),O=V(v.prototype,"fileUploader",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),I=V(v.prototype,"deleteButton",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||b);return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/draftIndicator/DraftIndicator.block",["sap/base/strings/formatMessage","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/CommonUtils","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/m/Button","sap/m/library","sap/m/ObjectMarker","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/ui/core/Core","sap/fe/core/jsx-runtime/jsx","sap/fe/core/jsx-runtime/jsxs"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g){"use strict";var h,b,v,y,P,C,D,$,x,T,F,O,I,M,A;var E={};var w=s.ObjectMarkerVisibility;var S=s.ObjectMarkerType;var L=o.pathInModel;var _=o.or;var B=o.not;var V=o.isEmpty;var j=o.ifElse;var R=o.constant;var U=o.and;var k=r.convertMetaModelContext;var N=a.UI;var H=a.Entity;var z=e.defineBuildingBlock;var W=e.blockAttribute;function q(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function G(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Q(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;X(t,e)}function X(t,e){X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return X(t,e)}function K(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function J(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let Y=(h=z({name:"DraftIndicator",namespace:"sap.fe.macros"}),b=W({type:"string"}),v=W({type:"string"}),y=W({type:"string",validate:t=>{if(t&&![w.IconOnly,w.IconAndText].includes(t)){throw new Error(`Allowed value ${t} does not match`)}}}),P=W({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty"]}),C=W({type:"boolean",bindable:true}),D=W({type:"string"}),h($=(x=function(e){Q(i,e);function i(){var t;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}t=e.call(this,...n)||this;q(t,"id",T,G(t));q(t,"ariaLabelledBy",F,G(t));q(t,"draftIndicatorType",O,G(t));q(t,"entitySet",I,G(t));q(t,"isDraftIndicatorVisible",M,G(t));q(t,"class",A,G(t));return t}E=i;i.formatDraftOwnerTextInPopover=function t(e,i,n,a,r){const o=f.getLibraryResourceBundle("sap.fe.macros");if(e){const t=a||i||r||n;if(!t){return o.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_UNSAVED_CHANGES_BY_UNKNOWN")}else{return i?o.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_LOCKED_BY_KNOWN",[t]):o.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_UNSAVED_CHANGES_BY_KNOWN",[t])}}else{return o.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_NO_DATA_TEXT")}};var a=i.prototype;a.getDraftAdministrativeDataProperties=function t(){const e=this.entitySet.getModel().createBindingContext("DraftAdministrativeData",this.entitySet);const i=k(e);return i.targetType.entityProperties.map(t=>t.name)};a.getPopoverTitleBindingExpression=function t(){return j(B(H.IsActive),L("M_COMMON_DRAFT_OBJECT","sap.fe.i18n"),j(H.HasDraft,j(B(V(L("DraftAdministrativeData/InProcessByUser"))),L("M_COMMON_DRAFT_LOCKED_OBJECT","sap.fe.i18n"),L("M_DRAFT_POPOVER_ADMIN_UNSAVED_OBJECT","sap.fe.i18n")),this.draftIndicatorType===w.IconAndText?" ":L("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_FLAGGED_OBJECT","sap.fe.i18n")))};a.getDraftOwnerTextBindingExpression=function t(){const e=this.getDraftAdministrativeDataProperties();const n=[{path:"HasDraftEntity",targetType:"any"},{path:"DraftAdministrativeData/InProcessByUser"},{path:"DraftAdministrativeData/LastChangedByUser"}];if(e.includes("InProcessByUserDescription")){n.push({path:"DraftAdministrativeData/InProcessByUserDescription"})}if(e.includes("LastChangedByUserDescription")){n.push({path:"DraftAdministrativeData/LastChangedByUserDescription"})}return{parts:n,formatter:i.formatDraftOwnerTextInPopover}};a.createPopover=function e(i){const a=U(B(H.IsActive),V(L("DraftAdministrativeData/LastChangeDateTime")));const r=this.draftIndicatorType===w.IconAndText?L("M_DRAFT_POPOVER_ADMIN_GENERIC_LOCKED_OBJECT_POPOVER_TEXT","sap.fe.i18n"):L("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_POPOVER_NO_DATA_TEXT","sap.fe.i18n");const o=U(B(H.IsActive),B(V(L("DraftAdministrativeData/LastChangeDateTime"))));const s={parts:[{path:"M_DRAFT_POPOVER_ADMIN_LAST_CHANGE_TEXT",model:"sap.fe.i18n"},{path:"DraftAdministrativeData/LastChangeDateTime"}],formatter:t};const c=U(H.IsActive,B(V(L("DraftAdministrativeData/LastChangeDateTime"))));const f={...s};const h=m(u,{title:this.getPopoverTitleBindingExpression(),showHeader:true,contentWidth:"15.625rem",verticalScrolling:false,class:"sapUiContentPadding",endButton:m(l,{icon:"sap-icon://decline",press:()=>{var t;return(t=this.draftPopover)===null||t===void 0?void 0:t.close()}}),children:g(d,{class:"sapUiContentPadding",children:[m(d,{visible:a,children:m(p,{text:r})}),m(d,{visible:o,children:m(p,{text:s})}),g(d,{visible:c,children:[m(p,{text:this.getDraftOwnerTextBindingExpression()}),m(p,{class:"sapUiSmallMarginTop",text:f})]})]})});n.getTargetView(i).addDependent(h);return h};a.onObjectMarkerPressed=function t(e){const i=e.getSource();const n=i.getBindingContext();this.draftPopover??=this.createPopover(i);this.draftPopover.setBindingContext(n);this.draftPopover.openBy(i,false)};a.getIconAndTextAdditionalInfoBindingExpression=function t(){const e=this.getDraftAdministrativeDataProperties();const i=[];if(e.includes("InProcessByUserDescription")){i.push(L("DraftAdministrativeData/InProcessByUserDescription"))}i.push(L("DraftAdministrativeData/InProcessByUser"));if(e.includes("LastChangedByUserDescription")){i.push(L("DraftAdministrativeData/LastChangedByUserDescription"))}i.push(L("DraftAdministrativeData/LastChangedByUser"));return j(H.HasDraft,_(...i),"")};a.getIconAndTextContent=function t(){const e=j(B(H.IsActive),S.Draft,j(H.HasDraft,j(L("DraftAdministrativeData/InProcessByUser"),S.LockedBy,j(L("DraftAdministrativeData/LastChangedByUser"),S.UnsavedBy,S.Unsaved)),S.Flagged));const i=j(B(H.HasDraft),w.TextOnly,w.IconAndText);return m(c,{type:e,press:this.onObjectMarkerPressed.bind(this),visibility:i,visible:this.isDraftIndicatorVisible,additionalInfo:this.getIconAndTextAdditionalInfoBindingExpression(),ariaLabelledBy:this.ariaLabelledBy?[this.ariaLabelledBy]:[],class:this.class})};a.getIconOnlyContent=function t(){const e=j(B(H.IsActive),S.Draft,j(H.HasDraft,j(L("DraftAdministrativeData/InProcessByUser"),S.Locked,S.Unsaved),S.Flagged));const i=U(B(N.IsEditable),H.HasDraft,B(L("DraftAdministrativeData/DraftIsCreatedByMe")));return m(c,{type:e,press:this.onObjectMarkerPressed.bind(this),visibility:w.IconOnly,visible:i,ariaLabelledBy:this.ariaLabelledBy?[this.ariaLabelledBy]:[],class:this.class})};a.getContent=function t(){if(this.draftIndicatorType===w.IconAndText){return this.getIconAndTextContent()}else{return this.getIconOnlyContent()}};return i}(i),T=K(x.prototype,"id",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),F=K(x.prototype,"ariaLabelledBy",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),O=K(x.prototype,"draftIndicatorType",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return w.IconAndText}}),I=K(x.prototype,"entitySet",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),M=K(x.prototype,"isDraftIndicatorVisible",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return R(false)}}),A=K(x.prototype,"class",[D],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),x))||$);E=Y;return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/fcl/FlexibleColumnLayoutActions.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(t,e,i){"use strict";var n,a;var r={};var o=i.xml;var l=e.defineBuildingBlock;function s(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;c(t,e)}function c(t,e){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return c(t,e)}let u=(n=l({name:"FlexibleColumnLayoutActions",namespace:"sap.fe.macros.fcl",publicNamespace:"sap.fe.macros"}),n(a=function(t){s(e,t);function e(){return t.apply(this,arguments)||this}r=e;var i=e.prototype;i.getTemplate=function t(){return o`
            <m:OverflowToolbarButton
                id="fe::FCLStandardAction::FullScreen"
                type="Transparent"
                icon="{fclhelper>/actionButtonsInfo/switchIcon}"
                visible="{fclhelper>/actionButtonsInfo/switchVisible}"
                press="._routing.switchFullScreen()"
            />
            <m:OverflowToolbarButton
                id="fe::FCLStandardAction::Close"
                type="Transparent"
                icon="sap-icon://decline"
                tooltip="{sap.fe.i18n>C_COMMON_SAPFE_CLOSE}"
                visible="{fclhelper>/actionButtonsInfo/closeVisible}"
                press="._routing.closeColumn()"
            />`};return e}(t))||a);r=u;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/field/FieldAPI",["sap/fe/core/helpers/ClassSupport","sap/ui/core/message/Message","../MacroAPI"],function(t,e,i){"use strict";var n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I;var M=t.xmlEventHandler;var A=t.property;var E=t.event;var w=t.defineUI5Class;var S=t.association;function L(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function B(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;V(t,e)}function V(t,e){V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return V(t,e)}function j(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function R(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}function U(t){if(t.isA("sap.fe.macros.controls.FieldWrapper")){const e=t;const i=e.getEditMode()==="Display"?[e.getContentDisplay()]:e.getContentEdit();if(i.length>=1){return i.length?i[0]:undefined}}else{return t}return undefined}let k=(n=w("sap.fe.macros.field.FieldAPI"),a=A({type:"boolean"}),r=A({type:"boolean"}),o=A({type:"string"}),l=A({type:"string",expectedAnnotations:[],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty","Property"]}),s=E(),c=S({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),u=A({type:"boolean"}),p=A({type:"sap.fe.macros.FieldFormatOptions"}),d=A({type:"string"}),f=A({type:"boolean"}),m=A({type:"boolean"}),g=M(),n(h=(b=function(t){B(i,t);function i(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;L(e,"editable",v,_(e));L(e,"readOnly",y,_(e));L(e,"id",P,_(e));L(e,"metaPath",C,_(e));L(e,"change",D,_(e));L(e,"ariaLabelledBy",$,_(e));L(e,"required",x,_(e));L(e,"formatOptions",T,_(e));L(e,"semanticObject",F,_(e));L(e,"collaborationEnabled",O,_(e));L(e,"visible",I,_(e));return e}var n=i.prototype;n.handleChange=function t(e){this.fireChange({value:this.getValue(),isValid:e.getParameter("valid")})};n.onBeforeRendering=function t(){const e=this.content;if(e&&e.isA(["sap.m.Button"])&&e.addAriaLabelledBy){const t=this.getAriaLabelledBy();for(let i=0;i<t.length;i++){const n=t[i];const a=e.getAriaLabelledBy()||[];if(a.indexOf(n)===-1){e.addAriaLabelledBy(n)}}}};n.enhanceAccessibilityState=function t(e,i){const n=this.getParent();if(n&&n.enhanceAccessibilityState){n.enhanceAccessibilityState(this,i)}return i};n.getAccessibilityInfo=function t(){const e=this.content;return e&&e.getAccessibilityInfo?e.getAccessibilityInfo():{}};n.getIdForLabel=function t(){const e=this.content;return e.getIdForLabel()};n.getValue=function t(){var e,i,n,a;let r=U(this.content);if(this.collaborationEnabled&&(e=r)!==null&&e!==void 0&&e.isA("sap.m.HBox")){r=r.getItems()[0]}if((i=r)!==null&&i!==void 0&&i.isA("sap.m.CheckBox")){return r.getSelected()}else if((n=r)!==null&&n!==void 0&&n.isA("sap.m.InputBase")){return r.getValue()}else if((a=r)!==null&&a!==void 0&&a.isA("sap.ui.mdc.Field")){return r.getValue()}else{throw"getting value not yet implemented for this field type"}};n.addMessage=function t(i){const n=this.getMessageManager();const a=U(this.content);let r;if(a!==null&&a!==void 0&&a.isA("sap.m.CheckBox")){var o;r=(o=a.getBinding("selected"))===null||o===void 0?void 0:o.getResolvedPath()}else if(a!==null&&a!==void 0&&a.isA("sap.m.InputBase")){var l;r=(l=a.getBinding("value"))===null||l===void 0?void 0:l.getResolvedPath()}else if(a!==null&&a!==void 0&&a.isA("sap.ui.mdc.Field")){r=a.getBinding("value").getResolvedPath()}const s=new e({target:r,type:i.type,message:i.message,processor:a===null||a===void 0?void 0:a.getModel(),description:i.description,persistent:i.persistent});n.addMessages(s);return s.getId()};n.removeMessage=function t(e){const i=this.getMessageManager();const n=i.getMessageModel().getData();const a=n.find(t=>t.id===e);if(a){i.removeMessages(a)}};n.getMessageManager=function t(){return sap.ui.getCore().getMessageManager()};return i}(i),v=j(b.prototype,"editable",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=j(b.prototype,"readOnly",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),P=j(b.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),C=j(b.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),D=j(b.prototype,"change",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),$=j(b.prototype,"ariaLabelledBy",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),x=j(b.prototype,"required",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),T=j(b.prototype,"formatOptions",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),F=j(b.prototype,"semanticObject",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),O=j(b.prototype,"collaborationEnabled",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),I=j(b.prototype,"visible",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),j(b.prototype,"handleChange",[g],Object.getOwnPropertyDescriptor(b.prototype,"handleChange"),b.prototype),b))||h);return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/field/FieldBaseDelegate",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/type/TypeUtil","sap/ui/mdc/field/FieldBaseDelegate","sap/ui/model/Filter"],function(t,e,i,n,a){"use strict";return Object.assign({},n,{initializeTypeFromBinding:function(t,e,i){const n={};if(e&&e.isA(["sap.ui.model.odata.type.Unit","sap.ui.model.odata.type.Currency"])&&Array.isArray(i)&&i.length>2&&i[2]!==undefined){e.formatValue(i,"string");n.bTypeInitialized=true;n.mCustomUnits=i[2]}return n},initializeInternalUnitType:function(t,e,i){if((i===null||i===void 0?void 0:i.mCustomUnits)!==undefined){e.formatValue([null,null,i.mCustomUnits],"string")}},enhanceValueForUnit:function(t,e,i){if((i===null||i===void 0?void 0:i.bTypeInitialized)===true&&e.length===2){e.push(i.mCustomUnits);return e}return undefined},getDefaultValueHelpDelegate:function(t){return{name:"sap/ui/mdc/odata/v4/ValueHelpDelegate",payload:{}}},getTypeUtil:function(t){return i},_getValueListParameter:function(t,e){return t.Parameters.filter(function(t){if(t.LocalDataProperty){return t.LocalDataProperty.$PropertyPath===e}else{return false}})},_getFilter:function(t,e,i,n,r,o){const l=[];const s=t.Parameters.filter(function(t){var n;return t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||((n=t.LocalDataProperty)===null||n===void 0?void 0:n.$PropertyPath)===e&&t.ValueListProperty===i});for(const t of s){var c;let i;if(((c=t.LocalDataProperty)===null||c===void 0?void 0:c.$PropertyPath)===e){i=n}else if((r===null||r===void 0?void 0:r.isActionParameterDialog)===true){var u;const e=`APD_::${(u=t.LocalDataProperty)===null||u===void 0?void 0:u.$PropertyPath}`;const n=sap.ui.getCore().byId(e);i=n===null||n===void 0?void 0:n.getValue()}else if(o!==undefined){var p;const e=(p=t.LocalDataProperty)===null||p===void 0?void 0:p.$PropertyPath;const n=o===null||o===void 0?void 0:o[0];i=e&&(n===null||n===void 0?void 0:n[e])}if(i!==null&&i!==undefined){l.push(new a({path:t.ValueListProperty,operator:"EQ",value1:i}))}}return l},getItemForValue:function(t,e,i){if(i.value!==""){return n.getItemForValue(t,e,i)}return undefined},getDescription:async function(i,n,a,r,o,l,s,c,u,p,d){var f,m;if(!i&&p!==null&&p!==void 0&&p.getDisplay().includes("Description")){i={retrieveTextFromValueList:true}}if(((f=i)===null||f===void 0?void 0:f.retrieveTextFromValueList)===true||((m=i)===null||m===void 0?void 0:m.isFilterField)===true){const i=n.getModel();const r=i?i.getMetaModel():e.getAppComponent(n).getModel().getMetaModel();const o=n.getPayload();const s=u===null||u===void 0?void 0:u[o.valueHelpQualifier];const c=o===null||o===void 0?void 0:o.propertyPath;let p;try{var g;const e=await r.requestValueListInfo(c,true,l);const i=r.getObject(`${c}@sapui.name`);const n=e[Object.keys(e)[0]];const u=this._getValueListParameter(n,i);const d=u===null||u===void 0?void 0:(g=u[0])===null||g===void 0?void 0:g.ValueListProperty;if(!d){throw Error(`Inconsistent value help annotation for ${i}`)}const f=n.$model;const m=f.getMetaModel().getObject(`/${n.CollectionPath}/${d}@com.sap.vocabularies.Common.v1.Text`);if(m&&m.$Path){p=m.$Path;const t=this._getFilter(n,i,d,a,o,s);const e=f.bindList(`/${n.CollectionPath}`,undefined,undefined,t,{$select:p});const r=await e.requestContexts(0,2);return r.length?r[0].getObject(p):undefined}else{const e=`Text Annotation for ${d} is not defined`;t.error(e);return undefined}}catch(e){const i=e?e.status:undefined;const n=e instanceof Error?e.message:String(e);const a=i===404?`Metadata not found (${i}) for value help of property ${c}`:n;t.error(a)}}return undefined}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/field/FieldHelper",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/base/ManagedObject","sap/ui/core/format/DateFormat","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m){"use strict";var g=s.getAlignmentExpression;var h=l.isRequiredExpression;var b=o.generate;var v=a.or;var y=a.ifElse;var P=a.equal;var C=a.constant;var D=a.compileExpression;var $=n.KeyHelper;var x=i.UI;const T="@Org.OData.Measures.V1.ISOCurrency",F="@Org.OData.Measures.V1.Unit";const O={displayMode:function(t,e){const i=t["@com.sap.vocabularies.Common.v1.Text"],n=i&&(t&&t["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]||e&&e["@com.sap.vocabularies.UI.v1.TextArrangement"]);if(n){if(n.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description"}else if(n.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription"}return"DescriptionValue"}return i?"DescriptionValue":"Value"},buildExpressionForTextValue:function(t,e){const i=e.context.getModel();const n=e.context.getPath();const a=i.createBindingContext(`${n}@com.sap.vocabularies.Common.v1.Text`);const r=a.getProperty();const o=r?m.value(r,{context:a}):undefined;let l="";t=m.getNavigationPath(t);if(t.indexOf("/")>-1&&o){l=t.replace(/[^/]*$/,o.substr(1,o.length-2))}else{l=o}if(l){l="{ path : '"+l.replace(/^\{+/g,"").replace(/\}+$/g,"")+"', parameters: {'$$noPatch': true}}"}return l},buildTargetPathFromDataModelObjectPath:function(t){const e=t.startingEntitySet.name;let i=`/${e}`;const n=t.navigationProperties;for(let t=0;t<n.length;t++){i+=`/${n[t].name}`}return i},isNotAlwaysHidden:function(t,e){const i=e.context;let n=false;if(t.Value&&t.Value.$Path){n=i.getObject("Value/$Path@com.sap.vocabularies.UI.v1.Hidden")}if(!n||n.$Path){n=i.getObject("@com.sap.vocabularies.UI.v1.Hidden");if(!n||n.$Path){n=false}}return!n},isDraftIndicatorVisibleInFieldGroup:function(t){if(t&&t.formatOptions&&t.formatOptions.fieldGroupDraftIndicatorPropertyPath&&t.formatOptions.fieldGroupName){return"{parts: ["+"{value: '"+t.formatOptions.fieldGroupName+"'},"+"{path: 'internal>semanticKeyHasDraftIndicator'} , "+"{path: 'HasDraftEntity', targetType: 'any'}, "+"{path: 'IsActiveEntity', targetType: 'any'}, "+"{path: 'pageInternal>hideDraftInfo', targetType: 'any'}], "+"formatter: 'sap.fe.macros.field.FieldRuntime.isDraftIndicatorVisible'}"}else{return false}},isRequired:function(t,e){if(e==="Display"||e==="ReadOnly"||e==="Disabled"){return false}if(t){if(p.bindingParser(t)){return"{= %"+t+" === 7}"}else{return t=="com.sap.vocabularies.Common.v1.FieldControlType/Mandatory"}}return false},getActionParameterVisibility:function(t,e){if(typeof t==="object"){if(t&&t.$If&&t.$If.length===3){const i={$If:[]};i.$If[0]=t.$If[0];i.$If[1]=t.$If[2];i.$If[2]=t.$If[1];return m.value(i,e)}else{return"{= !%{"+t.$Path+"} }"}}else if(typeof t==="boolean"){return m.value(!t,e)}else{return undefined}},propertyName:function(t,e){let i;if(typeof t==="string"){if(e.context.getPath().indexOf("$Path")>-1||e.context.getPath().indexOf("$PropertyPath")>-1){i=t}}else if(t.$Path||t.$PropertyPath){const n=t.$Path?"/$Path":"/$PropertyPath";const a=e.context.getPath();i=e.context.getObject(`${a+n}/$@sapui.name`)}else if(t.Value&&t.Value.$Path){i=t.Value.$Path}else{i=e.context.getObject("@sapui.name")}return i},fieldControl:function(t,e){const i=e&&e.context.getModel();const n=e&&e.context.getPath();const a=i&&i.createBindingContext(`${n}@com.sap.vocabularies.Common.v1.FieldControl`);const r=a&&a.getProperty();if(r){if(r.hasOwnProperty("$EnumMember")){return r.$EnumMember}else if(r.hasOwnProperty("$Path")){return m.value(r,{context:a})}}else{return undefined}},valueHelpProperty:function(t,e){const i=t.getPath();const n=t.getObject()||{};let a=n.$Path?`${i}/$Path`:i;const r=`${a}@`;const o=t.getObject(r);let l;if(o){l=o.hasOwnProperty(T)&&T||o.hasOwnProperty(F)&&F;if(l&&!e){const e=`${a+l}/$Path`;if(t.getObject(e)){a=e}}}return a},valueHelpPropertyForFilterField:function(t){return O.valueHelpProperty(t,true)},getIDForFieldValueHelp:function(t,e,i,n){if(t){return t}let a=n;if(i!==n){a=`${i}::${n}`}return b([e,a])},getFieldHelpPropertyForFilterField:function(t,i,n,a,r,o,l,s){const u=O.propertyName(i,{context:t}),p=s==="true"||s===true;const d=t.getModel(),f=t.getPath(),m=c.getLocationForPropertyPath(d,f),g=e.getFilterRestrictionsByPath(m,d);if((n==="Edm.DateTimeOffset"||n==="Edm.Date")&&p&&g&&g.FilterAllowedExpressions&&g.FilterAllowedExpressions[u]&&(g.FilterAllowedExpressions[u].indexOf("SingleRange")!==-1||g.FilterAllowedExpressions[u].indexOf("SingleValue")!==-1)||n==="Edm.Boolean"&&!l){return undefined}return O.getIDForFieldValueHelp(null,a||"FilterFieldValueHelp",r,o)},getObjectIdentifierText:function(t,e,i,n){if(t){if(e&&(e.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"||e.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"||e.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst")){return undefined}else{return i||`{${n}}`}}return undefined},getSemanticObjectsList:function(t){const e=t;const i=[];for(const n in e.getObject()){if(n.indexOf("com.sap.vocabularies.Common.v1.SemanticObject")>-1&&n.indexOf("com.sap.vocabularies.Common.v1.SemanticObjectMapping")===-1&&n.indexOf("com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions")===-1){let a=e.getObject()[n];if(typeof a==="object"){a=m.value(a,{context:t})}if(i.indexOf(a)===-1){i.push(a)}}}const n=new f(i);n.$$valueAsPromise=true;return n.createBindingContext("/")},getSemanticObjectsQualifiers:function(t){const e=t;let i=[];const n=function(t){return i.find(function(e){return e.qualifier===t})};for(const t in e.getObject()){if(t.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")>-1||t.indexOf("com.sap.vocabularies.Common.v1.SemanticObjectMapping#")>-1||t.indexOf("com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions#")>-1){const a=e.getObject()[t],r=t.split("#")[0],o=t.split("#")[1];let l=n(o);if(!l){l={qualifier:o};l[r]=a;i.push(l)}else{l[r]=a}}}i=i.filter(function(t){return!!t["@com.sap.vocabularies.Common.v1.SemanticObject"]});const a=new f(i);a.$$valueAsPromise=true;return a.createBindingContext("/")},hasSemanticObjectsWithPath:function(t){let e=false;if(t&&t.length){for(let i=0;i<t.length;i++){if(t[i]&&t[i].value&&t[i].value.indexOf("{")===0){e=true;break}}}return e},isSemanticKeyHasFieldGroupColumn:function(t){return t},computeFieldBaseDelegate:function(t,e){if(e){return JSON.stringify({name:t,payload:{retrieveTextFromValueList:e}})}return`{name: '${t}'}`},_getPrimaryIntents:function(e){const i=[];if(e){const t=sap.ushell&&sap.ushell.Container;const n=t&&t.getService("CrossApplicationNavigation");e.forEach(function(t){if(typeof t==="string"){i.push(n.getPrimaryIntent(t,{}))}})}return Promise.all(i).then(function(t){return t}).catch(function(e){t.error("Error fetching primary intents",e);return[]})},_checkIfSemanticObjectsHasPrimaryAction:function(t,e,i){const n=function(t,e,i){for(const n in t.semanticObjectUnavailableActions[i].actions){if(e.intent.split("-")[1].indexOf(t.semanticObjectUnavailableActions[i].actions[n])===0){return false}}return true};t.semanticPrimaryActions=e;const a=t.semanticObjects&&t.mainSemanticObject&&t.semanticPrimaryActions[t.semanticObjects.indexOf(t.mainSemanticObject)];const r=i.getShellServices().getHash();if(t.mainSemanticObject&&a!==null&&a.intent!==r){for(const e in t.semanticObjectUnavailableActions){if(t.mainSemanticObject.indexOf(t.semanticObjectUnavailableActions[e].semanticObject)===0){return n(t,a,e)}}return true}else{return false}},checkPrimaryActions:function(e,i,n){return this._getPrimaryIntents(e&&e.semanticObjects).then(t=>i?{titleLink:t,hasTitleLink:this._checkIfSemanticObjectsHasPrimaryAction(e,t,n)}:this._checkIfSemanticObjectsHasPrimaryAction(e,t,n)).catch(function(e){t.error("Error in checkPrimaryActions",e)})},_getTitleLinkWithParameters:function(t,e){if(t&&t.titlelink){return t.titlelink}else{return e}},getPrimaryAction:function(t){return t.semanticPrimaryActions[t.semanticObjects.indexOf(t.mainSemanticObject)].intent?O._getTitleLinkWithParameters(t,t.semanticPrimaryActions[t.semanticObjects.indexOf(t.mainSemanticObject)].intent):t.primaryIntentAction},operators:function(t,i,n,a,o){if(!i||!o){return undefined}let l;const s=O.propertyName(i,{context:t});const u=t.getModel(),p=t.getPath(),d=c.getLocationForPropertyPath(u,p),f=i.$Type;if(f==="Edm.Guid"){return e.getOperatorsForGuidProperty()}o=o.slice(0,-1);const m=o.lastIndexOf("/")>0;const g=m&&o!==d||!m&&d.lastIndexOf("/")>0;const h=g&&d.substr(d.indexOf(o)+o.length+1)||"";const b=g&&h+"/"+s||s;if(!m){if(!g){l=e.getOperatorsForProperty(s,d,u,f,n,a)}else{l=e.getOperatorsForProperty(b,o,u,f,n,a);if(l.length===0){l=e.getOperatorsForProperty(s,d,u,f,n,a)}}}else if(!g){var v;l=e.getOperatorsForProperty(b,o,u,f,n,a);if(l.length===0){l=e.getOperatorsForProperty(s,r.getEntitySetPath(o),u,f,n,a)}return((v=l)===null||v===void 0?void 0:v.length)>0?l.toString():undefined}else{l=e.getOperatorsForProperty(b,o,u,f,n,a);if(l.length===0){l=e.getOperatorsForProperty(b,r.getEntitySetPath(o),u,f,n,a)}}if((!l||l.length===0)&&(f==="Edm.Date"||f==="Edm.DateTimeOffset")){l=e.getOperatorsForDateProperty(f)}return l.length>0?l.toString():undefined},getPropertyContextForQuickView:function(t){if(t.getObject("Value")!==undefined){const e=t.getInterface(),i=e.getModel();let n=e.getPath();n=n+(n.endsWith("/")?"Value":"/Value");return i.createBindingContext(n)}else{return t}},getPropertyPathForQuickView:function(t){if(t&&t.getObject("$Path")){const e=t.getInterface(),i=e.getModel();let n=e.getPath();n=n+(n.endsWith("/")?"$Path":"/$Path");return i.createBindingContext(n)}return t},getDataFieldDefault:function(t){const e=t.getModel().getObject(`${t.getPath()}@com.sap.vocabularies.UI.v1.DataFieldDefault`);return e?`${t.getPath()}@com.sap.vocabularies.UI.v1.DataFieldDefault`:t.getPath()},isDataFieldActionButtonVisible:function(t,e,i,n){return e["@com.sap.vocabularies.UI.v1.Hidden"]!==true&&(i!==true||n!==false)},getPressEventForDataFieldActionButton:function(t,e){var i;let n="Isolated";if(e.InvocationGrouping&&e.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"){n="ChangeSet"}let a=t.navigateAfterAction;a=a==="false"?false:true;const r=t===null||t===void 0?void 0:(i=t.entitySet)===null||i===void 0?void 0:i.getPath().split("/");const o=r[r.length-1];const l={contexts:"${$source>/}.getBindingContext()",invocationGrouping:c.addSingleQuotes(n),model:"${$source>/}.getModel()",label:c.addSingleQuotes(e.Label,true),isNavigable:a,entitySetName:c.addSingleQuotes(o)};return c.generateFunction(".editFlow.invokeAction",c.addSingleQuotes(e.Action),c.objectToString(l))},isNumericDataType:function(t){const e=t;if(e!==undefined){const t=["Edm.Int16","Edm.Int32","Edm.Int64","Edm.Byte","Edm.SByte","Edm.Single","Edm.Decimal","Edm.Double"];return t.indexOf(e)===-1?false:true}else{return false}},isDateOrTimeDataType:function(t){if(t!==undefined){const e=["Edm.DateTimeOffset","Edm.DateTime","Edm.Date","Edm.TimeOfDay","Edm.Time"];return e.indexOf(t)>-1}else{return false}},isDateTimeDataType:function(t){if(t!==undefined){const e=["Edm.DateTimeOffset","Edm.DateTime"];return e.indexOf(t)>-1}else{return false}},isDateDataType:function(t){return t==="Edm.Date"},isTimeDataType:function(t){if(t!==undefined){const e=["Edm.TimeOfDay","Edm.Time"];return e.indexOf(t)>-1}else{return false}},getDataTypeForVisualization:function(t,e){var i,n;const a="@com.sap.vocabularies.Common.v1.Text",r="@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement";return(t===null||t===void 0?void 0:(i=t[r])===null||i===void 0?void 0:i.$EnumMember)!=="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"&&t!==null&&t!==void 0&&(n=t[a])!==null&&n!==void 0&&n.$Path?"Edm.String":e},getColumnAlignment:function(t,e){const i=e.collection.sPath,n=e.collection.oModel;if((t["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&t.Inline&&t.IconUrl){return"Center"}const a=n.getObject(`${i}/@com.sap.vocabularies.Common.v1.SemanticKey`);if(t["$Type"]==="com.sap.vocabularies.UI.v1.DataField"){const e=t.Value.$Path;const i=a&&!a.every(function(t){return t.$PropertyPath!==e});if(i){return"Begin"}}return O.getDataFieldAlignment(t,n,i)},getPropertyAlignment:function(t,e,i){let n="Begin";const a=e?e.textAlignMode:"";switch(a){case"Form":if(this.isNumericDataType(t)){n="Begin";if(i){n=g(i,"Begin","End")}}break;default:if(this.isNumericDataType(t)||this.isDateOrTimeDataType(t)){n="Right"}break}return n},getDataFieldAlignment:function(t,e,i,n,a){let r,o="Begin",l,s;if(t["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){r=t.Target.$AnnotationPath;if(t.Target["$AnnotationPath"]&&t.Target["$AnnotationPath"].indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){const t=e.getObject(`${i}/${r}`);for(let c=0;c<t.Data.length;c++){l=e.getObject(`${i}/${r}/Data/${c.toString()}/Value/$Path/$Type`);s=e.getObject(`${i}/${r}/Data/${c.toString()}/Value/$Path@`);l=this.getDataTypeForVisualization(s,l);o=this.getPropertyAlignment(l,n,a);if(o==="Begin"){break}}return o}else if(t.Target["$AnnotationPath"]&&t.Target["$AnnotationPath"].indexOf("com.sap.vocabularies.UI.v1.DataPoint")>=0&&e.getObject(`${i}/${r}/Visualization/$EnumMember`)==="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){return o}else{l=e.getObject(`${i}/${r}/$Type`);if(l==="com.sap.vocabularies.UI.v1.DataPointType"){l=e.getObject(`${i}/${r}/Value/$Path/$Type`);s=e.getObject(`${i}/${r}/Value/$Path@`);l=this.getDataTypeForVisualization(s,l)}o=this.getPropertyAlignment(l,n,a)}}else{r=t.Value.$Path;l=e.getObject(`${i}/${r}/$Type`);s=e.getObject(`${i}/${r}@`);l=this.getDataTypeForVisualization(s,l);if(!(e.getObject(`${i}/`)["$Key"].indexOf(r)===0)){o=this.getPropertyAlignment(l,n,a)}}return o},getTypeAlignment:function(t,e,i,n,a,r){const o=t.getInterface(0);const l=o.getModel();if(n==="/undefined"&&r&&r.$target){n=`/${r.$target.fullyQualifiedName.split("/")[0]}`}return O.getDataFieldAlignment(e,l,n,i,a)},isDataFieldActionButtonEnabled:function(t,e,i,n){if(e!==true){return"true"}return(i===null?"{= !${#"+t.Action+"} ? false : true }":i)?n:"true"},computeLabelText:function(t,e){const i=e.context.getModel();let n=e.context.getPath();if(n.endsWith("/")){n=n.slice(0,n.lastIndexOf("/"))}const a=i.getObject(`${n}/Label`);if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return undefined}if(a){return a}else if(a===""){return""}let r;if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(t.Target.$AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1||t.Target.$AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1){r=i.getObject(`${n}/Target/$AnnotationPath@/Title`)}if(t.Target.$AnnotationPath.indexOf("@com.sap.vocabularies.Communication.v1.Contact")>-1){r=i.getObject(`${n}/Target/$AnnotationPath@/fn/$Path@com.sap.vocabularies.Common.v1.Label`)}}if(r){return r}let o;if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){o=i.getObject(`${n}/Target/$AnnotationPath@/Label`)}if(o){return o}const l=i.getObject(`${n}/Value/$Path@com.sap.vocabularies.Common.v1.Label`);if(l){return l}let s;if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){s=i.getObject(`${n}/Target/$AnnotationPath/Value/$Path@com.sap.vocabularies.Common.v1.Label`)}if(s){return s}return""},buildExpressionForAlignItems:function(t){const e=C(t);const i=C("com.sap.vocabularies.UI.v1.VisualizationType/Progress");const n=C("com.sap.vocabularies.UI.v1.VisualizationType/Rating");return D(y(v(P(e,i),P(e,n)),C("Center"),y(x.IsEditable,C("Center"),C("Stretch"))))},hasValueHelpAnnotation:function(t){if(t){return!!(t["@com.sap.vocabularies.Common.v1.ValueListReferences"]||t["@com.sap.vocabularies.Common.v1.ValueListMapping"]||t["@com.sap.vocabularies.Common.v1.ValueList"])}return false},getAPDialogDisplayFormat:function(t,i){let n;const a=i.context.getModel();const r=i.context.getPath();const o=t.$Name||i.context.getProperty(`${r}@sapui.name`);const l=a.getObject(`${r}@`);const s=l["@com.sap.vocabularies.Common.v1.ValueList"]||l["@com.sap.vocabularies.Common.v1.ValueListMapping"]||l["@com.sap.vocabularies.Common.v1.ValueListReferences"];const c=function(t){const e=t.Parameters.find(function(t){return t.LocalDataProperty&&t.LocalDataProperty.$PropertyPath===o});return e&&e.ValueListProperty};let u;if(l["@com.sap.vocabularies.Common.v1.TextArrangement"]||l["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]){return e.computeDisplayMode(l,undefined)}else if(s){if(s.CollectionPath){u=c(s);if(!u){return"Value"}n=a.getObject(`/${s.CollectionPath}/${u}@`);return n&&n["@com.sap.vocabularies.Common.v1.Text"]?e.computeDisplayMode(n,undefined):"Value"}else{return a.requestValueListInfo(r,true).then(function(t){u=c(t[""]);if(!u){return"Value"}n=t[""].$model.getMetaModel().getObject(`/${t[""]["CollectionPath"]}/${u}@`);return n&&n["@com.sap.vocabularies.Common.v1.Text"]?e.computeDisplayMode(n,undefined):"Value"})}}else{return"Value"}},getActionParameterDialogFieldHelp:function(t,e,i){return this.hasValueHelpAnnotation(t)?b([e,i]):undefined},getValueHelpDelegate:function(t,e,i,n){const a={name:c.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:c.addSingleQuotes(u.getPropertyPath({UnboundAction:!t,EntityTypePath:e,Action:i,Property:n})),qualifiers:{},valueHelpQualifier:c.addSingleQuotes(""),isActionParameterDialog:true}};return c.objectToString(a)},getValueHelpDelegateForNonComputedVisibleKeyField:function(t){const e={name:c.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:c.addSingleQuotes(t),qualifiers:{},valueHelpQualifier:c.addSingleQuotes("")}};return c.objectToString(e)},_getEntitySetFromMultiLevel:function(t,e,i,n,a){let r=e.split("/").filter(Boolean);r=r.filter(function(t){return t!=="$NavigationPropertyBinding"});if(r.length>0){for(let e=n;e<r.length-a;e++){i=`/${t.getObject(`${i}/$NavigationPropertyBinding/${r[e]}`)}`}}return i},getPropertyCollection:function(t,e){const i=e&&e.context||t;const n=i.getPath();const a=n.split("/").filter(Boolean);const r=a[0];const o=i.getObject("$Path");let l=`/${r}`;if(n.indexOf("/@com.sap.vocabularies.")>-1){const t=n.indexOf("/@com.sap.vocabularies.");const e=n.substring(0,t);l=O._getEntitySetFromMultiLevel(i,e,l,1,0)}if(o&&o.indexOf("/")>-1){l=O._getEntitySetFromMultiLevel(i,o,l,0,1)}return l},getUnitOrCurrency:function(t){const e=t.getObject();let i=t.sPath;if(e["@Org.OData.Measures.V1.ISOCurrency"]){i=`${i}Org.OData.Measures.V1.ISOCurrency`}else{i=`${i}Org.OData.Measures.V1.Unit`}return i},hasStaticUnitOrCurrency:function(t){return t["@Org.OData.Measures.V1.ISOCurrency"]?!t["@Org.OData.Measures.V1.ISOCurrency"].$Path:!t["@Org.OData.Measures.V1.Unit"].$Path},getStaticUnitOrCurrency:function(t,e){if(e&&e.measureDisplayMode!=="Hidden"){const e=t["@Org.OData.Measures.V1.ISOCurrency"]||t["@Org.OData.Measures.V1.Unit"];const i=d.getDateInstance();const n=i.oLocaleData.mData;if(n&&n.units&&n.units.short&&n.units.short[e]&&n.units.short[e].displayName){return n.units.short[e].displayName}return e}},getEmptyIndicatorTrigger:function(t,e,i){if(i){return t?i:"inactive"}return t?e:"inactive"},getBindingInfoForTextArrangement:function(t,e,i){if(e&&e.$EnumMember&&e.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"&&i){return`{${i.Value.$Path}}`}return undefined},semanticKeyFormat:function(t,e){e.arguments=[{},{groupingEnabled:false}];return m.format(t,e)},getPathForIconSource:function(t){return"{= FIELDRUNTIME.getIconForMimeType(%{"+t+"@odata.mediaContentType})}"},getFilenameExpr:function(t,e){if(t){if(t.indexOf("{")===0){return"{= $"+t+" ? $"+t+" : $"+e+"}"}return t}return e},calculateMBfromByte:function(t){return t?(t/(1024*1024)).toFixed(6):undefined},getDownloadUrl:function(t){return t+"{= ${internal>/stickySessionToken} ? ('?SAP-ContextId=' + ${internal>/stickySessionToken}) : '' }"},getMarginClass:function(t){return t==="true"||t===true?"sapMTableContentMargin":undefined},getRequired:function(t,e,i){let n=C(false);if(e!==null){n=h(e===null||e===void 0?void 0:e.targetObject)}return D(v(n,i.indexOf(t)>-1))},isFieldPartOfForm:function(t,e){const i=$.generateKeyFromDataField(e.targetObject);const n=t.find(t=>t.key===i);return n?true:false}};O.buildExpressionForTextValue.requiresIContext=true;O.fieldControl.requiresIContext=true;O.getTypeAlignment.requiresIContext=true;O.getPropertyCollection.requiresIContext=true;O.getAPDialogDisplayFormat.requiresIContext=true;O.semanticKeyFormat.requiresIContext=true;O.computeLabelText.requiresIContext=true;O.getActionParameterVisibility.requiresIContext=true;return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/field/FieldRuntime",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/CommonHelper","sap/fe/macros/controls/FieldWrapper","sap/fe/macros/field/FieldAPI","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/m/library","sap/m/MessageBox","sap/m/ResponsivePopover","sap/ui/core/Core","sap/ui/core/IconPool","sap/ui/model/Filter","sap/ui/unified/FileUploaderParameter","sap/ui/util/openWindow"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P){"use strict";var C=l.getResourceModel;var D=n.Activity;function $(t){let i=t.getBindingContext().getBinding();if(!i.isA("sap.ui.model.odata.v4.ODataListBinding")){const n=e.getTargetView(t);i=n.getBindingContext().getBinding()}return i}const x={resetChangesHandler:undefined,uploadPromises:undefined,onDataFieldWithNavigationPath:function(i,n,r){if(n._routing){let t=i.getBindingContext();const l=e.getTargetView(i),s=t.getModel().getMetaModel(),c=function(e){if(e){t=e}n._routing.navigateToTarget(t,r,true)};if(l.getViewData().converterType==="ObjectPage"&&!o.isStickySessionSupported(s)){a.processDataLossOrDraftDiscardConfirmation(c,Function.prototype,t,l.getController(),true,a.NavigationType.ForwardNavigation)}else{c()}}else{t.error("FieldRuntime: No routing listener controller extension found. Internal navigation aborted.","sap.fe.macros.field.FieldRuntime","onDataFieldWithNavigationPath")}},isDraftIndicatorVisible:function(t,e,i,n,a){if(n!==undefined&&i!==undefined&&(!n||i)&&!a){return t===e}else{return false}},onValidateFieldGroup:function(t,e){const i=x._getExtensionController(t);i._sideEffects.handleFieldGroupChange(e)},handleChange:function(t,e){const n=e.getSource(),a=n&&n.getBindingContext().isTransient(),r=e.getParameter("promise")||Promise.resolve(),o=e.getSource(),l=e.getParameter("valid"),s=this.getFieldStateOnChange(e).state["validity"];r.then(function(){e.oSource=o;e.mParameters={valid:l};u.handleChange(e,t)}).catch(function(){e.oSource=o;e.mParameters={valid:false};u.handleChange(e,t)});const c=x._getExtensionController(t);c.editFlow.syncTask(r);if(a){return}c._sideEffects.handleFieldChange(e,s,r);const p=e.getSource(),d=i.isConnected(p);if(d&&s){var f,m;const t=$(p);const e=[...((f=p.getBindingInfo("value")||p.getBindingInfo("selected"))===null||f===void 0?void 0:f.parts)||[],...((m=p.getBindingInfo("additionalValue"))===null||m===void 0?void 0:m.parts)||[]].map(function(t){if(t){var e;return`${(e=p.getBindingContext())===null||e===void 0?void 0:e.getPath()}/${t.path}`}});const a=()=>{if(t.hasPendingChanges()){t.attachEventOnce("patchCompleted",function(){i.send(p,D.Change,e)})}else{i.send(p,D.Undo,e)}};if(n.isA("sap.ui.mdc.Field")){r.then(()=>{a()}).catch(()=>{a()})}else{a()}}},handleLiveChange:function(t){const e=t.getSource();if(i.isConnected(e)){const t=e.getBindingInfo("value").parts[0].path;const n=`${e.getBindingContext().getPath()}/${t}`;i.send(e,D.LiveChange,n);if(!this.resetChangesHandler){this.resetChangesHandler=()=>{setTimeout(()=>{if(e.isA("sap.ui.mdc.Field")){const t=h.byId(h.getCurrentFocusedControlId());if((t===null||t===void 0?void 0:t.getParent())===e){return}}e.detachBrowserEvent("focusout",this.resetChangesHandler);delete this.resetChangesHandler;i.send(e,D.Undo,n)},100)};e.attachBrowserEvent("focusout",this.resetChangesHandler)}}},handleOpenPicker:function(t){const e=t.getSource();const n=i.isConnected(e);if(n){const t=e.getBindingInfo("value").parts[0].path;const n=`${e.getBindingContext().getPath()}/${t}`;i.send(e,D.LiveChange,n)}},handleClosePicker:function(t){const e=t.getSource();const n=i.isConnected(e);if(n){const t=$(e);if(!t.hasPendingChanges()){const t=e.getBindingInfo("value").parts[0].path;const n=`${e.getBindingContext().getPath()}/${t}`;i.send(e,D.Undo,n)}}},_sendCollaborationMessageForFileUploader(t,e){const n=i.isConnected(t);if(n){var a,r;const n=(a=t.getParent())===null||a===void 0?void 0:a.getProperty("propertyPath");const o=`${(r=t.getBindingContext())===null||r===void 0?void 0:r.getPath()}/${n}`;i.send(t,e,o)}},handleOpenUploader:function(t){const e=t.getSource();x._sendCollaborationMessageForFileUploader(e,D.LiveChange)},handleCloseUploader:function(t){const e=t.getSource();x._sendCollaborationMessageForFileUploader(e,D.Undo)},getFieldStateOnChange:function(t){let e=t.getSource(),i={};const n=function(t){return t&&t.getDataState()?t.getDataState().getInvalidValue()===undefined:true};if(e.isA("sap.fe.macros.field.FieldAPI")){e=e.getContent()}if(e.isA(c.getMetadata().getName())&&e.getEditMode()==="Editable"){e=e.getContentEdit()[0]}if(e.isA("sap.ui.mdc.Field")){let a=t.getParameter("valid")||t.getParameter("isValid");if(a===undefined){if(e.getMaxConditions()===1){const t=e.getBindingInfo("value");a=n(t&&t.binding)}if(e.getValue()===""&&!e.getProperty("required")){a=true}}i={fieldValue:e.getValue(),validity:!!a}}else{const t=e.getBinding("uploadUrl")||e.getBinding("value")||e.getBinding("selected");i={fieldValue:t&&t.getValue(),validity:n(t)}}return{field:e,state:i}},_fnFixHashQueryString:function(t){if(t&&t.indexOf("?")!==-1){t=t.split("?")[0]}return t},_fnGetLinkInformation:function(t,i,n,a,r){const o=i&&i.getModel();const l=o&&o.getMetaModel();const s=a||t&&t.getValue();const c=i&&e.getTargetView(i);const u=c&&c.getBindingContext("internal");const p=c&&e.getAppComponent(c);const d=p&&p.getShellServices();const f=d&&d.getLinksWithCache([[{semanticObject:s}]]);const m=l&&l.getObject(`${n}@com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions`);return{SemanticObjectName:s,SemanticObjectFullPath:n,MetaModel:l,InternalModelContext:u,ShellServiceHelper:d,GetLinksPromise:f,SemanticObjectUnavailableActions:m,fnSetActive:r}},_fnQuickViewHasNewCondition:function(t,e){if(t&&t.path&&t.path===e.SemanticObjectFullPath){const i=t[!e.SemanticObjectUnavailableActions?"HasTargetsNotFiltered":"HasTargets"];e.fnSetActive(!!i);return true}else{return false}},_fnQuickViewSetNewConditionForConditionalWrapper:function(t,e){if(e[t.SemanticObjectName]){let i,n;const a=Object.keys(e[t.SemanticObjectName]);for(const r in a){i=a[r];n=e[t.SemanticObjectName]&&e[t.SemanticObjectName][i];if(x._fnQuickViewHasNewCondition(n,t)){break}}}},_fnUpdateSemanticObjectsTargetModel:function(i,n,a,r){const o=i&&i.getSource();let l;if(a.isA("sap.m.ObjectStatus")){l=t=>a.setActive(t)}if(a.isA("sap.m.ObjectIdentifier")){l=t=>a.setTitleActive(t)}const s=a&&a.getParent();if(s&&s.isA("sap.fe.macros.controls.ConditionalWrapper")){l=t=>s.setCondition(t)}if(l!==undefined){const i=x._fnGetLinkInformation(o,a,r,n,l);i.fnSetActive=l;const s=x._fnFixHashQueryString(e.getAppComponent(a).getShellServices().getHash());e.updateSemanticTargets([i.GetLinksPromise],[{semanticObject:i.SemanticObjectName,path:i.SemanticObjectFullPath}],i.InternalModelContext,s).then(function(t){if(t){x._fnQuickViewSetNewConditionForConditionalWrapper(i,t)}}).catch(function(e){t.error("Cannot update Semantic Targets model",e)})}},_checkControlHasModelAndBindingContext(t){if(!t.getModel()||!t.getBindingContext()){return false}else{return true}},_checkCustomDataValueBeforeUpdatingSemanticObjectModel(t,e,i){let n;let a;const r=function(t){return!(t!==null&&typeof t==="object")};i=i.filter(t=>t.getKey()!=="sap-ui-custom-settings");for(const o in i){n=i[o].getValue();if(!n&&r(n)){a=i[o].getBinding("value");if(a){a.attachEventOnce("change",function(i){x._fnUpdateSemanticObjectsTargetModel(i,null,t,e)})}}else if(r(n)){x._fnUpdateSemanticObjectsTargetModel(null,n,t,e)}}},LinkModelContextChange:function(t,e,i){const n=t.getSource();if(x._checkControlHasModelAndBindingContext(n)){const t=`${i}/${e}`;const a=n.getDependents().length?n.getDependents()[0]:undefined;const r=a===null||a===void 0?void 0:a.getCustomData();if(r&&r.length>0){x._checkCustomDataValueBeforeUpdatingSemanticObjectModel(n,t,r)}}},openExternalLink:function(t){const e=t.getSource();if(e.data("url")&&e.getProperty("text")!==""){P(e.data("url"))}},createPopoverWithNoTargets:function(t){const e=t.getId();const i={title:C(t).getText("M_ILLUSTRATEDMESSAGE_TITLE"),description:C(t).getText("M_ILLUSTRATEDMESSAGE_DESCRIPTION"),enableFormattedText:true,illustrationSize:"Dot",illustrationType:d.Tent};const n=new p(`${e}-illustratedmessage`,i);const a={horizontalScrolling:false,showHeader:sap.ui.Device.system.phone,placement:f.PlacementType.Auto,content:[n],afterClose:function(t){if(t.getSource()){t.getSource().destroy()}}};return new g(`${e}-popover`,a)},openLink:async function(i,n){try{const a=await i.getTriggerHref();if(!a){try{const t=await i.retrieveLinkItems();if((t===null||t===void 0?void 0:t.length)===0&&i.getPayload().hasQuickViewFacets==="false"){const t=x.createPopoverWithNoTargets(i);i.addDependent(t);t.openBy(n)}else{await i.open(n)}}catch(e){t.error(`Cannot retrieve the QuickView Popover dialog: ${e}`)}}else{const i=e.getTargetView(n);const o=e.getAppComponent(i);const l=o.getShellServices();const s=l.parseShellHash(a);const c={target:{semanticObject:s.semanticObject,action:s.action},params:s.params};r.storeControlRefreshStrategyForHash(i,s);if(e.isStickyEditMode(n)!==true){l.toExternal(c,o)}else{try{const t=await l.hrefForExternalAsync(c,o);P(t)}catch(e){t.error(`Error while retireving hrefForExternal : ${e}`)}}}}catch(e){t.error(`Error triggering link Href: ${e}`)}},pressLink:async function(t){const e=t.getSource();const i=e.isA("sap.m.ObjectIdentifier")?e.findElements(false,t=>t.isA("sap.m.Link"))[0]:e;if(e.getDependents()&&e.getDependents().length>0&&i.getProperty("text")!==""){const t=e.getDependents()[0];if(t&&t.isA("sap.ui.mdc.Link")){await x.openLink(t,i)}}return i},uploadStream:function(t,e){const n=e.getSource(),a=x._getExtensionController(t),r=n.getParent(),o=r.getUploadUrl();if(o!==""){var l,s;r.setUIBusy(true);n.setUploadUrl(o);n.removeAllHeaderParameters();const t=(l=n.getModel())===null||l===void 0?void 0:l.getHttpHeaders()["X-CSRF-Token"];if(t){const e=new y;e.setName("x-csrf-token");e.setValue(t);n.addHeaderParameter(e)}const e=(s=n.getBindingContext())===null||s===void 0?void 0:s.getProperty("@odata.etag");if(e){const t=new y;t.setName("If-Match");t.setValue(i.isConnected(n)?"*":e);n.addHeaderParameter(t)}const c=new y;c.setName("Accept");c.setValue("application/json");n.addHeaderParameter(c);const u=new Promise((t,e)=>{this.uploadPromises=this.uploadPromises||{};this.uploadPromises[n.getId()]={resolve:t,reject:e};n.upload()});a.editFlow.syncTask(u)}else{m.error(C(t).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT"))}},handleUploadComplete:function(t,n,a,r){const o=t.getParameter("status"),l=t.getSource(),s=l.getParent();s.setUIBusy(false);const c=l.getBindingContext();if(o===0||o>=400){this._displayMessageForFailedUpload(t);this.uploadPromises[l.getId()].reject()}else{const e=t.getParameter("headers").etag;if(e){c===null||c===void 0?void 0:c.setProperty("@odata.etag",e,null)}if(n!==null&&n!==void 0&&n.path){c===null||c===void 0?void 0:c.setProperty(n.path,l.getValue())}c===null||c===void 0?void 0:c.setProperty(a,null,null);c===null||c===void 0?void 0:c.setProperty(a,undefined,null);this._callSideEffectsForStream(t,s,r);this.uploadPromises[l.getId()].resolve()}delete this.uploadPromises[l.getId()];const u=i.isConnected(l);if(!u||!c){return}const p=[`${c.getPath()}/${a}`];if(n!==null&&n!==void 0&&n.path){p.push(`${c.getPath()}/${n.path}`)}let d=c.getBinding();if(!d.isA("sap.ui.model.odata.v4.ODataListBinding")){const t=e.getTargetView(l);d=t.getBindingContext().getBinding()}if(d.hasPendingChanges()){d.attachEventOnce("patchCompleted",()=>{i.send(s,D.Change,p)})}else{i.send(s,D.Change,p)}},_displayMessageForFailedUpload:function(t){const e=t.getParameter("responseRaw")||t.getParameter("response");let i,n;try{n=e&&JSON.parse(e);i=n.error&&n.error.message}catch(n){i=e||C(t.getSource()).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT")}m.error(i)},removeStream:function(t,n,a,r){const o=t.getSource();const l=o.getParent();const s=l.getBindingContext();s.setProperty(a,null);s.setProperty(a,undefined,null);this._callSideEffectsForStream(t,l,r);const c=i.isConnected(o);if(c){let t=s.getBinding();if(!t.isA("sap.ui.model.odata.v4.ODataListBinding")){const i=e.getTargetView(o);t=i.getBindingContext().getBinding()}const r=[`${s.getPath()}/${a}`];if(n!==null&&n!==void 0&&n.path){r.push(`${s.getPath()}/${n.path}`)}i.send(o,D.LiveChange,r);t.attachEventOnce("patchCompleted",function(){i.send(o,D.Change,r)})}},_callSideEffectsForStream:function(t,e,i){const n=x._getExtensionController(i);if(e&&e.getBindingContext().isTransient()){return}if(e){t.oSource=e}n._sideEffects.handleFieldChange(t,this.getFieldStateOnChange(t).state["validity"])},getIconForMimeType:function(t){return b.getIconForMimeType(t)},retrieveTextFromValueList:function(e,i,n){let a;let r;let o;if(e){r=s.getMetaModel();o=r.getObject(`${i}@sapui.name`);return r.requestValueListInfo(i,true).then(function(t){const i=t[t[""]?"":Object.keys(t)[0]];const r=i.$model;const l=r.getMetaModel();const s=i.Parameters.find(function(t){return t.LocalDataProperty&&t.LocalDataProperty.$PropertyPath===o});if(s&&!s.ValueListProperty){return Promise.reject(`Inconsistent value help annotation for ${o}`)}const c=l.getObject(`/${i.CollectionPath}/${s.ValueListProperty}@com.sap.vocabularies.Common.v1.Text`);if(c&&c.$Path){a=c.$Path;const t=new v({path:s.ValueListProperty,operator:"EQ",value1:e});const n=r.bindList(`/${i.CollectionPath}`,undefined,undefined,t,{$select:a});return n.requestContexts(0,2)}else{n="Value";return e}}).then(function(t){var i;const r=a?(i=t[0])===null||i===void 0?void 0:i.getObject()[a]:"";switch(n){case"Description":return r;case"DescriptionValue":return h.getLibraryResourceBundle("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[r,e]);case"ValueDescription":return h.getLibraryResourceBundle("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[e,r]);default:return e}}).catch(function(e){const n=e.status&&e.status===404?`Metadata not found (${e.status}) for value help of property ${i}`:e.message;t.error(n)})}return e},handleTypeMissmatch:function(t){const e=C(t.getSource());m.error(e.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE"),{details:`<p><strong>${e.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_SELECTED")}</strong></p>${t.getParameters().mimeType}<br><br>`+`<p><strong>${e.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_ALLOWED")}</strong></p>${t.getSource().getMimeType().toString().replaceAll(",",", ")}`,contentWidth:"150px"})},handleFileSizeExceed:function(t){m.error(C(t.getSource()).getText("M_FIELD_FILEUPLOADER_FILE_TOO_BIG",t.getSource().getMaximumFileSize().toFixed(3)),{contentWidth:"150px"})},_getExtensionController:function(t){return t.isA("sap.fe.core.ExtensionAPI")?t._controller:t}};return x},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/field/FieldTemplating",["sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CommonFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/core/templating/UIFormatters","sap/ui/model/json/JSONModel"],function(t,e,i,n,a,r,o,l,s,c){"use strict";var u={};var p=l.hasSemanticObject;var d=l.getDynamicPathFromSemanticObject;var f=r.isReadOnlyExpression;var m=a.getContextRelativeTargetObjectPath;var g=a.enhanceDataModelPath;var h=i.isProperty;var b=i.isPathAnnotationExpression;var v=i.isNavigationProperty;var y=e.transformRecursively;var P=e.pathInModel;var C=e.or;var D=e.not;var $=e.isPathInModelExpression;var x=e.isComplexTypeExpression;var T=e.ifElse;var F=e.getExpressionFromAnnotation;var O=e.formatWithTypeInformation;var I=e.equal;var M=e.constant;var A=e.compileExpression;var E=e.and;var w=t.UI;const S=function(t,e){return y(t,"PathInModel",t=>{let i=t;if(t.modelName===undefined){const a=g(e,t.path);i=n.getBindingWithTextArrangement(a,t)}return i})};u.addTextArrangementToBindingExpression=S;const L=function(t,e){return y(t,"PathInModel",t=>{let i=t;if(t.modelName===undefined){const n=g(e,t.path);i=O(n.targetObject,t)}return i})};u.formatValueRecursively=L;const _=function(t,e){return B(t,e,true)};u.getTextBindingExpression=_;const B=function(t,e){var i,a,r,o,l,c,u,p,d,f,h,v,y,C,D;let $=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(((i=t.targetObject)===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataField"||((a=t.targetObject)===null||a===void 0?void 0:a.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"||((r=t.targetObject)===null||r===void 0?void 0:r.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"||((o=t.targetObject)===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||((l=t.targetObject)===null||l===void 0?void 0:l.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||((c=t.targetObject)===null||c===void 0?void 0:c.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithAction"){const e=F(t.targetObject.Value)??"";return A(e)}if(b(t.targetObject)&&t.targetObject.$target){t=g(t,t.targetObject.path)}const T=P(m(t));let O;if((u=t.targetObject)!==null&&u!==void 0&&(p=u.annotations)!==null&&p!==void 0&&(d=p.Measures)!==null&&d!==void 0&&d.Unit||(f=t.targetObject)!==null&&f!==void 0&&(h=f.annotations)!==null&&h!==void 0&&(v=h.Measures)!==null&&v!==void 0&&v.ISOCurrency){O=s.getBindingWithUnitOrCurrency(t,T);if((e===null||e===void 0?void 0:e.measureDisplayMode)==="Hidden"&&x(O)){O.formatOptions={...O.formatOptions,showMeasure:false}}}else if((y=t.targetObject)!==null&&y!==void 0&&(C=y.annotations)!==null&&C!==void 0&&(D=C.Common)!==null&&D!==void 0&&D.Timezone){O=s.getBindingWithTimezone(t,T,false,true,e.dateFormatOptions)}else{O=n.getBindingWithTextArrangement(t,T,e)}if($){return O}return A(O)};u.getTextBinding=B;const V=function(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let a=arguments.length>4?arguments[4]:undefined;let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let o=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(b(t.targetObject)&&t.targetObject.$target){const e=t.targetEntityType.resolvePath(t.targetObject.path,true);t.targetObject=e.target;e.visitedObjects.forEach(e=>{if(v(e)){t.navigationProperties.push(e)}})}const l=t.targetObject;if(h(l)){let e=P(m(t));if($(e)){var c,u,p,d,f,g;if((c=l.annotations)!==null&&c!==void 0&&(u=c.Communication)!==null&&u!==void 0&&u.IsEmailAddress){e.type="sap.fe.core.type.Email"}else if(!i&&((p=l.annotations)!==null&&p!==void 0&&(d=p.Measures)!==null&&d!==void 0&&d.ISOCurrency||(f=l.annotations)!==null&&f!==void 0&&(g=f.Measures)!==null&&g!==void 0&&g.Unit)){e=s.getBindingWithUnitOrCurrency(t,e,true,o?undefined:{showMeasure:false})}else{var y,C;const i=(y=t.targetObject.annotations)===null||y===void 0?void 0:(C=y.Common)===null||C===void 0?void 0:C.Timezone;if(i){e=s.getBindingWithTimezone(t,e,true)}else{e=O(l,e)}if($(e)&&e.type==="sap.ui.model.odata.type.String"){e.formatOptions={parseKeepsEmptyString:true}}}if($(e)){if(n){delete e.formatOptions;delete e.constraints;delete e.type}if(a){e.parameters=a}if(r){e.targetType="any"}}return A(e)}else{return""}}else if((l===null||l===void 0?void 0:l.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||(l===null||l===void 0?void 0:l.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return A(F(l.Value))}else{return""}};u.getValueBinding=V;const j=function(t,e){const i=o.getAssociatedTextPropertyPath(t.targetObject);if(i){const n=g(t,i);return V(n,e,true,true,{$$noPatch:true})}return undefined};u.getAssociatedTextBinding=j;const R=function(t,e){var i,n,a,r,o;const l=(t===null||t===void 0?void 0:(i=t.targetEntityType)===null||i===void 0?void 0:i.navigationProperties)||[];const s=(t===null||t===void 0?void 0:(n=t.targetEntityType)===null||n===void 0?void 0:(a=n.annotations)===null||a===void 0?void 0:(r=a.Common)===null||r===void 0?void 0:r.SemanticKey)||[];let c=false;l.forEach(t=>{if(t.referentialConstraint&&t.referentialConstraint.length){t.referentialConstraint.forEach(i=>{if((i===null||i===void 0?void 0:i.sourceProperty)===e.name){var n,a,r;if(t!==null&&t!==void 0&&(n=t.targetType)!==null&&n!==void 0&&(a=n.annotations)!==null&&a!==void 0&&(r=a.UI)!==null&&r!==void 0&&r.QuickViewFacets){c=true}}})}});if(((o=t.contextLocation)===null||o===void 0?void 0:o.targetEntitySet)!==t.targetEntitySet){var u,p,d;const i=s.some(function(t){var i;return(t===null||t===void 0?void 0:(i=t.$target)===null||i===void 0?void 0:i.name)===e.name});if((i||e.isKey)&&t!==null&&t!==void 0&&(u=t.targetEntityType)!==null&&u!==void 0&&(p=u.annotations)!==null&&p!==void 0&&(d=p.UI)!==null&&d!==void 0&&d.QuickViewFacets){c=true}}return c};u.isUsedInNavigationWithQuickViewFacets=R;const U=function(t,e){var i,n,a;const r=b(t)&&t.$target||t;if(!((i=r.annotations)!==null&&i!==void 0&&(n=i.Common)!==null&&n!==void 0&&n.Text)&&!((a=r.annotations)!==null&&a!==void 0&&a.Measures)&&o.hasValueHelp(r)&&e.textAlignMode==="Form"){return true}return false};u.isRetrieveTextFromValueListEnabled=U;const k=function(t,e){var i,n,a,r,o,l;const s=t.targetObject;let c;if(s){switch(s.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":c=s.Value.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if((s===null||s===void 0?void 0:(i=s.Target)===null||i===void 0?void 0:(n=i.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var u;c=(u=s.Target.$target)===null||u===void 0?void 0:u.Value.$target;break}case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:c=undefined}}const p=e!==null&&e!==void 0&&e.isAnalytics?w.IsExpanded:M(false);const d=e!==null&&e!==void 0&&e.isAnalytics?I(w.NodeLevel,0):M(false);return A(E(...[D(I(F(s===null||s===void 0?void 0:(a=s.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:r.Hidden),true)),T(!!c,c&&D(I(F((o=c.annotations)===null||o===void 0?void 0:(l=o.UI)===null||l===void 0?void 0:l.Hidden),true)),true),C(D(p),d)]))};u.getVisibleExpression=k;const N=function(t,e,i){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let a=V(t,i,n);if(a===""){a=B(e,i,n)}return a};u.QVTextBinding=N;const H=function(t){var e,i,n,a,r,o;const l=t.targetObject;if(l!==null&&l!==void 0&&(e=l.$target)!==null&&e!==void 0&&(i=e.annotations)!==null&&i!==void 0&&(n=i.Communication)!==null&&n!==void 0&&n.IsEmailAddress){return"email"}if(l!==null&&l!==void 0&&(a=l.$target)!==null&&a!==void 0&&(r=a.annotations)!==null&&r!==void 0&&(o=r.Communication)!==null&&o!==void 0&&o.IsPhoneNumber){return"phone"}return"text"};u.getQuickViewType=H;const z=function(t,e){const i=[];let n;let a;if(t){const r=Object.keys(t).filter(function(t){return t==="SemanticObject"||t.startsWith("SemanticObject#")});for(const o of r){a=t[o];n=A(F(a));if(!e||e&&b(a)){i.push({key:d(n)||n,value:n})}}}return i};u.getSemanticObjectExpressionToResolve=z;const W=function(t){if(t.length>0){let e="";let i="";const n=[];for(let a=0;a<t.length;a++){e=t[a].key;i=A(F(t[a].value));n.push({key:e,value:i})}const a=new c(n);a.$$valueAsPromise=true;const r=a.createBindingContext("/");return r}else{return new c([]).createBindingContext("/")}};u.getSemanticObjects=W;const q=function(t,e,i){if(t.wrap===false){return false}if(e!=="Edm.String"){return i}if(t.editMode==="Display"){return true}if(t.editMode.indexOf("{")>-1){return A(C(D(w.IsEditable),i))}return i};u.getMultipleLinesForDataField=q;const G=function(t,e){const i=o.getAssociatedUnitProperty(t);const n=o.getAssociatedCurrencyProperty(t);return o.hasValueHelp(t)&&t.type!=="Edm.Boolean"||e!=="Hidden"&&(i&&o.hasValueHelp(i)||n&&o.hasValueHelp(n))};const Q=function(t,e,i,n){var a,r,l,c,u,p,d,m,g,b,v,y;const P=i.targetObject;if(!h(P)){t.editStyle=null;return}if(!n){t.valueBindingExpression=V(i,t.formatOptions)}switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(((a=e.Target)===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:r.Visualization)==="UI.VisualizationType/Rating"){t.editStyle="RatingIndicator";return}break;case"com.sap.vocabularies.UI.v1.DataPointType":if((e===null||e===void 0?void 0:e.Visualization)==="UI.VisualizationType/Rating"){t.editStyle="RatingIndicator";return}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t.editStyle=null;return;default:}if(G(P,(l=t.formatOptions)===null||l===void 0?void 0:l.measureDisplayMode)){if(!n){var C;t.textBindingExpression=j(i,t.formatOptions);if(((C=t.formatOptions)===null||C===void 0?void 0:C.measureDisplayMode)!=="Hidden"){t.valueBindingExpression=V(i,t.formatOptions,false,false,undefined,false,true)}}t.editStyle="InputWithValueHelp";return}switch(P.type){case"Edm.Date":t.editStyle="DatePicker";return;case"Edm.Time":case"Edm.TimeOfDay":t.editStyle="TimePicker";return;case"Edm.DateTime":case"Edm.DateTimeOffset":t.editStyle="DateTimePicker";if(!((c=P.annotations)!==null&&c!==void 0&&(u=c.Common)!==null&&u!==void 0&&u.Timezone)){t.showTimezone=undefined}else{t.showTimezone=true}return;case"Edm.Boolean":t.editStyle="CheckBox";return;case"Edm.Stream":t.editStyle="File";return;case"Edm.String":if((p=P.annotations)!==null&&p!==void 0&&(d=p.UI)!==null&&d!==void 0&&(m=d.MultiLineText)!==null&&m!==void 0&&m.valueOf()){t.editStyle="TextArea";if(!(n??false)){var $,x,T,O,I,M;const i=(($=e.annotations)===null||$===void 0?void 0:(x=$.UI)===null||x===void 0?void 0:x.Placeholder)||((T=e.Value)===null||T===void 0?void 0:(O=T.$target)===null||O===void 0?void 0:(I=O.annotations)===null||I===void 0?void 0:(M=I.UI)===null||M===void 0?void 0:M.Placeholder);if(i){t.textAreaPlaceholder=A(F(i))}}return}break;default:t.editStyle="Input"}if((g=P.annotations)!==null&&g!==void 0&&(b=g.Measures)!==null&&b!==void 0&&b.ISOCurrency||(v=P.annotations)!==null&&v!==void 0&&(y=v.Measures)!==null&&y!==void 0&&y.Unit){if(!n){t.unitBindingExpression=A(s.getBindingForUnitOrCurrency(i));t.descriptionBindingExpression=s.ifUnitEditable(P,"",s.getBindingForUnitOrCurrency(i));const e=o.getAssociatedCurrencyProperty(P)||o.getAssociatedUnitProperty(P);t.unitEditable=A(D(f(e)))}t.editStyle="InputWithUnit";return}t.editStyle="Input"};u.setEditStyleProperties=Q;const X=t=>{var e,i,n,a;const r=t.targetObject;if(l.hasSemanticObject(r)){return true}const o=t!==null&&t!==void 0&&(e=t.navigationProperties)!==null&&e!==void 0&&e.length?t===null||t===void 0?void 0:t.navigationProperties[(t===null||t===void 0?void 0:(i=t.navigationProperties)===null||i===void 0?void 0:i.length)-1]:null;if(!o||(n=t.contextLocation)!==null&&n!==void 0&&(a=n.navigationProperties)!==null&&a!==void 0&&a.find(t=>t.name===o.name)){return false}return l.hasSemanticObject(o)};u.hasSemanticObjectInNavigationOrProperty=X;const K=t=>{if(!t.targetObject){return undefined}let e="";if(t.targetObject.term==="com.sap.vocabularies.UI.v1.DataPoint"){t.targetObject.$Type=t.targetObject.$Type||"com.sap.vocabularies.UI.v1.DataPointType"}switch(t.targetObject.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataPointType":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof t.targetObject.Value==="object"){e=t.targetObject.Value.path}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(t.targetObject.Target.$target){if(t.targetObject.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataField"||t.targetObject.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){if(t.targetObject.Target.value.indexOf("/")>0){var i;e=t.targetObject.Target.value.replace(/\/@.*/,`/${(i=t.targetObject.Target.$target.Value)===null||i===void 0?void 0:i.path}`)}else{var n;e=(n=t.targetObject.Target.$target.Value)===null||n===void 0?void 0:n.path}}else{var a;e=(a=t.targetObject.Target)===null||a===void 0?void 0:a.path}}break}if(e&&e.length>0){return g(t,e)}else{return undefined}};u.getDataModelObjectPathForValue=K;const J=t=>{let e;if(p(t.targetObject)){e=t.targetObject}else if(t.navigationProperties.length>0){for(const n of t.navigationProperties){var i;if(!((i=t.contextLocation)!==null&&i!==void 0&&i.navigationProperties.find(t=>t.fullyQualifiedName===n.fullyQualifiedName))&&!e&&p(n)){e=n}}}return e};u.getPropertyWithSemanticObject=J;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/field/PublicField.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/field/FieldHelper"],function(t,e,i,n,a){"use strict";var r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$;var x={};var T=n.resolveBindingString;var F=n.ifElse;var O=n.equal;var I=n.compileExpression;var M=i.xml;var A=e.defineBuildingBlock;var E=e.blockEvent;var w=e.blockAttribute;function S(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function L(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function _(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;B(t,e)}function B(t,e){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return B(t,e)}function V(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function j(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let R=(r=A({name:"Field",publicNamespace:"sap.fe.macros"}),o=w({type:"string",isPublic:true,required:true}),l=w({type:"sap.ui.model.Context",isPublic:true,required:true}),s=w({type:"sap.ui.model.Context",isPublic:true,required:true}),c=w({type:"boolean",isPublic:true,required:false}),u=w({type:"string",isPublic:true,required:false}),p=w({type:"string",isPublic:true,required:false}),d=w({type:"object",isPublic:true,validate:function(t){if(t.displayMode&&!["Value","Description","ValueDescription","DescriptionValue"].includes(t.displayMode)){throw new Error(`Allowed value ${t.displayMode} for displayMode does not match`)}if(t.measureDisplayMode&&!["Hidden","ReadOnly"].includes(t.measureDisplayMode)){throw new Error(`Allowed value ${t.measureDisplayMode} for measureDisplayMode does not match`)}if(t.textExpandBehaviorDisplay&&!["InPlace","Popover"].includes(t.textExpandBehaviorDisplay)){throw new Error(`Allowed value ${t.textExpandBehaviorDisplay} for textExpandBehaviorDisplay does not match`)}return t}}),f=E(),r(m=(g=function(t){_(e,t);function e(e){var i;i=t.call(this,e)||this;S(i,"id",h,L(i));S(i,"metaPath",b,L(i));S(i,"contextPath",v,L(i));S(i,"readOnly",y,L(i));S(i,"semanticObject",P,L(i));S(i,"editModeExpression",C,L(i));S(i,"formatOptions",D,L(i));S(i,"change",$,L(i));if(i.readOnly!==undefined){i.editModeExpression=I(F(O(T(i.readOnly,"boolean"),true),"Display","Editable"))}return i}x=e;var i=e.prototype;i.getFormatOptions=function t(){return M`
		<internalMacro:formatOptions
			textAlignMode="Form"
			showEmptyIndicator="true"
			displayMode="${this.formatOptions.displayMode}"
			measureDisplayMode="${this.formatOptions.measureDisplayMode}"
			textLinesEdit="${this.formatOptions.textLinesEdit}"
			textMaxLines="${this.formatOptions.textMaxLines}"
			textMaxCharactersDisplay="${this.formatOptions.textMaxCharactersDisplay}"
			textExpandBehaviorDisplay="${this.formatOptions.textExpandBehaviorDisplay}"
			textMaxLength="${this.formatOptions.textMaxLength}"
			>
			${this.writeDateFormatOptions()}
		</internalMacro:formatOptions>
			`};i.writeDateFormatOptions=function t(){if(this.formatOptions.showTime||this.formatOptions.showDate||this.formatOptions.showTimezone){return M`<internalMacro:dateFormatOptions showTime="${this.formatOptions.showTime}"
				showDate="${this.formatOptions.showDate}"
				showTimezone="${this.formatOptions.showTimezone}"
				/>`}return""};i.getPossibleValueHelpTemplate=function t(){const e=a.valueHelpProperty(this.metaPath);const i=this.metaPath.getModel().createBindingContext(e,this.metaPath);const n=a.hasValueHelpAnnotation(i.getObject("@"));if(n){return M`
			<internalMacro:dependents>
				<macros:ValueHelp _flexId="${this.id}-content_FieldValueHelp" property="${i}" contextPath="${this.contextPath}" />
			</internalMacro:dependents>`}return""};i.getTemplate=function t(){const e=this.contextPath.getPath();const i=this.metaPath.getPath();return M`
		<internalMacro:Field
			xmlns:internalMacro="sap.fe.macros.internal"
			entitySet="${e}"
			dataField="${i}"
			editMode="${this.editModeExpression}"
			onChange="${this.change}"
			_flexId="${this.id}"
			semanticObject="${this.semanticObject}"
		>
			${this.getFormatOptions()}
			${this.getPossibleValueHelpTemplate()}
		</internalMacro:Field>`};return e}(t),h=V(g.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),b=V(g.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=V(g.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y=V(g.prototype,"readOnly",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),P=V(g.prototype,"semanticObject",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),C=V(g.prototype,"editModeExpression",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),D=V(g.prototype,"formatOptions",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),$=V(g.prototype,"change",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),g))||m);x=R;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/field/TextAreaEx",["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/m/TextArea","sap/ui/core/library"],function(t,e,i,n){"use strict";var a,r;var o={};var l=n.ValueState;var s=e.getResourceModel;var c=t.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;p(t,e)}function p(t,e){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return p(t,e)}let d=(a=c("sap.fe.macros.field.TextAreaEx"),a(r=function(t){u(e,t);function e(){return t.apply(this,arguments)||this}o=e;var i=e.prototype;i.fireLiveChange=function e(i){t.prototype.fireLiveChange.call(this,i);this._validateTextLength(i===null||i===void 0?void 0:i.value);return this};i.setValue=function e(i){t.prototype.setValue.call(this,i);this._validateTextLength(i);return this};i._validateTextLength=function t(e){const i=this.getMaxLength();if(!i||e===undefined){return}if(e.length>i){const t=s(this).getText("M_FIELD_TEXTAREA_TEXT_TOO_LONG");this.setValueState(l.Error);this.setValueStateText(t)}else{this.setValueState(l.None)}};return e}(i))||r);o=d;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filter/DraftEditState",["sap/ui/core/Core","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/mdc/enum/ConditionValidated","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel"],function(t,e,i,n,a,r,o){"use strict";const l=t.getLibraryResourceBundle("sap.fe.macros");const s={ALL:{id:"ALL",display:l.getText("C_DRAFT_EDIT_STATE_DRAFT_ALL_FILTER")},UNCHANGED:{id:"UNCHANGED",display:l.getText("C_DRAFT_EDIT_STATE_DRAFT_UNCHANGED_FILTER")},OWN_DRAFT:{id:"OWN_DRAFT",display:l.getText("C_DRAFT_EDIT_STATE_DRAFT_OWN_DRAFT_FILTER")},LOCKED:{id:"LOCKED",display:l.getText("C_DRAFT_EDIT_STATE_DRAFT_LOCKED_FILTER")},UNSAVED_CHANGES:{id:"UNSAVED_CHANGES",display:l.getText("C_DRAFT_EDIT_STATE_DRAFT_UNSAVED_CHANGES_FILTER")},ALL_HIDING_DRAFTS:{id:"ALL_HIDING_DRAFTS",display:l.getText("C_DRAFT_EDIT_STATE_DRAFT_ALL_HIDING_DRAFTS_FILTER")},SAVED_ONLY:{id:"SAVED_ONLY",display:l.getText("C_DRAFT_EDIT_STATE_DRAFT_SAVED_ONLY_FILTER")},MY_DRAFTS:{id:"MY_DRAFTS",display:l.getText("C_DRAFT_EDIT_STATE_DRAFT_MY_DRAFTS_FILTER")},getEditStatesContext:function(t){let e;if(t.getProperty("isDraftCollaborative")){e=[s.ALL,s.MY_DRAFTS,s.SAVED_ONLY]}else{e=[s.ALL,s.ALL_HIDING_DRAFTS,s.UNCHANGED,s.OWN_DRAFT,s.LOCKED,s.UNSAVED_CHANGES]}return new o(e).bindContext("/").getBoundContext()},getCurrentUserID:function(){var t,e,i;return(t=sap.ushell)===null||t===void 0?void 0:(e=t.Container)===null||e===void 0?void 0:(i=e.getUser())===null||i===void 0?void 0:i.getId()},getFilterForEditState:function(t){switch(t){case s.UNCHANGED.id:return new a({filters:[new a({path:"IsActiveEntity",operator:r.EQ,value1:true}),new a({path:"HasDraftEntity",operator:r.EQ,value1:false})],and:true});case s.OWN_DRAFT.id:return new a({path:"IsActiveEntity",operator:r.EQ,value1:false});case s.LOCKED.id:return new a({filters:[new a({path:"IsActiveEntity",operator:r.EQ,value1:true}),new a({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null}),new a({path:"DraftAdministrativeData/InProcessByUser",operator:r.NE,value1:""}),new a({path:"DraftAdministrativeData/InProcessByUser",operator:r.NE,value1:null})],and:true});case s.UNSAVED_CHANGES.id:return new a({filters:[new a({path:"IsActiveEntity",operator:r.EQ,value1:true}),new a({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null}),new a({path:"DraftAdministrativeData/InProcessByUser",operator:r.EQ,value1:""})],and:true});case s.ALL_HIDING_DRAFTS.id:case s.SAVED_ONLY.id:return new a({path:"IsActiveEntity",operator:r.EQ,value1:true});case s.MY_DRAFTS.id:const t=this.getCurrentUserID();return t?new a({filters:[new a({path:"IsActiveEntity",operator:r.EQ,value1:false}),new a({path:"DraftAdministrativeData/DraftAdministrativeUser",operator:r.Any,variable:"user",condition:new a({path:"user/UserID",operator:r.EQ,value1:this.getCurrentUserID()})})],and:true}):new a({path:"IsActiveEntity",operator:r.EQ,value1:false});default:return new a({filters:[new a({path:"IsActiveEntity",operator:r.EQ,value1:false}),new a({path:"SiblingEntity/IsActiveEntity",operator:r.EQ,value1:null})],and:false})}}};e.addOperator(new i({name:"DRAFT_EDIT_STATE",valueTypes:[i.ValueType.Self,i.ValueType.Self],tokenParse:"^(.*)$",format:function(t){return t&&t.values[1]},getModelFilter:function(t){return s.getFilterForEditState(t.values[0])},parse:function(t){return t},validateInput:true,checkValidated:function(t){t.validated=n.Validated}}));return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filter/FilterFieldHelper",["sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/type/FiscalDate","sap/fe/macros/CommonHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,i,n,a,r,o){"use strict";var l={};var s=n.getProperty;var c=i.getContextRelativeTargetObjectPath;var u=e.pathInModel;var p=e.getFiscalType;var d=e.EDM_TYPE_MAPPING;var f=e.compileExpression;function m(e,i){const n=i.context.getModel();const a=i.context.getPath();const o=r.getLocationForPropertyPath(n,a);let l;let s=n.getObject(`${o}/@com.sap.vocabularies.Common.v1.ResultContext`);if(!s){var c;if(typeof e==="string"){l=e}else{l=n.getObject(`${a}@sapui.name`)}const i=t.getFilterRestrictionsByPath(o,n);s=i===null||i===void 0?void 0:(c=i.RequiredProperties)===null||c===void 0?void 0:c.includes(l)}return s}l.isRequiredInFilter=m;function g(e,i){var n;const a=i.context.getModel();const o=i.context.getPath();const l=r.getLocationForPropertyPath(a,o);let s;let c=-1;if(a.getObject(`${l}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return 1}if(typeof e==="string"){s=e}else{s=a.getObject(`${o}@sapui.name`)}const u=t.getFilterRestrictionsByPath(l,a);let p=a.getObject(`${l}/${s}`);if(!p){p=a.getObject(o)}if(p.$Type==="Edm.Boolean"){c=1}else if(u!==null&&u!==void 0&&(n=u.FilterAllowedExpressions)!==null&&n!==void 0&&n[s]){const e=t.getSpecificAllowedExpression(u.FilterAllowedExpressions[s]);if(e==="SingleValue"||e==="SingleRange"){c=1}}return c}l.maxConditions=g;function h(t){const e=c(t,false,true);return f(u(`/conditions/${e}`,"$filters"))}l.getConditionsBinding=h;function b(t,e){const i=o.format(t,e)||"";const n=i.match(/constraints:.*?({.*?})/);let a=(n===null||n===void 0?void 0:n[1])||"";if(i.includes("sap.ui.model.odata.type.DateTimeOffset")){if(a){a=`${a.substring(0,n===null||n===void 0?void 0:n[1].indexOf("}"))}, V4: true}`}else{a="{V4: true}"}}if(a.includes("'nullable':false")){a=a.replace(/,[ ]*'nullable':false/,"").replace(/'nullable':false[, ]*/,"");if(a==="{}"){a=""}}return a||undefined}l.constraints=b;function v(t,e){var i;if(t.$Type==="Edm.String"){if(!t.hasOwnProperty("$Nullable")||t.$Nullable===true){e.arguments=[null,{parseKeepsEmptyString:false}]}const i=p(s(t,e));if(i){if(!e.arguments){e.arguments=[null,{}]}e.arguments[1].fiscalType=i}}const n=o.format(t,e)||"";return((i=n.match(/formatOptions:.*?({.*?})/))===null||i===void 0?void 0:i[1])||undefined}l.formatOptions=v;function y(t){if(t.type==="Edm.String"){const e=p(t);if(e){return"sap.fe.core.type.FiscalDate"}}const e=d[t.type];return e?e.type:t.type}l.getDataType=y;function P(t){if(t.type==="Edm.String"){const e=p(t);if(e){return new a({fiscalType:e},{}).getPattern()}}return undefined}l.getPlaceholder=P;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filter/FilterFieldTemplating",["sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters"],function(t,e){"use strict";var i={};var n=e.getDisplayMode;var a=t.hasValueHelp;const r=function(t,e){return a(e)?n(t):"Value"};i.getDisplayProperty=r;const o=async function(t,e,i){var o,s;const c=e===null||e===void 0?void 0:(o=e.annotations)===null||o===void 0?void 0:(s=o.Common)===null||s===void 0?void 0:s.Text;if(c){return r(t,e)}const u=a(e);if(u){var p,d,f;const e=t===null||t===void 0?void 0:(p=t.targetEntityType)===null||p===void 0?void 0:(d=p.annotations)===null||d===void 0?void 0:(f=d.UI)===null||f===void 0?void 0:f.TextArrangement;return e?n(t):l(i,t)}return"Value"};i.getFilterFieldDisplayFormat=o;async function l(t,e){const i=t.context;const n=t.context.getModel();return await n.requestValueListInfo(i.getPath(),true,i).then(function(t){var i;const a=Object.keys(t)[0];const r=t[a];const o=(i=r.Parameters)===null||i===void 0?void 0:i.find(t=>{var i,n;return((i=t.LocalDataProperty)===null||i===void 0?void 0:i.$PropertyPath)===(e===null||e===void 0?void 0:(n=e.targetObject)===null||n===void 0?void 0:n.name)});const l=o===null||o===void 0?void 0:o.ValueListProperty;const s=n.getObject("/"+r.CollectionPath+"/"+l+"@com.sap.vocabularies.Common.v1.Text");return s?"DescriptionValue":"Value"})}i._getDisplayModeFromValueHelp=l;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filter/FilterUtils",["sap/base/Log","sap/base/util/deepClone","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filter/DraftEditState","sap/ui/core/Core","sap/ui/mdc/condition/Condition","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/enum/ConditionValidated","sap/ui/mdc/odata/v4/TypeUtil","sap/ui/mdc/p13n/StateUtil","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/v4/ODataUtils"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$){"use strict";var x=u.ODATA_TYPE_MAPPING;var T=l.getAllCustomAggregates;const F={getFilter:function(t){const e=F.getFilterInfo(t).filters;return e.length?new C(F.getFilterInfo(t).filters,false):undefined},getFilterField:function(t,e,i){return a.getFilterField(t,e,i)},buildProperyInfo:function(t,e){let i;const n={};const r=e.getConverterContextFor(t.annotationPath);const o=r.getDataModelObjectPath().targetObject;const l=a.fetchTypeConfig(o);i=a.fetchPropertyInfo(e,t,l);n[t.key]=l;i=a.assignDataTypeToPropertyInfo(i,e,[],n);return i},createConverterContext:function(t,e,a,l){const s=d.getCustomData(t,"entityType"),c=e||s;const u=t.isA?n.getTargetView(t):null;const p=a||t.getModel().getMetaModel();const f=l||u&&n.getAppComponent(u);const m=o.getInvolvedDataModelObjects(p.createBindingContext(c));let g;if(t.isA&&!t.isA("sap.ui.mdc.filterbar.vh.FilterBar")){g=u&&u.getViewData()||{}}return r.createConverterContextForMacro(m.startingEntitySet.name,p,f===null||f===void 0?void 0:f.getDiagnostics(),i,m.contextLocation,g)},getConvertedFilterFields:function(t,e,i,n,a,r,o){const l=this._getFilterMetaModel(t,n);const s=d.getCustomData(t,"entityType"),c=e||s;const u=this._getFieldsForTable(t,e);const p=this.createConverterContext(t,e,n,a);return this._getSelectionFields(t,e,s,c,u,l,p,i,r,o)},getBindingPathForParameters:function(t,e,n,a){const r=[];n=F.setTypeConfigToProperties(n);for(let o=0;o<a.length;o++){const l=a[o];if(e[l]&&e[l].length>0){const a=i({},e[l][0]);const o=P.getPropertyByKey(n,l);const s=o.typeConfig||v.getTypeConfig(o.dataType,o.formatOptions,o.constraints);const c=h.toType(a,s,t.getTypeUtil());const u=x[s.className];r.push(`${l}=${encodeURIComponent($.formatLiteral(c.values[0],u))}`)}}const o=t.data("entityType");const l=o.substring(0,o.length-1);const s=l.slice(0,l.lastIndexOf("/"));const c=l.substring(l.lastIndexOf("/")+1);return`${s}(${r.toString()})/${c}`},getEditStateIsHideDraft:function(t){let e=false;if(t&&t.$editState){const i=t.$editState.find(function(t){return t.operator==="DRAFT_EDIT_STATE"});if(i&&(i.values.includes("ALL_HIDING_DRAFTS")||i.values.includes("SAVED_ONLY"))){e=true}}return e},getFilterInfo:function(t,e,i){let n=e&&e.ignoredProperties||[];const a=e&&e.targetControl,r=a?a.data("entityType"):undefined;const o={};let l=t,s,c=[],u,p=e&&e.propertiesMetadata;if(typeof t==="string"){l=m.byId(t)}if(l){s=this._getSearchField(l,n);const t=this._getFilterConditions(e,i,l);let a=l.getPropertyInfoSet?l.getPropertyInfoSet():null;a=this._getFilterPropertiesMetadata(a,l);if(e&&e.targetControl&&e.targetControl.isA("sap.ui.mdc.Chart")){Object.keys(t).forEach(function(e){if(e==="$editState"){delete t["$editState"]}})}let d=l.data("parameters")||[];d=typeof d==="string"?JSON.parse(d):d;if(d&&d.length>0){u=F.getBindingPathForParameters(l,t,a,d);if(Object.keys(t).length){Object.keys(t).forEach(e=>{d.forEach(i=>{if(e===i){const n=t[e][0].values;o[i]=n[0]}})})}}if(t){if(r&&l.data("entityType")!==r){const t=l.getModel().getMetaModel();const e=l.getControlDelegate().fetchPropertiesForEntity(r,t,l);p=e;const i={};for(const t in e){const n=e[t];i[n.name]={hasProperty:true,dataType:n.dataType}}const o=this._getIgnoredProperties(a,i);if(o.length>0){n=n.concat(o)}}else if(!p){p=a}const e=P.getFilterInfo(l,t,F.setTypeConfigToProperties(p),n.concat(d)).filters;c=e?[e]:[]}}return{parameters:o,filters:c,search:s||undefined,bindingPath:u}},setTypeConfigToProperties:function(t){if(t&&t.length){t.forEach(function(t){if(t.typeConfig&&t.typeConfig.typeInstance&&t.typeConfig.typeInstance.getConstraints instanceof Function){return}if(t.path==="$editState"){t.typeConfig=v.getTypeConfig("sap.ui.model.odata.type.String",{},{})}else if(t.path==="$search"){t.typeConfig=v.getTypeConfig("sap.ui.model.odata.type.String",{},{})}else if(t.dataType||t.typeConfig&&t.typeConfig.className){t.typeConfig=v.getTypeConfig(t.dataType||t.typeConfig.className,t.formatOptions,t.constraints)}})}return t},getNotApplicableFilters:function(t,e){var i;const n=e.data("entityType"),a=t.data("entityType"),r=t.getModel().getMetaModel().getObject(a),o=[],l=t.getConditions(),s=t.getModel().getMetaModel(),c=n===t.data("entityType"),u=e.isA("sap.ui.mdc.Chart"),f=!u&&e.getParent().getTableDefinition().enableAnalytics,m=!u&&((i=e.control)===null||i===void 0?void 0:i.type)==="TreeTable",g=u?p.parseCustomData(d.getCustomData(e,"applySupported")).enableSearch:!(f||m)||e.getParent().getTableDefinition().enableBasicSearch;if(l&&(!c||f||u)){const i=c?[]:t.getControlDelegate().fetchPropertiesForEntity(n,s,t),a=i.reduce(function(t,e){t[e.name]=e;return t},{}),p=!u&&e.getParent().getTableDefinition().aggregates||{},d={};Object.keys(p).forEach(function(t){const e=p[t];d[e.relativePath]=e});const f=e.getModel().getMetaModel().getObject(e.data("targetCollectionPath")+"/");if(e.isA("sap.ui.mdc.Chart")){const t=e.getModel().getMetaModel().getObject(`${e.data("targetCollectionPath")}@`),i=T(t);Object.keys(i).forEach(function(t){if(!d[t]){const e=i[t];d[t]=e}})}for(const t in l){const e=l[t];let i=true;if(f[t]&&r[t]){i=f[t]["$Type"]===r[t]["$Type"]}if(Array.isArray(e)&&e.length>0&&((!a[t]||a[t]&&!i)&&(!c||t==="$editState"&&u)||d[t])){o.push(t.replace(/\+|\*/g,""))}}}if(!g&&t.getSearch()){o.push("$search")}return o},async _getValueListInfo(t,e){var i;const n=(i=t.getModel())===null||i===void 0?void 0:i.getMetaModel();if(!n){return undefined}const a=t.data("entityType")??"";const r=await n.requestValueListInfo(a+e,true,undefined).catch(()=>null);return r===null||r===void 0?void 0:r[""]},_getConditionValidated:async function(t,e,i){if(!t){return b.NotValidated}const n=new C({path:e,operator:D.EQ,value1:i});const a=t.$model.bindList(`/${t.CollectionPath}`,undefined,undefined,n,{$select:e});const r=(await a.requestContexts()).length>0;if(r){return b.Validated}else{return b.NotValidated}},clearFilterValues:async function(t){var i;if(!t){return}const n=await y.retrieveExternalState(t);const a="$editState";const r=f.ALL.id;const o=e((i=n.filter[a])===null||i===void 0?void 0:i[0]);const l=(o===null||o===void 0?void 0:o.values[0])===r;for(const t of Object.keys(n.filter)){if(t===a&&l){continue}for(const e of n.filter[t]){e.filtered=false}}await y.applyExternalState(t,{filter:n.filter});if(o&&!l){o.values=[r];await y.applyExternalState(t,{filter:{[a]:[o]}})}t.getParent().fireAfterClear()},async _clearFilterValue(t,e){const i=await y.retrieveExternalState(t);if(i.filter[e]){i.filter[e].forEach(t=>{t.filtered=false});await y.applyExternalState(t,{filter:{[e]:i.filter[e]}})}},setFilterValues:async function(e,i){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++){a[r-2]=arguments[r]}let o=a===null||a===void 0?void 0:a[0];let l=a===null||a===void 0?void 0:a[1];if(!e){return}if(a.length===2&&(l===undefined||l===null||l==="")&&o&&Object.keys(D).indexOf(o)!==-1){t.warning(`An empty filter value cannot be applied with the ${o} operator`);return}if(l===undefined&&!c.getSemanticDateOperations().includes(o||"")){l=o??[];o=undefined}if(!o){o=D.EQ}const s=["string","number","boolean"];if(l!==undefined&&(!Array.isArray(l)&&!s.includes(typeof l)||Array.isArray(l)&&l.length>0&&!s.includes(typeof l[0]))){throw new Error("FilterUtils.js#_setFilterValues: Filter value not supported; only primitive values or an array thereof can be used.")}let u;if(l!==undefined){u=Array.isArray(l)?l:[l]}const p=await this._getValueListInfo(e,i);const d={};if(i){if(u&&u.length){if(o===D.BT){d[i]=[g.createCondition(o,u,null,null,b.NotValidated)]}else{d[i]=await Promise.all(u.map(async t=>{const e=o===D.EQ?await this._getConditionValidated(p,i,t):b.NotValidated;return g.createCondition(o,[t],null,null,e)}))}}else if(c.getSemanticDateOperations().includes(o||"")){d[i]=[g.createCondition(o,[],null,null,b.NotValidated)]}}await this._clearFilterValue(e,i);if(d[i]){await y.applyExternalState(e,{filter:d})}},conditionToModelPath:function(t){return t.replace(/\//g,"\\")},_getFilterMetaModel:function(t,e){return e||t.getModel().getMetaModel()},_getEntitySetPath:function(t){return t&&s.getEntitySetPath(t)},_getFieldsForTable:function(t,e){const i=[];if(e){const e=n.getTargetView(t);const a=e&&e.getController()&&e.getController()._getControls&&e.getController()._getControls("table");if(a){a.forEach(function(t){i.push(t.getParent().getTableDefinition())})}return i}return[]},_getSelectionFields:function(t,e,i,n,r,l,s,c,u,p){let d=a.getSelectionFields(s,r,undefined,c,p).selectionFields;if((u?u.getControlType(t)==="sap.ui.mdc.FilterBar":t.isA("sap.ui.mdc.FilterBar"))&&e!==i){const t=o.getInvolvedDataModelObjects(l.createBindingContext(n));const e=s.getConverterContextFor(i);const r=e.getEntityTypeAnnotation("@com.sap.vocabularies.UI.v1.SelectionFields").annotation||[];const c={};d.forEach(function(t){c[t.conditionPath]=true});r.forEach(function(e){const i=e.value;if(!c[i]){const e=a.getFilterField(i,s,t.startingEntitySet.entityType);if(e){d.push(e)}}})}if(d){const e=[];d.forEach(function(t){e.push(t.key)});d=this._getSelectionFieldsFromPropertyInfos(t,e,d)}return d},_getSelectionFieldsFromPropertyInfos:function(t,e,i){const n=t.getPropertyInfo&&t.getPropertyInfo()||[];n.forEach(function(t){if(t.name==="$search"||t.name==="$editState"){return}const n=i[e.indexOf(t.key)];if(e.indexOf(t.key)!==-1&&n.annotationPath){t.group=n.group;t.groupLabel=n.groupLabel;t.settings=n.settings;t.visualFilter=n.visualFilter;t.label=n.label;i[e.indexOf(t.key)]=t}if(e.indexOf(t.key)===-1&&!t.annotationPath){i.push(t)}});return i},_getSearchField:function(t,e){return t.getSearch&&e.indexOf("search")===-1?t.getSearch():null},_getFilterConditions:function(t,e,i){const n=e||i.getConditions();if(t&&t.targetControl&&t.targetControl.isA("sap.ui.mdc.Chart")){Object.keys(n).forEach(function(t){if(t==="$editState"){delete n["$editState"]}})}return n},_getFilterPropertiesMetadata:function(t,e){if(!(t&&t.length)){if(e.getPropertyInfo){t=e.getPropertyInfo()}else{t=null}}return t},_getIgnoredProperties:function(t,e){const i=[];t.forEach(function(t){const n=t.name;const a=e[n];if(a&&(!a["hasProperty"]||a["hasProperty"]&&t.dataType!==a.dataType)){i.push(n)}});return i},getFilters:function(t){const{parameters:e,filters:i,search:n}=this.getFilterInfo(t);return{parameters:e,filters:i,search:n}}};return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filter/type/MultiValue",["sap/fe/core/helpers/ClassSupport","sap/fe/macros/filter/type/Value"],function(t,e){"use strict";var i,n;var a={};var r=t.defineUI5Class;function o(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;l(t,e)}function l(t,e){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return l(t,e)}let s=(i=r("sap.fe.macros.filter.type.MultiValue"),i(n=function(t){o(e,t);function e(){return t.apply(this,arguments)||this}a=e;var i=e.prototype;i.formatConditionValues=function t(e){return e};i.formatValue=function e(i,n){let a=i;if(typeof a==="string"){a=a.split(",")}if(Array.isArray(a)){a=a.map(e=>t.prototype.formatValue.call(this,e,this.getElementTypeName(n))).filter(t=>t!==undefined)}return a||[]};i.parseValue=function t(e,i){if(!e){e=[]}return e.map(t=>{if(t===undefined){t=[]}else if(!Array.isArray(t)){t=[t]}return this.operator.format({values:t})})};return e}(e))||n);a=s;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filter/type/Range",["sap/fe/core/helpers/ClassSupport","sap/fe/macros/filter/type/Value"],function(t,e){"use strict";var i,n;var a={};var r=t.defineUI5Class;function o(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;l(t,e)}function l(t,e){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return l(t,e)}let s=(i=r("sap.fe.macros.filter.type.Range"),i(n=function(t){o(e,t);function e(){return t.apply(this,arguments)||this}a=e;var i=e.prototype;i.getDefaultOperatorName=function t(){return"BT"};i.formatConditionValues=function t(e){return e};i.formatValue=function e(i,n){let a=t.prototype.formatValue.call(this,i,n);if(!a){const t=this.oFormatOptions.min||Number.MIN_SAFE_INTEGER,e=this.oFormatOptions.max||Number.MAX_SAFE_INTEGER;a=[t,e]}return a};return e}(e))||n);a=s;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filter/type/Value",["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/mdc/enum/FieldDisplay","sap/ui/model/SimpleType","sap/ui/model/type/Boolean","sap/ui/model/type/Date","sap/ui/model/type/Float","sap/ui/model/type/Integer","sap/ui/model/type/String"],function(t,e,i,n,a,r,o,l,s,c,u){"use strict";var p,d,f;var m={};var g=e.defineUI5Class;function h(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;b(t,e)}function b(t,e){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return b(t,e)}let v=(p=g("sap.fe.macros.filter.type.Value"),p(d=(f=function(e){h(r,e);function r(t,n){var a;a=e.call(this,t,n)||this;const r=(t===null||t===void 0?void 0:t.operator)||a.getDefaultOperatorName();a.operator=i.getOperator(r);if(!a.operator&&r.includes(".")){a._registerCustomOperator(r)}return a}m=r;var p=r.prototype;p._registerCustomOperator=function t(e){const a=e.substring(0,e.lastIndexOf(".")).replace(/\./g,"/"),r=e.substring(e.lastIndexOf(".")+1);sap.ui.require([a],t=>{if(!t){return}this.operator=new n({filterOperator:"",tokenFormat:"",name:e,valueTypes:["self"],tokenParse:"^(.*)$",format:t=>this.formatConditionValues(t.values),parse:function(t,i,a,r){if(typeof t==="object"){if(t.operator!==e){throw Error("not matching operator")}return t.values}return n.prototype.parse.apply(this,[t,i,a,r])},getModelFilter:e=>t[r].call(t,this.formatConditionValues(e.values))});i.addOperator(this.operator)})};p._isMultiValueOperator=function t(e){return e.valueTypes.filter(function(t){return!!t&&t!==r.OPERATOR_VALUE_TYPE_STATIC}).length>1};p.hasCustomOperator=function t(){return this.operator.name.includes(".")};p._stringToExternal=function t(e,i){let n;const a=this._getTypeInstance(i);if(i&&r._isArrayType(i)){if(!Array.isArray(e)){e=[e]}n=e.map(t=>a?a.parseValue(t,r.INTERNAL_VALUE_TYPE):t)}else{n=a?a.parseValue(e,r.INTERNAL_VALUE_TYPE):e}return n};r._isArrayType=function t(e){if(!e){return false}return e==="array"||e.endsWith("[]")};p._externalToString=function t(e,i){let n;const a=this._getTypeInstance(i);if(i&&r._isArrayType(i)){if(!Array.isArray(e)){e=[e]}n=e.map(t=>a?a.formatValue(t,r.INTERNAL_VALUE_TYPE):t)}else{n=a?a.formatValue(e,r.INTERNAL_VALUE_TYPE):e}return n};p._getTypeInstance=function e(i){i=this.getElementTypeName(i)||i;switch(i){case"string":return new u;case"number":case"int":return new c;case"float":return new s;case"date":return new l;case"boolean":return new o;default:t.error("Unexpected filter type");throw new Error("Unexpected filter type")}};p.getDefaultOperatorName=function t(){return i.getEQOperator().name};p.formatConditionValues=function t(e){return Array.isArray(e)&&e.length?e[0]:e};p.getElementTypeName=function t(e){if(e!==null&&e!==void 0&&e.endsWith("[]")){return e.substring(0,e.length-2)}return undefined};p.formatValue=function t(e,i){if(!e){return undefined}const n=this._isMultiValueOperator(this.operator),o=this._getTypeInstance(r.INTERNAL_VALUE_TYPE);const l=this.operator.parse(e||"",o,a.Value,false);const s=!n&&Array.isArray(l)?l[0]:l;return this._stringToExternal(s,i)};p.parseValue=function t(e,i){if(!e){return undefined}const n=this._isMultiValueOperator(this.operator),a=this._getTypeInstance(i);const r=this._externalToString(e,i);const o=n?r:[r];if(this.hasCustomOperator()){return{operator:this.operator.name,values:[this.operator.format({values:o},a)],validated:undefined}}return this.operator.format({values:o},a)};p.validateValue=function t(e){};return r}(r),f.INTERNAL_VALUE_TYPE="string",f.OPERATOR_VALUE_TYPE_STATIC="static",f))||d);m=v;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filterBar/FilterBar.block",["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/TemplateModel","sap/fe/core/templating/FilterHelper","sap/fe/macros/CommonHelper"],function(t,e,i,n,a,r,o,l,s,c,u,p,d){"use strict";var f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V,j,R,U,k,N,H,z,W,q,G,Q,X,K,J,Y,Z,tt,et,it,nt,at,rt,ot,lt,st,ct,ut,pt,dt,ft,mt,gt,ht,bt,vt,yt,Pt,Ct;var Dt={};var $t=p.getFilterConditions;var xt=c.generate;var Tt=l.getSearchRestrictions;var Ft=o.getInvolvedDataModelObjects;var Ot=r.getSelectionFields;var It=a.getSelectionVariant;var Mt=n.xml;var At=i.defineBuildingBlock;var Et=i.blockEvent;var wt=i.blockAttribute;var St=i.blockAggregation;function Lt(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _t(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Bt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;Vt(t,e)}function Vt(t,e){Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return Vt(t,e)}function jt(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function Rt(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const Ut=function(t,e){e.slotName=e.key;e.key=e.key.replace("InlineXML_","");e.label=t.getAttribute("label");e.required=t.getAttribute("required")==="true";return e};let kt=(f=At({name:"FilterBar",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros"}),m=wt({type:"string",isPublic:true}),g=wt({type:"boolean",isPublic:true}),h=wt({type:"sap.ui.model.Context"}),b=wt({type:"string"}),v=wt({type:"sap.ui.model.Context",isPublic:true}),y=wt({type:"sap.ui.model.Context",isPublic:true}),P=wt({type:"boolean",isPublic:true}),C=wt({type:"string"}),D=wt({type:"boolean"}),$=wt({type:"boolean"}),x=wt({type:"boolean"}),T=wt({type:"sap.ui.mdc.FilterBarP13nMode[]"}),F=wt({type:"string"}),O=wt({type:"boolean"}),I=wt({type:"boolean",isPublic:true}),M=wt({type:"string",required:false}),A=wt({type:"boolean"}),E=wt({type:"boolean"}),w=wt({type:"boolean"}),S=wt({type:"string"}),L=wt({type:"string"}),_=wt({type:"boolean",isPublic:true}),B=wt({type:"boolean"}),V=Et(),j=Et(),R=Et(),U=Et(),k=Et(),N=Et(),H=St({type:"sap.fe.macros.FilterField",isPublic:true,hasVirtualNode:true,processAggregations:Ut}),f(z=(W=function(e){Bt(i,e);function i(i,n,a){var r,o,l,c;var p;p=e.call(this,i,n,a)||this;Lt(p,"id",q,_t(p));Lt(p,"visible",G,_t(p));Lt(p,"selectionFields",Q,_t(p));Lt(p,"filterBarDelegate",X,_t(p));Lt(p,"metaPath",K,_t(p));Lt(p,"contextPath",J,_t(p));Lt(p,"showMessages",Y,_t(p));Lt(p,"variantBackreference",Z,_t(p));Lt(p,"hideBasicSearch",tt,_t(p));Lt(p,"enableFallback",et,_t(p));Lt(p,"showAdaptFiltersButton",it,_t(p));Lt(p,"p13nMode",nt,_t(p));Lt(p,"propertyInfo",at,_t(p));Lt(p,"useSemanticDateRange",rt,_t(p));Lt(p,"liveMode",ot,_t(p));Lt(p,"filterConditions",lt,_t(p));Lt(p,"suspendSelection",st,_t(p));Lt(p,"showDraftEditState",ct,_t(p));Lt(p,"isDraftCollaborative",ut,_t(p));Lt(p,"toggleControlId",pt,_t(p));Lt(p,"initialLayout",dt,_t(p));Lt(p,"showClearButton",ft,_t(p));Lt(p,"_applyIdToContent",mt,_t(p));Lt(p,"search",gt,_t(p));Lt(p,"filterChanged",ht,_t(p));Lt(p,"stateChange",bt,_t(p));Lt(p,"internalFilterChanged",vt,_t(p));Lt(p,"internalSearch",yt,_t(p));Lt(p,"afterClear",Pt,_t(p));Lt(p,"filterFields",Ct,_t(p));p.checkIfCollaborationDraftSupported=t=>{if(s.isCollaborationDraftSupported(t)){p.isDraftCollaborative=true}};p.getEntityTypePath=t=>t[0].endsWith("/")?t[0]:t[0]+"/";p.getSearch=()=>{if(!p.hideBasicSearch){return Mt`<control:basicSearchField>
			<mdc:FilterField
				id="${xt([p.id,"BasicSearchField"])}"
				placeholder="{sap.fe.i18n>M_FILTERBAR_SEARCH}"
				conditions="{$filters>/conditions/$search}"
				dataType="sap.ui.model.odata.type.String"
				maxConditions="1"
			/>
		</control:basicSearchField>`}return Mt``};p.processSelectionFields=()=>{var t,e,i,n;let a=Mt``;if(p.showDraftEditState){a=`<core:Fragment fragmentName="sap.fe.macros.filter.DraftEditState" type="XML" />`}p._valueHelps=[];p._filterFields=[];(t=p._filterFields)===null||t===void 0?void 0:t.push(a);if(!Array.isArray(p.selectionFields)){p.selectionFields=p.selectionFields.getObject()}(e=p.selectionFields)===null||e===void 0?void 0:e.forEach((t,e)=>{if(t.availability==="Default"){p.setFilterFieldsAndValueHelps(t,e)}});p._filterFields=((i=p._filterFields)===null||i===void 0?void 0:i.length)>0?p._filterFields:"";p._valueHelps=((n=p._valueHelps)===null||n===void 0?void 0:n.length)>0?p._valueHelps:""};p.setFilterFieldsAndValueHelps=(t,e)=>{if(t.template===undefined&&t.type!=="Slot"){p.pushFilterFieldsAndValueHelps(t)}else if(Array.isArray(p._filterFields)){var i;(i=p._filterFields)===null||i===void 0?void 0:i.push(Mt`<template:with path="selectionFields>${e}" var="item">
					<core:Fragment fragmentName="sap.fe.macros.filter.CustomFilter" type="XML" />
				</template:with>`)}};p.pushFilterFieldsAndValueHelps=t=>{if(Array.isArray(p._filterFields)){var e;(e=p._filterFields)===null||e===void 0?void 0:e.push(Mt`<internalMacro:FilterField
			idPrefix="${xt([p.id,"FilterField",d.getNavigationPath(t.annotationPath)])}"
			vhIdPrefix="${xt([p.id,"FilterFieldValueHelp"])}"
			property="${t.annotationPath}"
			contextPath="${p._getContextPathForFilterField(t,p._internalContextPath)}"
			useSemanticDateRange="${p.useSemanticDateRange}"
			settings="${d.stringifyCustomData(t.settings)}"
			visualFilter="${t.visualFilter}"
			/>`)}if(Array.isArray(p._valueHelps)){var i;(i=p._valueHelps)===null||i===void 0?void 0:i.push(Mt`<macro:ValueHelp
			idPrefix="${xt([p.id,"FilterFieldValueHelp"])}"
			conditionModel="$filters"
			property="${t.annotationPath}"
			contextPath="${p._getContextPathForFilterField(t,p._internalContextPath)}"
			filterFieldValueHelp="true"
			useSemanticDateRange="${p.useSemanticDateRange}"
		/>`)}};const f=p.contextPath;const m=p.metaPath;if(!m){t.error("Context Path not available for FilterBar Macro.");return _t(p)}const g=m===null||m===void 0?void 0:m.getPath();let h="";const b=(g===null||g===void 0?void 0:g.split("/@com.sap.vocabularies.UI.v1.SelectionFields"))||[];if(b.length>0){h=p.getEntityTypePath(b)}const v=s.getEntitySetPath(h);const y=f===null||f===void 0?void 0:f.getModel();p._internalContextPath=y===null||y===void 0?void 0:y.createBindingContext(h);const P="@com.sap.vocabularies.UI.v1.SelectionFields";const C="@com.sap.vocabularies.UI.v1.SelectionFields"+(b.length&&b[1]||"");const D={};D[P]={filterFields:p.filterFields};const $=Ft(p._internalContextPath);const x=p.getConverterContext($,undefined,a,D);if(!p.propertyInfo){p.propertyInfo=Ot(x,[],C).sPropertyInfo}if(!p.selectionFields){const t=Ot(x,[],C).selectionFields;p.selectionFields=new u(t,y).createBindingContext("/");const e=x.getEntityType(),i=It(e,x),n=y.getContext(v),a=$t(n,{selectionVariant:i});p.filterConditions=a}p._processPropertyInfos(p.propertyInfo);const T=Ft(f).targetObject;if((r=T.annotations)!==null&&r!==void 0&&(o=r.Common)!==null&&o!==void 0&&o.DraftRoot||(l=T.annotations)!==null&&l!==void 0&&(c=l.Common)!==null&&c!==void 0&&c.DraftNode){p.showDraftEditState=true;p.checkIfCollaborationDraftSupported(y)}if(p._applyIdToContent){p._apiId=p.id+"::FilterBar";p._contentId=p.id}else{p._apiId=p.id;p._contentId=p.getContentId(p.id+"")}if(p.hideBasicSearch!==true){const t=Tt(v,y);p.hideBasicSearch=Boolean(t&&!t.Searchable)}p.processSelectionFields();return p}Dt=i;var n=i.prototype;n._processPropertyInfos=function t(e){const i=[];if(e){const t=e.replace(/\\{/g,"{").replace(/\\}/g,"}");const n=JSON.parse(t);const a=this.getTranslatedText("FILTERBAR_EDITING_STATUS");n.forEach(function(t){if(t.isParameter){i.push(t.name)}if(t.path==="$editState"){t.label=a}});this.propertyInfo=JSON.stringify(n).replace(/\{/g,"\\{").replace(/\}/g,"\\}")}this._parameters=JSON.stringify(i)};n._getContextPathForFilterField=function t(e,i){let n=i;if(e.isParameter){const t=e.annotationPath;n=t.substring(0,t.lastIndexOf("/")+1)}return n};n.getTemplate=function t(){var e;const i=(e=this._internalContextPath)===null||e===void 0?void 0:e.getPath();let n="";if(this.filterBarDelegate){n=this.filterBarDelegate}else{n="{name:'sap/fe/macros/filterBar/FilterBarDelegate', payload: {entityTypePath: '"+i+"'}}"}return Mt`<macroFilterBar:FilterBarAPI
        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
        xmlns:core="sap.ui.core"
        xmlns:mdc="sap.ui.mdc"
        xmlns:control="sap.fe.core.controls"
        xmlns:macroFilterBar="sap.fe.macros.filterBar"
        xmlns:macro="sap.fe.macros"
        xmlns:internalMacro="sap.fe.macros.internal"
        xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
		id="${this._apiId}"
		search="${this.search}"
		filterChanged="${this.filterChanged}"
		afterClear="${this.afterClear}"
		internalSearch="${this.internalSearch}"
		internalFilterChanged="${this.internalFilterChanged}"
		stateChange="${this.stateChange}"
	>
		<control:FilterBar
			core:require="{API: 'sap/fe/macros/filterBar/FilterBarAPI'}"
			id="${this._contentId}"
			liveMode="${this.liveMode}"
			delegate="${n}"
			variantBackreference="${this.variantBackreference}"
			showAdaptFiltersButton="${this.showAdaptFiltersButton}"
			showClearButton="${this.showClearButton}"
			p13nMode="${this.p13nMode}"
			search="API.handleSearch($event)"
			filtersChanged="API.handleFilterChanged($event)"
			filterConditions="${this.filterConditions}"
			suspendSelection="${this.suspendSelection}"
			showMessages="${this.showMessages}"
			toggleControl="${this.toggleControlId}"
			initialLayout="${this.initialLayout}"
			propertyInfo="${this.propertyInfo}"
			customData:localId="${this.id}"
			visible="${this.visible}"
			customData:hideBasicSearch="${this.hideBasicSearch}"
			customData:showDraftEditState="${this.showDraftEditState}"
			customData:useSemanticDateRange="${this.useSemanticDateRange}"
			customData:entityType="${i}"
			customData:parameters="${this._parameters}"
		>
			<control:dependents>
				${this._valueHelps}
			</control:dependents>
			${this.getSearch()}
			<control:filterItems>
				${this._filterFields}
			</control:filterItems>
		</control:FilterBar>
	</macroFilterBar:FilterBarAPI>`};return i}(e),q=jt(W.prototype,"id",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),G=jt(W.prototype,"visible",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=jt(W.prototype,"selectionFields",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),X=jt(W.prototype,"filterBarDelegate",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),K=jt(W.prototype,"metaPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),J=jt(W.prototype,"contextPath",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=jt(W.prototype,"showMessages",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Z=jt(W.prototype,"variantBackreference",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=jt(W.prototype,"hideBasicSearch",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),et=jt(W.prototype,"enableFallback",[$],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),it=jt(W.prototype,"showAdaptFiltersButton",[x],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),nt=jt(W.prototype,"p13nMode",[T],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Item,Value"}}),at=jt(W.prototype,"propertyInfo",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=jt(W.prototype,"useSemanticDateRange",[O],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),ot=jt(W.prototype,"liveMode",[I],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),lt=jt(W.prototype,"filterConditions",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),st=jt(W.prototype,"suspendSelection",[A],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),ct=jt(W.prototype,"showDraftEditState",[E],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),ut=jt(W.prototype,"isDraftCollaborative",[w],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),pt=jt(W.prototype,"toggleControlId",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=jt(W.prototype,"initialLayout",[L],{configurable:true,enumerable:true,writable:true,initializer:function(){return"compact"}}),ft=jt(W.prototype,"showClearButton",[_],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),mt=jt(W.prototype,"_applyIdToContent",[B],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),gt=jt(W.prototype,"search",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=jt(W.prototype,"filterChanged",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),bt=jt(W.prototype,"stateChange",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),vt=jt(W.prototype,"internalFilterChanged",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),yt=jt(W.prototype,"internalSearch",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),Pt=jt(W.prototype,"afterClear",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Ct=jt(W.prototype,"filterFields",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),W))||z);Dt=kt;return Dt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filterBar/FilterBarAPI",["sap/base/util/merge","sap/fe/core/helpers/ClassSupport","sap/fe/macros/filter/FilterUtils","../MacroAPI"],function(t,e,i,n){"use strict";var a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L;var _=e.xmlEventHandler;var B=e.property;var V=e.event;var j=e.defineUI5Class;var R=e.aggregation;function U(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function k(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function N(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;H(t,e)}function H(t,e){H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return H(t,e)}function z(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function W(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let q=(a=j("sap.fe.macros.filterBar.FilterBarAPI"),r=B({type:"string"}),o=B({type:"string",expectedAnnotations:["com.sap.vocabularies.UI.v1.SelectionFields"],expectedTypes:["EntitySet","EntityType"]}),l=B({type:"boolean",defaultValue:false}),s=B({type:"boolean",defaultValue:true}),c=B({type:"boolean",defaultValue:true}),u=B({type:"boolean",defaultValue:false}),p=R({type:"sap.fe.macros.FilterField",multiple:true}),d=V(),f=V(),m=V(),g=V(),h=V(),b=V(),v=_(),y=_(),a(P=(C=function(e){N(n,e);function n(){var t;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}t=e.call(this,...n)||this;U(t,"id",D,k(t));U(t,"metaPath",$,k(t));U(t,"liveMode",x,k(t));U(t,"visible",T,k(t));U(t,"showMessages",F,k(t));U(t,"showClearButton",O,k(t));U(t,"filterFields",I,k(t));U(t,"search",M,k(t));U(t,"internalSearch",A,k(t));U(t,"filterChanged",E,k(t));U(t,"afterClear",w,k(t));U(t,"internalFilterChanged",S,k(t));U(t,"stateChange",L,k(t));return t}var a=n.prototype;a.handleSearch=function e(i){const n=i.getSource();const a=i.getParameters();if(n){const e=n.getFilterConditions();const i=this._prepareEventParameters(n);this.fireInternalSearch(t({conditions:e},a));this.fireSearch(i)}};a.handleFilterChanged=function e(i){const n=i.getSource();const a=i.getParameters();if(n){const e=n.getFilterConditions();const i=this._prepareEventParameters(n);this.fireInternalFilterChanged(t({conditions:e},a));this.fireFilterChanged(i)}};a._prepareEventParameters=function t(e){const{parameters:n,filters:a,search:r}=i.getFilters(e);return{parameters:n,filters:a,search:r}};a.setFilterValues=function t(e,n,a){if(arguments.length===2){a=n;return i.setFilterValues(this.content,e,a)}return i.setFilterValues(this.content,e,n,a)};a.getActiveFiltersText=function t(){var e;const i=this.content;return(i===null||i===void 0?void 0:(e=i.getAssignedFiltersText())===null||e===void 0?void 0:e.filtersText)||""};a.getFilters=function t(){return i.getFilters(this.content)};return n}(n),D=z(C.prototype,"id",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),$=z(C.prototype,"metaPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),x=z(C.prototype,"liveMode",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),T=z(C.prototype,"visible",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),F=z(C.prototype,"showMessages",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),O=z(C.prototype,"showClearButton",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),I=z(C.prototype,"filterFields",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),M=z(C.prototype,"search",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),A=z(C.prototype,"internalSearch",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),E=z(C.prototype,"filterChanged",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),w=z(C.prototype,"afterClear",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),S=z(C.prototype,"internalFilterChanged",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),L=z(C.prototype,"stateChange",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z(C.prototype,"handleSearch",[v],Object.getOwnPropertyDescriptor(C.prototype,"handleSearch"),C.prototype),z(C.prototype,"handleFilterChanged",[y],Object.getOwnPropertyDescriptor(C.prototype,"handleFilterChanged"),C.prototype),C))||P);return q},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/filterBar/FilterBarDelegate",["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/TemplateModel","sap/fe/core/templating/PropertyFormatters","sap/fe/core/type/EDM","sap/fe/core/type/TypeUtil","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filter/FilterUtils","sap/ui/mdc/FilterBarDelegate","sap/ui/model/json/JSONModel"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h){"use strict";var b=u.getModelType;var v=c.hasValueHelp;var y=l.generate;var P=o.getResourceModel;var C=o.getLocalizedText;var D=a.isPropertyFilterable;var $=n.processSelectionFields;const x=Object.assign({},g);const T="$editState",F="$search",O="FilterFieldValueHelp",I="sap_fe_FilterBarDelegate_propertyInfoMap",M=/[+*]/g;function A(t,e,i){const n=new h({id:t,isDraftCollaborative:r.isCollaborationDraftSupported(e)}),a={bindingContexts:{this:n.createBindingContext("/")},models:{this:n}};return f.templateControlFragment("sap.fe.macros.filter.DraftEditState",a,undefined,i).finally(function(){n.destroy()})}x._templateCustomFilter=async function(t,e,n,a,r){const o=await f.getCustomData(t,"entityType",r);const l=new h({id:e}),c=new s(n,a),u={bindingContexts:{contextPath:a.createBindingContext(o),this:l.createBindingContext("/"),item:c.createBindingContext("/")},models:{contextPath:a,this:l,item:c}},p=i.getTargetView(t),d=p?p.getController():undefined,m={controller:d?d:undefined,view:p};return f.templateControlFragment("sap.fe.macros.filter.CustomFilter",u,m,r).finally(function(){l.destroy();c.destroy()})};function E(t){return t.replace(M,"")}x._findSelectionField=function(t,e){return t.find(function(t){return(t.conditionPath===e||t.conditionPath.replaceAll(/\*/g,"")===e)&&t.availability!=="Hidden"})};function w(t,e,i){return i?y([t,e,i]):y([t,e])}function S(i,n){const a=new h({idPrefix:n.sVhIdPrefix,conditionModel:"$filters",navigationPrefix:n.sNavigationPrefix?`/${n.sNavigationPrefix}`:"",filterFieldValueHelp:true,useSemanticDateRange:n.bUseSemanticDateRange});const r=e({},i,{bindingContexts:{this:a.createBindingContext("/")},models:{this:a}});return Promise.resolve(f.templateControlFragment("sap.fe.macros.internal.valuehelp.ValueHelp",r,{isXML:i.isXML})).then(function(t){if(t){const e="dependents";if(t.length){t.forEach(function(t){if(n.oModifier){n.oModifier.insertAggregation(n.oControl,e,t,0)}else{n.oControl.insertAggregation(e,t,0,false)}})}else if(n.oModifier){n.oModifier.insertAggregation(n.oControl,e,t,0)}else{n.oControl.insertAggregation(e,t,0,false)}}}).catch(function(e){t.error("Error while evaluating DelegateUtil.isValueHelpRequired",e)}).finally(function(){a.destroy()})}async function L(e,i,n){try{const t=await Promise.resolve(i.getAggregation(e,"dependents"));let a;if(t&&t.length>1){for(a=0;a<=t.length;a++){const e=t[a];if(e&&e.isA("sap.ui.mdc.FilterField")){const t=e.getFieldPath(),i=e.getId();if(n===t&&i.indexOf("CustomFilterField")){return Promise.resolve(e)}}}}}catch(e){t.error("Filter Cannot be added",e)}}function _(t,i,n){const a=new h({idPrefix:i.sIdPrefix,vhIdPrefix:i.sVhIdPrefix,propertyPath:i.sPropertyName,navigationPrefix:i.sNavigationPrefix?`/${i.sNavigationPrefix}`:"",useSemanticDateRange:i.bUseSemanticDateRange,settings:i.oSettings,visualFilter:i.visualFilter});const r=i.oMetaModel;const o=new s(i.visualFilter,r);const l=e({},t,{bindingContexts:{this:a.createBindingContext("/"),visualFilter:o.createBindingContext("/")},models:{this:a,visualFilter:o,metaModel:r,converterContext:n}});return f.templateControlFragment("sap.fe.macros.internal.filterField.FilterFieldTemplate",l,{isXML:t.isXML}).finally(function(){a.destroy()})}async function B(e,i,n,a){try{a=a.replace("*","");const t=y([a]);if(i&&!i.modifier){throw"FilterBar Delegate method called without modifier."}const r=await i.modifier.getProperty(e,"delegate");const o=await i.modifier.getProperty(e,"propertyInfo");if(o){const l=o.some(function(e){return e.key===t||e.name===t});if(!l){const t=r.payload.entityTypePath;const l=m.createConverterContext(e,t,n,i.appComponent);const s=l.getEntityType();let c=m.getFilterField(a,l,s);c=m.buildProperyInfo(c,l);o.push(c);i.modifier.setProperty(e,"propertyInfo",o)}}}catch(i){t.warning(`${e.getId()} : ${i}`)}}x.addItem=async function(t,e,i){if(!i){return x._addP13nItem(t,e)}const n=i.modifier;const a=i&&i.appComponent&&i.appComponent.getModel();const r=a&&a.getMetaModel();if(!r){return Promise.resolve(null)}const o=n&&n.targets==="xmlTree";if(o){await B(e,i,r,t)}return x._addFlexItem(t,e,r,n,i.appComponent)};x.removeItem=async function(t,e,i){let n=true;const a=i.modifier;const r=a&&a.targets==="xmlTree";if(r&&!e.data("sap_fe_FilterBarDelegate_propertyInfoMap")){const n=i&&i.appComponent&&i.appComponent.getModel();const a=n&&n.getMetaModel();if(!a){return Promise.resolve(null)}if(typeof t!=="string"&&t.getFieldPath()){await B(e,i,a,t.getFieldPath())}else{await B(e,i,a,t)}}if(typeof t!=="string"&&t.isA&&t.isA("sap.ui.mdc.FilterField")){if(t.data("isSlot")==="true"&&i){a.insertAggregation(e,"dependents",t);n=false}}return Promise.resolve(n)};x.addCondition=async function(t,e,i){const n=i.modifier;const a=n&&n.targets==="xmlTree";if(a){const n=i&&i.appComponent&&i.appComponent.getModel();const a=n&&n.getMetaModel();if(!a){return Promise.resolve(null)}await B(e,i,a,t)}return Promise.resolve()};x.removeCondition=async function(t,e,i){if(!e.data("sap_fe_FilterBarDelegate_propertyInfoMap")){const n=i.modifier;const a=n&&n.targets==="xmlTree";if(a){const n=i&&i.appComponent&&i.appComponent.getModel();const a=n&&n.getMetaModel();if(!a){return Promise.resolve(null)}await B(e,i,a,t)}}return Promise.resolve()};x.clearFilters=async function(t){return m.clearFilterValues(t)};x._addP13nItem=function(e,i){return f.fetchModel(i).then(function(t){return x._addFlexItem(e,i,t.getMetaModel(),undefined)}).catch(function(e){t.error("Model could not be resolved",e);return null})};x.fetchPropertiesForEntity=function(t,e,n){const a=e.getObject(t);const o=n.isA("sap.ui.mdc.filterbar.vh.FilterBar")?true:undefined;if(!n||!a){return[]}const l=m.createConverterContext(n,t);const s=r.getEntitySetPath(t);const c=m.getConvertedFilterFields(n,t,o);let u=[];c.forEach(function(t){const i=t.annotationPath;if(i){var n,a;const r=l.getConvertedTypes().resolvePath(i).target;const o=d.getLocationForPropertyPath(e,i);const s=i.replace(`${o}/`,"");const c=l.getEntityType();const p=(n=c.annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.SelectionFields;if(x._isFilterAdaptable(t,r,p)&&D(e,o,E(s),true)){u.push(t)}}else{u.push(t)}});const g=[];const h=$(u,l);const y=[];h.forEach(function(t){if(t.key){y.push(t.key)}});u=u.filter(function(t){return y.includes(t.key)});const T=i.getFilterRestrictionsByPath(s,e),F=T.FilterAllowedExpressions;h.forEach(function(t,n){const a=u[n];if(!a||!a.conditionPath){return}const r=E(a.conditionPath);t=Object.assign(t,{group:a.group,groupLabel:a.groupLabel,path:a.conditionPath,tooltip:null,removeFromAppState:false,hasValueHelp:false});if(a.annotationPath){const i=a.annotationPath;const n=e.getObject(i),r=e.getObject(`${i}@`),o=e.createBindingContext(i);const l=r["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||r["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||r["@com.sap.vocabularies.Analytics.v1.Measure"];const s=d.getLocationForPropertyPath(e,a.annotationPath);const c=i.replace(`${s}/`,"");let u;let p;if(D(e,s,E(c),true)){u=r["@com.sap.vocabularies.Common.v1.FilterDefaultValue"];if(u){p=u[`$${b(n.$Type)}`]}t=Object.assign(t,{tooltip:r["@com.sap.vocabularies.Common.v1.QuickInfo"]||undefined,removeFromAppState:l,hasValueHelp:v(o.getObject(),{context:o}),defaultFilterConditions:p?[{fieldPath:a.conditionPath,operator:"EQ",values:[p]}]:undefined})}}if(t){if(F[r]&&F[r].length>0){t.filterExpression=i.getSpecificAllowedExpression(F[r])}else{t.filterExpression="auto"}t=Object.assign(t,{visible:a.availability==="Default"})}h[n]=t});h.forEach(function(t){if(t.path==="$editState"){t.label=P(n).getText("FILTERBAR_EDITING_STATUS")}t.typeConfig=p.getTypeConfig(t.dataType,t.formatOptions,t.constraints);t.label=C(t.label,n)||"";if(t.isParameter){g.push(t.name)}});u=h;f.setCustomData(n,"parameters",g);return u};function V(t,e){var i;if(t.isA("sap.fe.macros.table.TableAPI")){const n=t.getMetaPath().split("#")[0].split("/");switch(n[n.length-1]){case`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`:case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:return(i=e.getObject(t.getMetaPath()).Visualizations)===null||i===void 0?void 0:i.find(t=>t.$AnnotationPath.includes(`@${"com.sap.vocabularies.UI.v1.LineItem"}`)).$AnnotationPath;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:const n=t.getMetaPath().split("/");return n[n.length-1]}}return undefined}x._isFilterAdaptable=function(t,e,i){var n,a;const r=i===null||i===void 0?void 0:i.some(function(e){if(e.value===t.key){return true}return false});return r||!((n=e.annotations)!==null&&n!==void 0&&(a=n.UI)!==null&&a!==void 0&&a.AdaptationHidden)};x._addFlexItem=function(t,e,n,a,o){const l=a?a.getId(e):e.getId(),s=a?"":"Adaptation",c=m.getConvertedFilterFields(e,null,undefined,n,o,a,a?undefined:V(e.getParent(),n)),u=x._findSelectionField(c,t),p=E(t),g=!!a&&a.targets==="xmlTree";if(t===T){return A(w(l,`${s}FilterField`),n,a)}else if(t===F){return Promise.resolve(null)}else if(u&&u.template){return x._templateCustomFilter(e,w(l,`${s}FilterField`),u,n,a)}if(u.type==="Slot"&&a){return L(e,a,p)}const h=d.getNavigationPath(p);const b=u.annotationPath;let v;let y;let P;let C;let D;return Promise.resolve().then(function(){if(u.isParameter){return b.substr(0,b.lastIndexOf("/")+1)}return f.getCustomData(e,"entityType",a)}).then(function(t){v=t;return f.getCustomData(e,"useSemanticDateRange",a)}).then(function(t){y=t;const i=n.createBindingContext(v+p);const o=a?a.getId(e):e.getId();P={bindingContexts:{contextPath:n.createBindingContext(v),property:i},models:{contextPath:n,property:n},isXML:g};C=`/${r.getEntitySetPath(v).split("/").filter(r.filterOutNavPropBinding).join("/")}`;D={sPropertyName:p,sBindingPath:C,sValueHelpType:s+O,oControl:e,oMetaModel:n,oModifier:a,sIdPrefix:w(o,`${s}FilterField`,h),sVhIdPrefix:w(o,s+O),sNavigationPrefix:h,bUseSemanticDateRange:y,oSettings:u?u.settings:{},visualFilter:u?u.visualFilter:undefined};return f.doesValueHelpExist(D)}).then(function(t){if(!t){return S(P,D)}return Promise.resolve()}).then(function(){let t;if(D.visualFilter){t=i.getTargetView(e).getController()._getPageModel()}return _(P,D,t)})};function j(t){if(t instanceof window.Element){return null}return f.getCustomData(t,I)}function R(t,e){if(t instanceof window.Element){return}f.setCustomData(t,I,e)}function U(t,e,i){let n=j(i);let a;if(!n){n=x.fetchPropertiesForEntity(t,e,i);n.forEach(function(t){a=null;if(t.groupLabel){a=C(t.groupLabel,i);t.groupLabel=a===null?t.groupLabel:a}});n.sort(function(t,e){if(t.groupLabel===undefined||t.groupLabel===null){return-1}if(e.groupLabel===undefined||e.groupLabel===null){return 1}return t.groupLabel.localeCompare(e.groupLabel)});R(i,n)}return n}x.fetchProperties=function(t){const e=f.getCustomData(t,"entityType");return f.fetchModel(t).then(function(i){if(!i){return[]}return U(e,i.getMetaModel(),t)})};x.getTypeUtil=function(){return p};return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/form/Form.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/controls/Common/Form","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/form/FormHelper","sap/ui/core/library","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,i,n,a,r,o,l,s,c,u,p){"use strict";var d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V,j,R,U;var k={};var N=u.TitleLevel;var H=s.getContextRelativeTargetObjectPath;var z=l.resolveBindingString;var W=l.ifElse;var q=l.equal;var G=l.compileExpression;var Q=o.getInvolvedDataModelObjects;var X=r.getFormContainerID;var K=a.UI;var J=n.createFormDefinition;var Y=i.xml;var Z=e.defineBuildingBlock;var tt=e.blockEvent;var et=e.blockAttribute;var it=e.blockAggregation;function nt(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function at(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function rt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;ot(t,e)}function ot(t,e){ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return ot(t,e)}function lt(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function st(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let ct=(d=Z({name:"Form",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros"}),f=et({type:"string",isPublic:true,required:true}),m=et({type:"sap.ui.model.Context",required:true,isPublic:true,expectedTypes:["EntitySet","NavigationProperty","Singleton","EntityType"]}),g=et({type:"sap.ui.model.Context",isPublic:true,required:true,expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.FieldGroupType","com.sap.vocabularies.UI.v1.CollectionFacet","com.sap.vocabularies.UI.v1.ReferenceFacet"],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),h=et({type:"array"}),b=et({type:"boolean"}),v=et({type:"boolean"}),y=et({type:"string",isPublic:true}),P=et({type:"sap.ui.core.TitleLevel",isPublic:true}),C=et({type:"string"}),D=et({type:"string"}),$=tt(),x=it({type:"sap.fe.macros.form.FormElement",isPublic:true,slot:"formElements",isDefault:true}),T=et({type:"object",isPublic:true}),d(F=(O=function(t){rt(e,t);function e(e,i,n){var a;a=t.call(this,e,i,n)||this;nt(a,"id",I,at(a));nt(a,"contextPath",M,at(a));nt(a,"metaPath",A,at(a));nt(a,"formContainers",E,at(a));nt(a,"useFormContainerLabels",w,at(a));nt(a,"partOfPreview",S,at(a));nt(a,"title",L,at(a));nt(a,"titleLevel",_,at(a));nt(a,"displayMode",B,at(a));nt(a,"isVisible",V,at(a));nt(a,"onChange",j,at(a));nt(a,"formElements",R,at(a));nt(a,"layout",U,at(a));if(a.metaPath&&a.contextPath&&(a.formContainers===undefined||a.formContainers===null)){const t=Q(a.metaPath,a.contextPath);const e={};let i=t.targetObject;let r=false;if(i&&i.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){r=true;i={$Type:"com.sap.vocabularies.UI.v1.ReferenceFacet",Label:i.Label,Target:{$target:i,fullyQualifiedName:i.fullyQualifiedName,path:"",term:"",type:"AnnotationPath",value:H(t)},annotations:{},fullyQualifiedName:i.fullyQualifiedName};e[i.Target.value]={fields:a.formElements}}const o=a.getConverterContext(t,undefined,n,e);const l=J(i,a.isVisible,o);if(r){l.formContainers[0].annotationPath=a.metaPath.getPath()}a.formContainers=l.formContainers;a.useFormContainerLabels=l.useFormContainerLabels;a.facetType=i&&i.$Type}else{var r;a.facetType=(r=a.metaPath.getObject())===null||r===void 0?void 0:r.$Type}if(!a.isPublic){a._apiId=a.createId("Form");a._contentId=a.id}else{a._apiId=a.id;a._contentId=`${a.id}-content`}if(a.displayMode!==undefined){a._editable=G(W(q(z(a.displayMode,"boolean"),false),true,false))}else{a._editable=G(K.IsEditable)}return a}k=e;var i=e.prototype;i.getDataFieldCollection=function t(e,i){const n=Q(i).targetObject;let a;let r;if(n.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){a=p.getNavigationPath(n.Target.value);r=n}else{const t=this.contextPath.getPath();let e=i.getPath();if(e.startsWith(t)){e=e.substring(t.length)}a=p.getNavigationPath(e);r=e}const o=c.getFormContainerTitleLevel(this.title,this.titleLevel);const l=this.useFormContainerLabels&&n?p.label(n,{context:i}):"";const s=this.id?X(r):undefined;return Y`
					<macro:FormContainer
					xmlns:macro="sap.fe.macros"
					${this.attr("id",s)}
					title="${l}"
					titleLevel="${o}"
					contextPath="${a?e.entitySet:this.contextPath}"
					metaPath="${i}"
					dataFieldCollection="${e.formElements}"
					navigationPath="${a}"
					visible="${e.isVisible}"
					displayMode="${this.displayMode}"
					onChange="${this.onChange}"
					actions="${e.actions}"
				>
				<macro:formElements>
					<slot name="formElements" />
				</macro:formElements>
			</macro:FormContainer>`};i.getFormContainers=function t(){if(this.formContainers.length===0){return""}if(this.facetType.indexOf("com.sap.vocabularies.UI.v1.CollectionFacet")>=0){return this.formContainers.map((t,e)=>{if(t.isVisible){const i=this.contextPath.getModel().createBindingContext(t.annotationPath,this.contextPath);const n=i.getObject();if(n.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&c.isReferenceFacetPartOfPreview(n,this.partOfPreview)){if(n.Target.$AnnotationPath.$Type==="com.sap.vocabularies.Communication.v1.AddressType"){return Y`<template:with path="formContainers>${e}" var="formContainer">
											<template:with path="formContainers>${e}/annotationPath" var="facet">
												<core:Fragment fragmentName="sap.fe.macros.form.AddressSection" type="XML" />
											</template:with>
										</template:with>`}return this.getDataFieldCollection(t,i)}}return""})}else if(this.facetType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return this.formContainers.map(t=>{if(t.isVisible){const e=this.contextPath.getModel().createBindingContext(t.annotationPath,this.contextPath);return this.getDataFieldCollection(t,e)}else{return""}})}return Y``};i.getLayoutInformation=function t(){switch(this.layout.type){case"ResponsiveGridLayout":return Y`<f:ResponsiveGridLayout adjustLabelSpan="${this.layout.adjustLabelSpan}"
													breakpointL="${this.layout.breakpointL}"
													breakpointM="${this.layout.breakpointM}"
													breakpointXL="${this.layout.breakpointXL}"
													columnsL="${this.layout.columnsL}"
													columnsM="${this.layout.columnsM}"
													columnsXL="${this.layout.columnsXL}"
													emptySpanL="${this.layout.emptySpanL}"
													emptySpanM="${this.layout.emptySpanM}"
													emptySpanS="${this.layout.emptySpanS}"
													emptySpanXL="${this.layout.emptySpanXL}"
													labelSpanL="${this.layout.labelSpanL}"
													labelSpanM="${this.layout.labelSpanM}"
													labelSpanS="${this.layout.labelSpanS}"
													labelSpanXL="${this.layout.labelSpanXL}"
													singleContainerFullSize="${this.layout.singleContainerFullSize}" />`;case"ColumnLayout":default:return Y`<f:ColumnLayout
								columnsM="${this.layout.columnsM}"
								columnsL="${this.layout.columnsL}"
								columnsXL="${this.layout.columnsXL}"
								labelCellsLarge="${this.layout.labelCellsLarge}"
								emptyCellsLarge="${this.layout.emptyCellsLarge}" />`}};i.getTemplate=function t(){const e=this.onChange&&this.onChange.replace("{","\\{").replace("}","\\}")||"";const i=this.metaPath.getPath();const n=this.contextPath.getPath();if(!this.isVisible){return Y``}else{return Y`<macro:FormAPI xmlns:macro="sap.fe.macros.form"
					xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
					xmlns:f="sap.ui.layout.form"
					xmlns:fl="sap.ui.fl"
					id="${this._apiId}"
					metaPath="${i}"
					contextPath="${n}">
				<f:Form
					fl:delegate='{
						"name": "sap/fe/macros/form/FormDelegate",
						"delegateType": "complete"
					}'
					id="${this._contentId}"
					editable="${this._editable}"
					macrodata:entitySet="{contextPath>@sapui.name}"
					visible="${this.isVisible}"
					class="sapUxAPObjectPageSubSectionAlignContent"
					macrodata:navigationPath="${n}"
					macrodata:onChange="${e}"
				>
					${this.addConditionally(this.title!==undefined,Y`<f:title>
							<core:Title level="${this.titleLevel}" text="${this.title}" />
						</f:title>`)}
					<f:layout>
					${this.getLayoutInformation()}

					</f:layout>
					<f:formContainers>
						${this.getFormContainers()}
					</f:formContainers>
				</f:Form>
			</macro:FormAPI>`}};return e}(t),I=lt(O.prototype,"id",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),M=lt(O.prototype,"contextPath",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),A=lt(O.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),E=lt(O.prototype,"formContainers",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),w=lt(O.prototype,"useFormContainerLabels",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),S=lt(O.prototype,"partOfPreview",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),L=lt(O.prototype,"title",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),_=lt(O.prototype,"titleLevel",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return N.Auto}}),B=lt(O.prototype,"displayMode",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),V=lt(O.prototype,"isVisible",[D],{configurable:true,enumerable:true,writable:true,initializer:function(){return"true"}}),j=lt(O.prototype,"onChange",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),R=lt(O.prototype,"formElements",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),U=lt(O.prototype,"layout",[T],{configurable:true,enumerable:true,writable:true,initializer:function(){return{type:"ColumnLayout",columnsM:2,columnsXL:6,columnsL:3,labelCellsLarge:12}}}),O))||F);k=ct;return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/form/FormAPI",["sap/fe/core/helpers/ClassSupport","../MacroAPI"],function(t,e){"use strict";var i,n,a,r,o,l,s,c,u;var p=t.property;var d=t.defineUI5Class;function f(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function g(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;h(t,e)}function h(t,e){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return h(t,e)}function b(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function v(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let y=(i=d("sap.fe.macros.form.FormAPI"),n=p({type:"string"}),a=p({type:"string",expectedAnnotations:["@com.sap.vocabularies.UI.v1.FieldGroup","@com.sap.vocabularies.UI.v1.CollectionFacet","@com.sap.vocabularies.UI.v1.ReferenceFacet"],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),r=p({type:"string"}),i(o=(l=function(t){g(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;f(e,"id",s,m(e));f(e,"metaPath",c,m(e));f(e,"title",u,m(e));return e}return e}(e),s=b(l.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),c=b(l.prototype,"metaPath",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u=b(l.prototype,"title",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||o);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/form/FormContainer.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/converters/controls/Common/Form","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper"],function(t,e,i,n,a){"use strict";var r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_;var B={};var V=a.getContextRelativeTargetObjectPath;var j=n.getInvolvedDataModelObjects;var R=i.createFormDefinition;var U=e.defineBuildingBlock;var k=e.blockEvent;var N=e.blockAttribute;var H=e.blockAggregation;function z(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function W(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function q(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;G(t,e)}function G(t,e){G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return G(t,e)}function Q(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function X(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let K=(r=U({name:"FormContainer",namespace:"sap.fe.macros",fragment:"sap.fe.macros.form.FormContainer"}),o=N({type:"string"}),l=N({type:"sap.ui.model.Context",required:true,isPublic:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),s=N({type:"sap.ui.model.Context"}),c=N({type:"sap.ui.model.Context",isPublic:true,required:true}),u=N({type:"array"}),p=N({type:"boolean"}),d=N({type:"string"}),f=N({type:"sap.ui.core.TitleLevel",isPublic:true}),m=N({type:"string"}),g=N({type:"string"}),h=N({type:"string"}),b=N({type:"array"}),v=H({type:"sap.fe.macros.form.FormElement"}),y=k(),r(P=(C=function(t){q(e,t);function e(e,i,n){var a;a=t.call(this,e)||this;z(a,"id",D,W(a));z(a,"contextPath",$,W(a));z(a,"entitySet",x,W(a));z(a,"metaPath",T,W(a));z(a,"dataFieldCollection",F,W(a));z(a,"displayMode",O,W(a));z(a,"title",I,W(a));z(a,"titleLevel",M,W(a));z(a,"navigationPath",A,W(a));z(a,"visible",E,W(a));z(a,"designtimeSettings",w,W(a));z(a,"actions",S,W(a));z(a,"formElements",L,W(a));z(a,"onChange",_,W(a));a.entitySet=a.contextPath;if(a.formElements&&Object.keys(a.formElements).length>0){const t=j(a.metaPath,a.contextPath);const e={};let i=t.targetObject;i={$Type:"com.sap.vocabularies.UI.v1.ReferenceFacet",Label:i.Label,Target:{$target:i,fullyQualifiedName:i.fullyQualifiedName,path:"",term:"",type:"AnnotationPath",value:V(t)},annotations:{},fullyQualifiedName:i.fullyQualifiedName};e[i.Target.value]={fields:a.formElements};const r=a.getConverterContext(t,undefined,n,e);const o=R(i,"true",r);a.dataFieldCollection=o.formContainers[0].formElements}return a}B=e;return e}(t),D=Q(C.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),$=Q(C.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),x=Q(C.prototype,"entitySet",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),T=Q(C.prototype,"metaPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),F=Q(C.prototype,"dataFieldCollection",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),O=Q(C.prototype,"displayMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),I=Q(C.prototype,"title",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),M=Q(C.prototype,"titleLevel",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Auto"}}),A=Q(C.prototype,"navigationPath",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),E=Q(C.prototype,"visible",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),w=Q(C.prototype,"designtimeSettings",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return"sap/fe/macros/form/FormContainer.designtime"}}),S=Q(C.prototype,"actions",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),L=Q(C.prototype,"formElements",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),_=Q(C.prototype,"onChange",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),C))||P);B=K;return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/form/FormContainerAPI",["sap/fe/core/helpers/ClassSupport","../MacroAPI"],function(t,e){"use strict";var i,n,a,r,o,l,s,c,u;var p=t.xmlEventHandler;var d=t.property;var f=t.defineUI5Class;function m(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function h(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;b(t,e)}function b(t,e){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return b(t,e)}function v(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function y(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let P=(i=f("sap.fe.macros.form.FormContainerAPI"),n=d({type:"string"}),a=d({type:"boolean"}),r=p(),i(o=(l=(u=function(t){h(e,t);function e(e){var i;i=t.call(this,e,true)||this;m(i,"formContainerId",s,g(i));m(i,"showDetails",c,g(i));i.setParentBindingContext("internal",`controls/${i.formContainerId}`);return i}var i=e.prototype;i.toggleDetails=function t(){this.showDetails=!this.showDetails};return e}(e),u.isDependentBound=true,u),s=v(l.prototype,"formContainerId",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),c=v(l.prototype,"showDetails",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),v(l.prototype,"toggleDetails",[r],Object.getOwnPropertyDescriptor(l.prototype,"toggleDetails"),l.prototype),l))||o);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/form/FormDelegate",["sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/ui/model/json/JSONModel","sap/ui/model/ListBinding"],function(t,e,i,n){"use strict";const a={createLayout:async function(n){var a;const r=n.modifier,o=(a=n.appComponent)===null||a===void 0?void 0:a.getMetaModel(),l=n.element;let s=await e.getCustomData(l,"entitySet",r);if(!s){s=await e.getCustomData(l,"navigationPath",r)}const c=s.startsWith("/")?`${s}`:`/${s}`;const u=n.parentSelector?n.modifier.bySelector(n.parentSelector,n.appComponent,n.view):undefined;const p=await e.getCustomData(u,"navigationPath",r);const d=p?`${c}/${p}`:c;const f=o===null||o===void 0?void 0:o.getMetaContext(d);const m=o===null||o===void 0?void 0:o.createBindingContext(`${d}/${n.bindingPath}`);const g=n.element.sId||n.element.id;const h={sPropertyName:n.bindingPath,sBindingPath:d,sValueHelpType:"FormVH",oControl:l,oMetaModel:o,oModifier:r};function b(t){var a;const l=new i({id:g,idPrefix:(a=n.fieldSelector)===null||a===void 0?void 0:a.id}),s={bindingContexts:{entitySet:f,contextPath:f,property:m,this:l.createBindingContext("/")},models:{this:l,entitySet:o,contextPath:o,metaModel:o,property:o}};return e.templateControlFragment(t,s,{},r)}async function v(a,s,c){var u;const p=await e.getCustomData(l,"onChange",r);const d=await e.getCustomData(l,"displayMode",r);const g=new i({_flexId:(u=n.fieldSelector)===null||u===void 0?void 0:u.id,onChange:t.removeEscapeCharacters(p),displayMode:t.removeEscapeCharacters(d),navigationPath:c});const h={bindingContexts:{entitySet:f,dataField:m,this:g.createBindingContext("/")},models:{this:g,entitySet:o,metaModel:o,dataField:o},appComponent:n.appComponent};return e.templateControlFragment(a,h,{view:s},r)}const y=await e.isValueHelpRequired(h);const P=await e.doesValueHelpExist(h);let C;if(y&&!P){C=await b("sap.fe.macros.form.ValueHelpWrapper")}const D=await v("sap.fe.macros.form.FormElementFlexibility",n.view,p);return{control:D,valueHelp:C}},getPropertyInfo:function(t){function e(t){if(t&&t.$Type){if(t.$Type.toLowerCase().indexOf("edm")!==0){return true}}return false}function i(t,e){return e.some(function(e){return t.startsWith(e)})}function a(t,a,r,o,l,s,c){const u={name:t,bindingPath:t,entityType:o};const p=r["@com.sap.vocabularies.UI.v1.DataFieldDefault"];const d=p&&p.Label||r["@com.sap.vocabularies.Common.v1.Label"];u.label=d||"[LABEL_MISSING: "+t+"]";const f=r["@com.sap.vocabularies.UI.v1.Hidden"];u.hideFromReveal=f;if(f&&f.$Path){var m;u.hideFromReveal=(m=l.getBindingContext())===null||m===void 0?void 0:m.getProperty(f.$Path)}if(!u.hideFromReveal){u.hideFromReveal=r["@com.sap.vocabularies.UI.v1.AdaptationHidden"]}let g;if(!u.hideFromReveal){g=r["@com.sap.vocabularies.Common.v1.FieldControl"];if(g){u.hideFromReveal=g.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"}}g=r["@com.sap.vocabularies.Common.v1.FieldControl"];const h=g&&g.Path;if(h&&!u.hideFromReveal){const t=l.getBinding(s)instanceof n;if(!t){var b;const t=(b=l.getBindingContext())===null||b===void 0?void 0:b.getProperty(h);u.hideFromReveal=t===0}}if(p&&(p.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||p.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||p.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"||p.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){u.unsupported=true}if(i(t,c)||e(a)){u.unsupported=true}return u}function r(t,e,i,n,r){const o=[];let l="";const s=[];let c;for(l in t){c=t[l];if(c.$kind==="NavigationProperty"){s.push(l)}}for(l in t){c=t[l];if(c.$kind==="Property"){const t=i.getObject("/"+e+"/"+l+"@");const u=a(l,c,t,e,n,r,s);o.push(u)}}return o}function o(t,e){if(e.path){return e.path}const i=t.getBindingContext();if(i){if(t.data("navigationPath")){return i.getPath()+"/"+t.data("navigationPath")}return i.getPath()}}function l(t,e,i){const n=t.getModel(i.modelName);if(n){if(n.isA("sap.ui.model.odata.v4.ODataModel")){const a=n.getMetaModel();const l=o(t,i);if(l){const i=a.getMetaContext(l);const n=i.getObject();const o=i.getObject(n.$Type);return r(o,n.$Type,a,t,e)}}}return Promise.resolve([])}return Promise.resolve().then(function(){return l(t.element,t.aggregationName,t.payload)})}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/form/FormElement.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter"],function(t,e,i,n){"use strict";var a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P;var C={};var D=n.getInvolvedDataModelObjects;var $=i.xml;var x=e.defineBuildingBlock;var T=e.blockAttribute;var F=e.blockAggregation;function O(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function M(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;A(t,e)}function A(t,e){A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return A(t,e)}function E(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function w(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let S=(a=x({name:"FormElement",publicNamespace:"sap.fe.macros"}),r=T({type:"string",isPublic:true,required:true}),o=T({type:"sap.ui.model.Context",isPublic:true,required:true,expectedTypes:["EntitySet","NavigationProperty","Singleton","EntityType"]}),l=T({type:"sap.ui.model.Context",isPublic:true,required:true,expectedTypes:["Property"],expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldForAnnotation","com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithAction","com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataPointType"]}),s=T({type:"string",isPublic:true}),c=T({type:"boolean",isPublic:true}),u=T({type:"string",isPublic:true}),p=F({type:"sap.ui.core.Control",slot:"fields",isPublic:true,isDefault:true}),a(d=(f=function(t){M(e,t);function e(e,i,n){var a;a=t.call(this,e,i,n)||this;O(a,"id",m,I(a));O(a,"contextPath",g,I(a));O(a,"metaPath",h,I(a));O(a,"label",b,I(a));O(a,"visible",v,I(a));O(a,"key",y,I(a));O(a,"fields",P,I(a));const r=D(a.metaPath,a.contextPath);if(a.label===undefined){var o,l;a.label=((o=r.targetObject.annotations.Common)===null||o===void 0?void 0:(l=o.Label)===null||l===void 0?void 0:l.toString())??""}return a}C=e;var i=e.prototype;i.getFields=function t(){if(this.fields){return $`<slot name="fields" />`}else{return $`<macros:Field
						metaPath="${this.metaPath}"
						contextPath="${this.contextPath}"
						id="${this.createId("FormElementField")}" />`}};i.getTemplate=function t(){return $`<f:FormElement xmlns:f="sap.ui.layout.form" id="${this.id}"
			key="${this.key}"
			label="${this.label}"
			visible="${this.visible}">
			<f:fields>
				${this.getFields()}
			</f:fields>
		</f:FormElement>`};return e}(t),m=E(f.prototype,"id",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),g=E(f.prototype,"contextPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(f.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),b=E(f.prototype,"label",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(f.prototype,"visible",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),y=E(f.prototype,"key",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),P=E(f.prototype,"fields",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);C=S;return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/form/FormHelper",["sap/ui/core/library"],function(t){"use strict";var e=t.TitleLevel;const i={isReferenceFacetPartOfPreview:function(t,e){e=e.toString();if(t.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){const i=t["@com.sap.vocabularies.UI.v1.PartOfPreview"];return e==="true"&&i!==false||e==="false"&&i===false}return false},create$Select:function(t){return(t||[]).map(t=>t.$PropertyPath).join(",")},generateBindingExpression:function(t,e){if(!t&&!e){return""}const n={path:t||""};if(e){n.parameters={$select:i.create$Select(e)}}return JSON.stringify(n)},getFormContainerTitleLevel:function(t,i){if(!t){return i}switch(i){case e.H1:return e.H2;case e.H2:return e.H3;case e.H3:return e.H4;case e.H4:return e.H5;case e.H5:case e.H6:return e.H6;default:return e.Auto}}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/fpm/CustomFragment.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(t,e,i){"use strict";var n,a,r,o,l,s,c,u,p;var d={};var f=i.xml;var m=e.defineBuildingBlock;var g=e.blockAttribute;function h(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function v(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;y(t,e)}function y(t,e){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return y(t,e)}function P(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function C(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let D=(n=m({name:"CustomFragment",namespace:"sap.fe.macros.fpm"}),a=g({type:"string",required:true}),r=g({type:"sap.ui.model.Context",required:false}),o=g({type:"string",required:true}),n(l=(s=function(t){v(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;h(e,"id",c,b(e));h(e,"contextPath",u,b(e));h(e,"fragmentName",p,b(e));return e}d=e;var i=e.prototype;i.getTemplate=function t(){const e=this.fragmentName+"-JS".replace(/\//g,".");return f`<core:Fragment
			xmlns:compo="http://schemas.sap.com/sapui5/extension/sap.ui.core.xmlcomposite/1"
			fragmentName="${e}"
			id="${this.id}"
			type="CUSTOM"
		>
			<compo:fragmentContent>
				<core:FragmentDefinition>
					<core:Fragment fragmentName="${this.fragmentName}" type="XML" />
				</core:FragmentDefinition>
			</compo:fragmentContent>
		</core:Fragment>`};return e}(t),c=P(s.prototype,"id",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u=P(s.prototype,"contextPath",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),p=P(s.prototype,"fragmentName",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||l);d=D;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/ActionCommand.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(t,e,i){"use strict";var n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C;var D={};var $=i.xml;var x=e.defineBuildingBlock;var T=e.blockEvent;var F=e.blockAttribute;function O(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function M(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;A(t,e)}function A(t,e){A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return A(t,e)}function E(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function w(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let S=(n=x({name:"ActionCommand",namespace:"sap.fe.macros.internal"}),a=F({type:"string",required:true}),r=F({type:"object",required:true}),o=F({type:"boolean"}),l=F({type:"boolean"}),s=F({type:"boolean"}),c=T(),u=T(),p=T(),n(d=(f=function(t){M(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;O(e,"id",m,I(e));O(e,"action",g,I(e));O(e,"isActionEnabled",h,I(e));O(e,"isIBNEnabled",b,I(e));O(e,"visible",v,I(e));O(e,"onExecuteAction",y,I(e));O(e,"onExecuteIBN",P,I(e));O(e,"onExecuteManifest",C,I(e));return e}D=e;var i=e.prototype;i.getTemplate=function t(){let e;let i;switch(this.action.type){case"ForAction":e=this.onExecuteAction;i=this.isActionEnabled!==undefined?this.isActionEnabled:this.action.enabled;break;case"ForNavigation":e=this.onExecuteIBN;i=this.isIBNEnabled!==undefined?this.isIBNEnabled:this.action.enabled;break;default:e=this.onExecuteManifest;i=this.action.enabled;break}return $`
		<control:CommandExecution
			xmlns:control="sap.fe.core.controls"
			core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
			execute="${e}"
			enabled="${i}"
			visible="${this.visible!==undefined?this.visible:this.action.visible}"
			command="${this.action.command}"
		/>`};return e}(t),m=E(f.prototype,"id",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),g=E(f.prototype,"action",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(f.prototype,"isActionEnabled",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),b=E(f.prototype,"isIBNEnabled",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(f.prototype,"visible",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),y=E(f.prototype,"onExecuteAction",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),P=E(f.prototype,"onExecuteIBN",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),C=E(f.prototype,"onExecuteManifest",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);D=S;return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/DataPoint.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/DataPointTemplating"],function(t,e,i,n,a,r,o,l,s,c,u,p,d){"use strict";var f,m,g,h,b,v,y,P,C,D,$,x,T;var F={};var O=d.getValueFormatted;var I=d.getHeaderRatingIndicatorText;var M=d.buildFieldBindingExpression;var A=d.buildExpressionForProgressIndicatorPercentValue;var E=d.buildExpressionForProgressIndicatorDisplayValue;var w=p.isUsedInNavigationWithQuickViewFacets;var S=p.getVisibleExpression;var L=p.getPropertyWithSemanticObject;var _=c.hasUnit;var B=c.hasCurrency;var V=s.getRelativePaths;var j=s.enhanceDataModelPath;var R=l.buildExpressionForCriticalityIcon;var U=l.buildExpressionForCriticalityColor;var k=o.isProperty;var N=r.generate;var H=a.pathInModel;var z=a.notEqual;var W=a.getExpressionFromAnnotation;var q=a.formatResult;var G=a.compileExpression;var Q=n.getInvolvedDataModelObjects;var X=n.convertMetaModelContext;var K=i.xml;var J=e.defineBuildingBlock;var Y=e.blockAttribute;function Z(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function tt(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function et(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;it(t,e)}function it(t,e){it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return it(t,e)}function nt(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function at(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let rt=(f=J({name:"DataPoint",namespace:"sap.fe.macros.internal"}),m=Y({type:"string"}),g=Y({type:"sap.ui.model.Context",required:true}),h=Y({type:"string"}),b=Y({type:"object",validate:function(t){if(t!==null&&t!==void 0&&t.dataPointStyle&&!["","large"].includes(t===null||t===void 0?void 0:t.dataPointStyle)){throw new Error(`Allowed value ${t.dataPointStyle} for dataPointStyle does not match`)}if(t!==null&&t!==void 0&&t.displayMode&&!["Value","Description","ValueDescription","DescriptionValue"].includes(t===null||t===void 0?void 0:t.displayMode)){throw new Error(`Allowed value ${t.displayMode} for displayMode does not match`)}if(t!==null&&t!==void 0&&t.iconSize&&!["1rem","1.375rem","2rem"].includes(t===null||t===void 0?void 0:t.iconSize)){throw new Error(`Allowed value ${t.iconSize} for iconSize does not match`)}if(t!==null&&t!==void 0&&t.measureDisplayMode&&!["Hidden","ReadOnly"].includes(t===null||t===void 0?void 0:t.measureDisplayMode)){throw new Error(`Allowed value ${t.measureDisplayMode} for measureDisplayMode does not match`)}return t}}),v=Y({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),f(y=(P=function(t){et(e,t);e.getTemplatingObjects=function t(e){var i,n;const a=Q(e.metaPath,e.contextPath);let r;e.visible=S(a);if(a!==null&&a!==void 0&&(i=a.targetObject)!==null&&i!==void 0&&(n=i.Value)!==null&&n!==void 0&&n.path){r=j(a,a.targetObject.Value.path)}const o=X(e.metaPath);return{dataModelPath:a,valueDataModelPath:r,dataPointConverted:o}};e.getDataPointVisualization=function t(i){const{dataModelPath:n,valueDataModelPath:a,dataPointConverted:r}=e.getTemplatingObjects(i);if((r===null||r===void 0?void 0:r.Visualization)==="UI.VisualizationType/Rating"){i.visualization="Rating";return i}if((r===null||r===void 0?void 0:r.Visualization)==="UI.VisualizationType/Progress"){i.visualization="Progress";return i}const o=a&&a.targetObject;i.hasQuickView=o&&w(n,o);if(L(a)){i.hasQuickView=true}if(!i.hasQuickView){if(k(o)&&(_(o)||B(o))){i.visualization="ObjectNumber";return i}}i.visualization="ObjectStatus";return i};function e(i){var n;i.hasQuickView=false;n=t.call(this,e.getDataPointVisualization(i))||this;Z(n,"idPrefix",C,tt(n));Z(n,"metaPath",D,tt(n));Z(n,"ariaLabelledBy",$,tt(n));Z(n,"formatOptions",x,tt(n));Z(n,"contextPath",T,tt(n));return n}F=e;var i=e.prototype;i.getRatingIndicatorTemplate=function t(){var i;const{dataModelPath:n,valueDataModelPath:a,dataPointConverted:r}=e.getTemplatingObjects(this);const o=n.targetObject;const l=this.getTargetValueBinding();const s=(o===null||o===void 0?void 0:o.Value)||"";const c=s===null||s===void 0?void 0:(i=s.$target)===null||i===void 0?void 0:i.type;let u;if(c==="Edm.Decimal"&&o.ValueFormat){if(o.ValueFormat.NumberOfFractionalDigits){u=o.ValueFormat.NumberOfFractionalDigits}}const p=O(a,s,c,u);const d=I(this.metaPath,o);let f="";let m="";const g=G(q([H("T_HEADER_RATING_INDICATOR_FOOTER","sap.fe.i18n"),W(r.Value,V(n)),r.TargetValue?W(r.TargetValue,V(n)):"5"],"MESSAGE"));if(this.formatOptions.showLabels??false){f=K`<Label xmlns="sap.m"
					${this.attr("text",d)}
					${this.attr("visible",o.SampleSize||o.Description?true:false)}
				/>`;m=K`<Label
			xmlns="sap.m"
			core:require="{MESSAGE: 'sap/base/strings/formatMessage' }"
			${this.attr("text",g)}
			visible="true" />`}return K`
		${f}
		<RatingIndicator
		xmlns="sap.m"

		${this.attr("id",this.idPrefix?N([this.idPrefix,"RatingIndicator-Field-display"]):undefined)}
		${this.attr("maxValue",l)}
		${this.attr("value",p)}
		${this.attr("tooltip",this.getTooltipValue())}
		${this.attr("iconSize",this.formatOptions.iconSize)}
		${this.attr("class",this.formatOptions.showLabels??false?"sapUiTinyMarginTopBottom":undefined)}
		editable="false"
	/>
	${m}`};i.getProgressIndicatorTemplate=function t(){var i;const{dataModelPath:n,valueDataModelPath:a,dataPointConverted:r}=e.getTemplatingObjects(this);const o=U(r,n);const l=E(n);const s=A(n);const c=n.targetObject;let u="";let p="";if((this===null||this===void 0?void 0:(i=this.formatOptions)===null||i===void 0?void 0:i.showLabels)??false){var d,f,m;u=K`<Label
				xmlns="sap.m"
				${this.attr("text",c===null||c===void 0?void 0:c.Description)}
				${this.attr("visible",!!(c!==null&&c!==void 0&&c.Description))}
			/>`;const t=W(a===null||a===void 0?void 0:(d=a.targetObject)===null||d===void 0?void 0:(f=d.annotations)===null||f===void 0?void 0:(m=f.Common)===null||m===void 0?void 0:m.Label);p=K`<Label
				xmlns="sap.m"
				${this.attr("text",G(t))}
				${this.attr("visible",!!G(z(undefined,t)))}
			/>`}return K`
		${u}
			<ProgressIndicator
				xmlns="sap.m"
				${this.attr("id",this.idPrefix?N([this.idPrefix,"ProgressIndicator-Field-display"]):undefined)}
				${this.attr("displayValue",l)}
				${this.attr("percentValue",s)}
				${this.attr("state",o)}
				${this.attr("tooltip",this.getTooltipValue())}
			/>
			${p}`};i.getObjectNumberCommonTemplate=function t(){const{dataModelPath:i,valueDataModelPath:n,dataPointConverted:a}=e.getTemplatingObjects(this);const r=U(a,i);const o=this.formatOptions.showEmptyIndicator??false?"On":undefined;const l=M(i,this.formatOptions,true);const s=this.formatOptions.measureDisplayMode==="Hidden"?undefined:G(u.getBindingForUnitOrCurrency(n));return K`<ObjectNumber
			xmlns="sap.m"
			${this.attr("id",this.idPrefix?N([this.idPrefix,"ObjectNumber-Field-display"]):undefined)}
			core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
			${this.attr("state",r)}
			${this.attr("number",l)}
			${this.attr("unit",s)}
			${this.attr("visible",this.visible)}
			emphasized="false"
			${this.attr("class",this.formatOptions.dataPointStyle==="large"?"sapMObjectNumberLarge":undefined)}
			${this.attr("tooltip",this.getTooltipValue())}
			${this.attr("emptyIndicatorMode",o)}
		/>`};i.getObjectNumberTemplate=function t(){var i;const{valueDataModelPath:n}=e.getTemplatingObjects(this);if((this===null||this===void 0?void 0:(i=this.formatOptions)===null||i===void 0?void 0:i.isAnalytics)??false){return K`
				<control:ConditionalWrapper
					xmlns:control="sap.fe.macros.controls"
					${this.attr("condition",u.hasValidAnalyticalCurrencyOrUnit(n))}
				>
					<control:contentTrue>
						${this.getObjectNumberCommonTemplate()}
					</control:contentTrue>
					<control:contentFalse>
						<ObjectNumber
							xmlns="sap.m"
							${this.attr("id",this.idPrefix?N([this.idPrefix,"ObjectNumber-Field-display-differentUnit"]):undefined)}
							number="*"
							unit=""
							${this.attr("visible",this.visible)}
							emphasized="false"
							${this.attr("class",this.formatOptions.dataPointStyle==="large"?"sapMObjectNumberLarge":undefined)}
						/>
					</control:contentFalse>
				</control:ConditionalWrapper>`}else{return K`${this.getObjectNumberCommonTemplate()}`}};i.getObjectStatusDependentsTemplate=function t(){if(this.hasQuickView){return`<dependents><macro:QuickView\n\t\t\t\t\t\txmlns:macro="sap.fe.macros"\n\t\t\t\t\t\tdataField="{metaPath>}"\n\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t/></dependents>`}return""};i.getObjectStatusTemplate=function t(){const{dataModelPath:i,valueDataModelPath:n,dataPointConverted:a}=e.getTemplatingObjects(this);let r=U(a,i);if(r==="None"&&n){r=this.hasQuickView?"Information":"None"}r=r?r:U(a,i);const o=this.formatOptions.showEmptyIndicator??false?"On":undefined;const l=M(i,this.formatOptions,false);const s=R(a,i);return K`<ObjectStatus
						xmlns="sap.m"
						${this.attr("id",this.idPrefix?N([this.idPrefix,"ObjectStatus-Field-display"]):undefined)}
						core:require="{ FieldRuntime: 'sap/fe/macros/field/FieldRuntime' }"
						${this.attr("class",this.formatOptions.dataPointStyle==="large"?"sapMObjectStatusLarge":undefined)}
						${this.attr("icon",s)}
						${this.attr("tooltip",this.getTooltipValue())}
						${this.attr("state",r)}
						${this.attr("text",l)}
						${this.attr("emptyIndicatorMode",o)}
						${this.attr("active",this.hasQuickView)}
						press="FieldRuntime.pressLink"
						${this.attr("ariaLabelledBy",this.ariaLabelledBy!==null?this.ariaLabelledBy:undefined)}
				>${this.getObjectStatusDependentsTemplate()}
				</ObjectStatus>`};i.getTooltipValue=function t(){var i,n,a;const{dataModelPath:r,dataPointConverted:o}=e.getTemplatingObjects(this);return W(o===null||o===void 0?void 0:(i=o.annotations)===null||i===void 0?void 0:(n=i.Common)===null||n===void 0?void 0:(a=n.QuickInfo)===null||a===void 0?void 0:a.valueOf(),V(r))};i.getTargetValueBinding=function t(){const{dataModelPath:i,dataPointConverted:n}=e.getTemplatingObjects(this);return W(n.TargetValue,V(i))};i.getTemplate=function t(){switch(this.visualization){case"Rating":{return this.getRatingIndicatorTemplate()}case"Progress":{return this.getProgressIndicatorTemplate()}case"ObjectNumber":{return this.getObjectNumberTemplate()}default:{return this.getObjectStatusTemplate()}}};return e}(t),C=nt(P.prototype,"idPrefix",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),D=nt(P.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),$=nt(P.prototype,"ariaLabelledBy",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),x=nt(P.prototype,"formatOptions",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),T=nt(P.prototype,"contextPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),P))||y);F=rt;return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/FilterField.block",["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filter/FilterFieldTemplating"],function(t,e,i,n,a,r,o,l,s,c,u,p,d){"use strict";var f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M;var A={};var E=d.getFilterFieldDisplayFormat;var w=p.maxConditions;var S=p.isRequiredInFilter;var L=p.getPlaceholder;var _=p.getDataType;var B=p.getConditionsBinding;var V=p.formatOptions;var j=p.constraints;var R=s.getRelativePropertyPath;var U=l.getTargetObjectPath;var k=o.generate;var N=r.getExpressionFromAnnotation;var H=r.compileExpression;var z=n.xml;var W=n.SAP_UI_MODEL_CONTEXT;var q=i.defineBuildingBlock;var G=i.blockAttribute;function Q(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function X(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function K(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;J(t,e)}function J(t,e){J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return J(t,e)}function Y(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function Z(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let tt=(f=q({name:"FilterField",namespace:"sap.fe.macros.internal"}),m=G({type:"sap.ui.model.Context",required:true,isPublic:true}),g=G({type:"sap.ui.model.Context",required:true,isPublic:true}),h=G({type:"sap.ui.model.Context",isPublic:true}),b=G({type:"string",isPublic:true}),v=G({type:"string",isPublic:true}),y=G({type:"boolean",isPublic:true}),P=G({type:"string",isPublic:true}),f(C=(D=function(e){K(i,e);function i(t,i,n){var r,o,l,s;var p;p=e.call(this,t,i,n)||this;Q(p,"property",$,X(p));Q(p,"contextPath",x,X(p));Q(p,"visualFilter",T,X(p));Q(p,"idPrefix",F,X(p));Q(p,"vhIdPrefix",O,X(p));Q(p,"useSemanticDateRange",I,X(p));Q(p,"settings",M,X(p));const d=a.convertMetaModelContext(p.property);const f=a.getInvolvedDataModelObjects(p.property,p.contextPath);const m=d.name,g=!!((r=d.annotations)!==null&&r!==void 0&&(o=r.Common)!==null&&o!==void 0&&o.ValueListWithFixedValues);p.controlId=p.idPrefix&&k([p.idPrefix,m]);p.sourcePath=U(f);p.dataType=_(d);const h=(d===null||d===void 0?void 0:(l=d.annotations)===null||l===void 0?void 0:(s=l.Common)===null||s===void 0?void 0:s.Label)||m;const b=N(h);p.label=H(b)||m;p.conditionsBinding=B(f)||"";p.placeholder=L(d);p.vfEnabled=!!p.visualFilter&&!(p.idPrefix&&p.idPrefix.indexOf("Adaptation")>-1);p.vfId=p.vfEnabled?k([p.idPrefix,m,"VisualFilter"]):undefined;const v=p.property,y=v.getModel(),P=u.valueHelpPropertyForFilterField(v),C=c.isPropertyFilterable(v),D=v.getObject(),A={context:v};p.display=E(f,d,A);p.isFilterable=!(C===false||C==="false");p.maxConditions=w(D,A);p.dataTypeConstraints=j(D,A);p.dataTypeFormatOptions=V(D,A);p.required=S(D,A);p.operators=u.operators(v,D,p.useSemanticDateRange,p.settings||"",p.contextPath.getPath());const z=y.createBindingContext(P);const W=z.getObject(),q={context:z},G=R(W,q),K=R(D,A);p.fieldHelpProperty=u.getFieldHelpPropertyForFilterField(v,D,D.$Type,p.vhIdPrefix,K,G,g,p.useSemanticDateRange);return p}A=i;var n=i.prototype;n.getVisualFilterContent=function t(){var e,i;let n=this.visualFilter,a=z``;if(!this.vfEnabled||!n){return a}if((e=n)!==null&&e!==void 0&&(i=e.isA)!==null&&i!==void 0&&i.call(e,W)){n=n.getObject()}const{contextPath:r,presentationAnnotation:o,outParameter:l,inParameters:s,valuelistProperty:u,selectionVariantAnnotation:p,multipleSelectionAllowed:d,required:f,requiredProperties:m=[],showOverlayInitially:g,renderLineChart:h,isValueListWithFixedValues:b}=n;a=z`
				<macro:VisualFilter
					id="${this.vfId}"
					contextPath="${r}"
					metaPath="${o}"
					outParameter="${l}"
					inParameters="${s}"
					valuelistProperty="${u}"
					selectionVariantAnnotation="${p}"
					multipleSelectionAllowed="${d}"
					required="${f}"
					requiredProperties="${c.stringifyCustomData(m)}"
					showOverlayInitially="${g}"
					renderLineChart="${h}"
					isValueListWithFixedValues="${b}"
					filterBarEntityType="${r}"
				/>
			`;return a};n.getTemplate=async function e(){let i=``;if(this.isFilterable){let n;try{n=await this.display}catch(e){t.error(`FE : FilterField BuildingBlock : Error fetching display property for ${this.sourcePath} : ${e}`)}i=z`
				<mdc:FilterField
					xmlns:mdc="sap.ui.mdc"
					xmlns:macro="sap.fe.macros"
					xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"
					xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
					unittest:id="UnitTest::FilterField"
					customData:sourcePath="${this.sourcePath}"
					id="${this.controlId}"
					delegate="{name: 'sap/fe/macros/field/FieldBaseDelegate', payload:{isFilterField:true}}"
					label="${this.label}"
					dataType="${this.dataType}"
					display="${n}"
					maxConditions="${this.maxConditions}"
					fieldHelp="${this.fieldHelpProperty}"
					conditions="${this.conditionsBinding}"
					dataTypeConstraints="${this.dataTypeConstraints}"
					dataTypeFormatOptions="${this.dataTypeFormatOptions}"
					required="${this.required}"
					operators="${this.operators}"
					placeholder="${this.placeholder}"

				>
					${this.vfEnabled?this.getVisualFilterContent():z``}
				</mdc:FilterField>
			`}return i};return i}(e),$=Y(D.prototype,"property",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),x=Y(D.prototype,"contextPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),T=Y(D.prototype,"visualFilter",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),F=Y(D.prototype,"idPrefix",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FilterField"}}),O=Y(D.prototype,"vhIdPrefix",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FilterFieldValueHelp"}}),I=Y(D.prototype,"useSemanticDateRange",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),M=Y(D.prototype,"settings",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),D))||C);A=tt;return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/InternalField.block",["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/situations/SituationsIndicator.block","sap/ui/mdc/enum/EditMode","../field/FieldHelper","./field/FieldStructure"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C){"use strict";var D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V,j,R,U,k,N,H,z,W,q,G,Q,X,K,J,Y,Z,tt,et,it,nt,at,rt,ot,lt,st,ct,ut,pt,dt,ft,mt,gt,ht,bt,vt,yt,Pt,Ct,Dt,$t,xt,Tt,Ft;var Ot={};var It=m.isSemanticKey;var Mt=f.getTargetObjectPath;var At=f.getRelativePaths;var Et=f.getContextRelativeTargetObjectPath;var wt=f.enhanceDataModelPath;var St=d.isProperty;var Lt=p.generate;var _t=c.getRequiredPropertiesFromUpdateRestrictions;var Bt=c.getRequiredPropertiesFromInsertRestrictions;var Vt=s.wrapBindingExpression;var jt=s.pathInModel;var Rt=s.not;var Ut=s.ifElse;var kt=s.getExpressionFromAnnotation;var Nt=s.formatWithTypeInformation;var Ht=s.formatResult;var zt=s.fn;var Wt=s.equal;var qt=s.constant;var Gt=s.compileExpression;var Qt=s.and;var Xt=a.Entity;var Kt=n.xml;var Jt=i.defineBuildingBlock;var Yt=i.blockEvent;var Zt=i.blockAttribute;function te(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function ee(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ie(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;ne(t,e)}function ne(t,e){ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return ne(t,e)}function ae(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function re(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let oe=(D=Jt({name:"Field",namespace:"sap.fe.macros.internal",designtime:"sap/fe/macros/internal/Field.designtime"}),$=Zt({type:"string"}),x=Zt({type:"string"}),T=Zt({type:"string"}),F=Zt({type:"string"}),O=Zt({type:"string"}),I=Zt({type:"string"}),M=Zt({type:"string"}),A=Zt({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),E=Zt({type:"boolean"}),w=Zt({type:"sap.ui.model.Context",required:true,expectedTypes:["Property"],expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldForAnnotation","com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithAction","com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataPointType"]}),S=Zt({type:"sap.ui.mdc.enum.EditMode"}),L=Zt({type:"boolean"}),_=Zt({type:"string"}),B=Zt({type:"string"}),V=Zt({type:"sap.ui.core.TextAlign"}),j=Zt({type:"string",required:false}),R=Zt({type:"string"}),U=Zt({type:"boolean"}),k=Zt({type:"boolean"}),N=Zt({type:"object",validate:function(t){if(t.textAlignMode&&!["Table","Form"].includes(t.textAlignMode)){throw new Error(`Allowed value ${t.textAlignMode} for textAlignMode does not match`)}if(t.displayMode&&!["Value","Description","ValueDescription","DescriptionValue"].includes(t.displayMode)){throw new Error(`Allowed value ${t.displayMode} for displayMode does not match`)}if(t.fieldMode&&!["nowrapper",""].includes(t.fieldMode)){throw new Error(`Allowed value ${t.fieldMode} for fieldMode does not match`)}if(t.measureDisplayMode&&!["Hidden","ReadOnly"].includes(t.measureDisplayMode)){throw new Error(`Allowed value ${t.measureDisplayMode} for measureDisplayMode does not match`)}if(t.textExpandBehaviorDisplay&&!["InPlace","Popover"].includes(t.textExpandBehaviorDisplay)){throw new Error(`Allowed value ${t.textExpandBehaviorDisplay} for textExpandBehaviorDisplay does not match`)}if(t.semanticKeyStyle&&!["ObjectIdentifier","Label",""].includes(t.semanticKeyStyle)){throw new Error(`Allowed value ${t.semanticKeyStyle} for semanticKeyStyle does not match`)}if(typeof t.isAnalytics==="string"){t.isAnalytics=t.isAnalytics==="true"}return t}}),H=Zt({type:"sap.ui.model.Context"}),z=Zt({type:"sap.ui.model.Context"}),W=Zt({type:"sap.ui.model.Context"}),q=Zt({type:"sap.ui.model.Context"}),G=Zt({type:"sap.ui.model.Context"}),Q=Zt({type:"boolean"}),X=Zt({type:"string"}),K=Yt(),D(J=(Y=function(e){ie(i,e);i.getOverrides=function t(e,i){const n={};if(e){const t=e[i];if(t){Object.keys(t).forEach(function(e){n[e]=t[e]})}}return n};i.getIdentifierTitle=function t(e,i,n){var a,r,o,s,c,u,p,d,f,m;let g=jt(Et(i));let h=e===null||e===void 0?void 0:e.displayMode;const b=i.targetObject.type==="PropertyPath"?i.targetObject.$target:i.targetObject;g=Nt(b,g);const v=(a=b.annotations)===null||a===void 0?void 0:(r=a.Common)===null||r===void 0?void 0:r.Text;if(v===undefined){h="Value"}const y=At(i);const P=[];P.push(jt("T_NEW_OBJECT","sap.fe.i18n"));P.push(jt("T_ANNOTATION_HELPER_DEFAULT_OBJECT_PAGE_HEADER_TITLE_NO_HEADER_INFO","sap.fe.i18n"));if(!!((o=i.targetEntitySet)!==null&&o!==void 0&&(s=o.annotations)!==null&&s!==void 0&&(c=s.Common)!==null&&c!==void 0&&c.DraftRoot)||!!((u=i.targetEntitySet)!==null&&u!==void 0&&(p=u.annotations)!==null&&p!==void 0&&(d=p.Common)!==null&&d!==void 0&&d.DraftNode)){P.push(Xt.HasDraft);P.push(Xt.IsActive)}else{P.push(qt(null));P.push(qt(null))}switch(h){case"Value":P.push(g);P.push(qt(null));break;case"Description":P.push(kt(v,y));P.push(qt(null));break;case"ValueDescription":P.push(g);P.push(kt(v,y));break;default:if(v!==null&&v!==void 0&&(f=v.annotations)!==null&&f!==void 0&&(m=f.UI)!==null&&m!==void 0&&m.TextArrangement){P.push(kt(v,y));P.push(g)}else{P.push(kt(v,y));if(n){P.push(g)}else{P.push(qt(null))}}break}return Gt(Ht(P,l.formatIdentifierTitle))};i.getObjectIdentifierText=function t(e,i){var n,a,r,o;let s=jt(Et(i));const c=e===null||e===void 0?void 0:e.displayMode;const u=i.targetObject.type==="PropertyPath"?i.targetObject.$target:i.targetObject;const p=(n=u.annotations)===null||n===void 0?void 0:(a=n.Common)===null||a===void 0?void 0:a.Text;if(p===undefined||p!==null&&p!==void 0&&(r=p.annotations)!==null&&r!==void 0&&(o=r.UI)!==null&&o!==void 0&&o.TextArrangement){return undefined}s=Nt(u,s);switch(c){case"ValueDescription":const t=At(i);return Gt(kt(p,t));case"DescriptionValue":return Gt(Ht([s],l.formatToKeepWhitespace));default:return undefined}};i.setUpDataPointType=function t(e){if((e===null||e===void 0?void 0:e.term)==="com.sap.vocabularies.UI.v1.DataPoint"){e.$Type=e.$Type||"com.sap.vocabularies.UI.v1.DataPointType"}};i.setUpVisibleProperties=function t(e,i){e.visible=b.getVisibleExpression(i,e.formatOptions);e.displayVisible=e.formatOptions.fieldMode==="nowrapper"?e.visible:undefined};i.getContentId=function t(e){return`${e}-content`};i.setUpEditableProperties=function t(e,i,n,a){var r,l,s;const c=n!==null&&n!==void 0&&(r=n.targetObject)!==null&&r!==void 0&&r.Value?n.targetObject.Value:n===null||n===void 0?void 0:n.targetObject;if(e.editMode!==undefined&&e.editMode!==null){e.editModeAsObject=e.editMode}else{const t=e.formatOptions.measureDisplayMode?e.formatOptions.measureDisplayMode==="ReadOnly":false;e.editModeAsObject=g.getEditMode(c,n,t,true,i);e.editMode=Gt(e.editModeAsObject)}const p=g.getEditableExpressionAsObject(c,i,n);const d=Bt((l=e.entitySet)===null||l===void 0?void 0:l.getPath().replaceAll("/$NavigationPropertyBinding/","/"),a);const f=_t((s=e.entitySet)===null||s===void 0?void 0:s.getPath().replaceAll("/$NavigationPropertyBinding/","/"),a);const m={requiredPropertiesFromInsertRestrictions:d,requiredPropertiesFromUpdateRestrictions:f};if(u.isCollaborationDraftSupported(a)&&e.editMode!==y.Display){e.collaborationEnabled=true;const t=g.getCollaborationExpression(n,o.hasCollaborationActivity);e.collaborationHasActivityExpression=Gt(t);e.collaborationInitialsExpression=Gt(g.getCollaborationExpression(n,o.getCollaborationActivityInitials));e.collaborationColorExpression=Gt(g.getCollaborationExpression(n,o.getCollaborationActivityColor));e.editableExpression=Gt(Qt(p,Rt(t)));e.editMode=Gt(Ut(t,qt("ReadOnly"),e.editModeAsObject))}else{e.editableExpression=Gt(p)}e.enabledExpression=g.getEnabledExpression(c,i,false,n);e.requiredExpression=g.getRequiredExpression(c,i,false,false,m,n);if(e.idPrefix){e.editStyleId=Lt([e.idPrefix,"Field-edit"])}};i.setUpFormatOptions=function t(e,n,a,r){var o;const l=i.getOverrides(a,e.dataField.getPath());if(!e.formatOptions.displayMode){e.formatOptions.displayMode=g.getDisplayMode(n)}e.formatOptions.textLinesEdit=l.textLinesEdit||l.formatOptions&&l.formatOptions.textLinesEdit||e.formatOptions.textLinesEdit||4;e.formatOptions.textMaxLines=l.textMaxLines||l.formatOptions&&l.formatOptions.textMaxLines||e.formatOptions.textMaxLines;if((o=r.models.viewData)!==null&&o!==void 0&&o.getProperty("/retrieveTextFromValueList")){e.formatOptions.retrieveTextFromValueList=b.isRetrieveTextFromValueListEnabled(n.targetObject,e.formatOptions);if(e.formatOptions.retrieveTextFromValueList){var s,c,u;const t=!!(n!==null&&n!==void 0&&(s=n.targetEntityType)!==null&&s!==void 0&&(c=s.annotations)!==null&&c!==void 0&&(u=c.UI)!==null&&u!==void 0&&u.TextArrangement);e.formatOptions.displayMode=t?e.formatOptions.displayMode:"DescriptionValue"}}if(e.formatOptions.fieldMode==="nowrapper"&&e.editMode==="Display"){if(e._flexId){e.noWrapperId=e._flexId}else{e.noWrapperId=e.idPrefix?Lt([e.idPrefix,"Field-content"]):undefined}}};i.setUpDisplayStyle=function e(n,a,r){var o,l,s,c,u,p,d,f,m,y,C,D,$,x,T,F,O,I,M,A;const E=r.targetObject;if(!r.targetObject){n.displayStyle="Text";return}n.hasUnitOrCurrency=((o=E.annotations)===null||o===void 0?void 0:(l=o.Measures)===null||l===void 0?void 0:l.Unit)!==undefined||((s=E.annotations)===null||s===void 0?void 0:(c=s.Measures)===null||c===void 0?void 0:c.ISOCurrency)!==undefined;n.hasValidAnalyticalCurrencyOrUnit=g.hasValidAnalyticalCurrencyOrUnit(r);n.textFromValueList=Vt(Gt(zt("FieldRuntime.retrieveTextFromValueList",[jt(Et(r)),`/${E.fullyQualifiedName}`,n.formatOptions.displayMode])),false);if(E.type==="Edm.Stream"){var w,S,L,_,B,V,j,R,U,k,N,H;n.displayStyle="File";n.fileRelativePropertyPath=Et(r);if((w=E.annotations.Core)!==null&&w!==void 0&&(S=w.ContentDisposition)!==null&&S!==void 0&&S.Filename){var z,W;const t=wt(r,(z=E.annotations.Core)===null||z===void 0?void 0:(W=z.ContentDisposition)===null||W===void 0?void 0:W.Filename);n.fileFilenameExpression="{ path: '"+Et(t)+"' }"}n.fileStreamNotEmpty=Gt(Rt(Wt(jt(`${n.fileRelativePropertyPath}@odata.mediaContentType`),null)));n.fileUploadUrl=b.getValueBinding(r,{});n.fileFilenamePath=(L=E.annotations.Core)===null||L===void 0?void 0:(_=L.ContentDisposition)===null||_===void 0?void 0:(B=_.Filename)===null||B===void 0?void 0:B.path;n.fileMediaType=((V=E.annotations.Core)===null||V===void 0?void 0:V.MediaType)&&Gt(kt((j=E.annotations.Core)===null||j===void 0?void 0:j.MediaType));n.fileIsImage=!!((R=E.annotations.UI)!==null&&R!==void 0&&R.IsImageURL)||!!((U=E.annotations.UI)!==null&&U!==void 0&&U.IsImage)||/image\//i.test(((k=E.annotations.Core)===null||k===void 0?void 0:(N=k.MediaType)===null||N===void 0?void 0:N.toString())??"");n.fileAvatarSrc=b.getValueBinding(r,{});n.fileIconSrc=P.getPathForIconSource(n.fileRelativePropertyPath);n.fileLinkText=P.getFilenameExpr(n.fileFilenameExpression,"{sap.fe.i18n>M_FIELD_FILEUPLOADER_NOFILENAME_TEXT}");n.fileLinkHref=P.getDownloadUrl(n.fileUploadUrl??"");n.fileTextVisible=Gt(Wt(jt(`${n.fileRelativePropertyPath}@odata.mediaContentType`),null));if((H=E.annotations.Core)!==null&&H!==void 0&&H.AcceptableMediaTypes){const t=Array.from(E.annotations.Core.AcceptableMediaTypes).map(t=>`'${t}'`);n.fileAcceptableMediaTypes=`{=odata.collection([${t.join(",")}])}`}n.fileMaximumSize=P.calculateMBfromByte(E.maxLength);return}if((u=E.annotations)!==null&&u!==void 0&&(p=u.UI)!==null&&p!==void 0&&p.IsImageURL){n.avatarVisible=b.getVisibleExpression(r);n.avatarSrc=b.getValueBinding(r,{});n.displayStyle="Avatar";return}switch(a.$Type){case"com.sap.vocabularies.UI.v1.DataPointType":n.displayStyle="DataPoint";return;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(((d=a.Target)===null||d===void 0?void 0:(f=d.$target)===null||f===void 0?void 0:f.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){n.displayStyle="DataPoint";return}else if(((m=a.Target)===null||m===void 0?void 0:(y=m.$target)===null||y===void 0?void 0:y.$Type)==="com.sap.vocabularies.Communication.v1.ContactType"){n.contactVisible=b.getVisibleExpression(r);n.displayStyle="Contact";return}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":const e=n.dataField.getObject();n.buttonPress=P.getPressEventForDataFieldActionButton(n,e);n.displayStyle="Button";if(a.ActionTarget===undefined){n.buttonIsBound=true;n.buttonOperationAvailable="false";n.buttonOperationAvailableFormatted="false";t.warning(`Warning: The action '${a.Action}' does not exist. The corresponding action button will be disabled.`);return}n.buttonIsBound=a.ActionTarget.isBound;n.buttonOperationAvailable=(C=a.ActionTarget.annotations)===null||C===void 0?void 0:(D=C.Core)===null||D===void 0?void 0:D.OperationAvailable;n.buttonOperationAvailableFormatted=undefined;if(n.buttonOperationAvailable){const t=a.ActionTarget;const e=t.parameters[0].name;n.buttonOperationAvailableFormatted=Gt(kt(n.buttonOperationAvailable,[],undefined,t=>{if(t.startsWith(e)){return t.replace(e+"/","")}return t}))}return;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":n.buttonPress=h.getPressHandlerForDataFieldForIBN(n.dataField.getObject(),undefined,undefined);i.setUpNavigationAvailable(n,a);n.displayStyle="Button";return;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":n.text=i.getTextWithWhiteSpace(n.formatOptions,r);n.linkIsDataFieldWithIntentBasedNavigation=true;n.linkPress=h.getPressHandlerForDataFieldForIBN(n.dataField.getObject());n.displayStyle="Link";return;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":n.linkIsDataFieldWithNavigationPath=true;n.linkPress=`FieldRuntime.onDataFieldWithNavigationPath(\${$source>/}, $controller, '${a.Target.value}')`;n.displayStyle="Link";return;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":n.linkIsDataFieldWithAction=true;n.linkPress=P.getPressEventForDataFieldActionButton(n,n.dataField.getObject());n.displayStyle="Link";return}const q=b.isUsedInNavigationWithQuickViewFacets(r,E);const G=!!b.getPropertyWithSemanticObject(r)||n.semanticObject!==undefined&&n.semanticObject!=="";if(It(E,r)&&n.formatOptions.semanticKeyStyle){var Q,X,K;n.hasQuickView=q||G;n.hasSituationsIndicator=v.getSituationsNavigationProperty(r.targetEntityType)!==undefined;i.setUpObjectIdentifierTitleAndText(n,r);if((Q=r.targetEntitySet)!==null&&Q!==void 0&&(X=Q.annotations)!==null&&X!==void 0&&(K=X.Common)!==null&&K!==void 0&&K.DraftRoot){n.displayStyle="SemanticKeyWithDraftIndicator";return}n.displayStyle=n.formatOptions.semanticKeyStyle==="ObjectIdentifier"?"ObjectIdentifier":"LabelSemanticKey";return}if(a.Criticality){n.hasQuickView=q||G;n.displayStyle="ObjectStatus";return}if(($=E.annotations)!==null&&$!==void 0&&(x=$.Measures)!==null&&x!==void 0&&x.ISOCurrency&&String(n.formatOptions.isCurrencyAligned)==="true"&&n.formatOptions.measureDisplayMode!=="Hidden"){n.valueAsStringBindingExpression=b.getValueBinding(r,n.formatOptions,true,true,undefined,true);n.unitBindingExpression=Gt(g.getBindingForUnitOrCurrency(r));n.displayStyle="AmountWithCurrency";return}if((T=E.annotations)!==null&&T!==void 0&&(F=T.Communication)!==null&&F!==void 0&&F.IsEmailAddress||(O=E.annotations)!==null&&O!==void 0&&(I=O.Communication)!==null&&I!==void 0&&I.IsPhoneNumber){var J,Y;n.text=i.getTextWithWhiteSpace(n.formatOptions,r);n.linkIsEmailAddress=((J=E.annotations.Communication)===null||J===void 0?void 0:J.IsEmailAddress)!==undefined;n.linkIsPhoneNumber=((Y=E.annotations.Communication)===null||Y===void 0?void 0:Y.IsPhoneNumber)!==undefined;const t=b.getValueBinding(r,{});if(n.linkIsEmailAddress){n.linkUrl=`mailto:${t}`}if(n.linkIsPhoneNumber){n.linkUrl=`tel:${t}`}n.displayStyle="Link";return}if((M=E.annotations)!==null&&M!==void 0&&(A=M.UI)!==null&&A!==void 0&&A.MultiLineText){n.displayStyle="ExpandableText";return}if(q||G){n.text=i.getTextWithWhiteSpace(n.formatOptions,r);n.hasQuickView=true;n.displayStyle="LinkWithQuickView";return}if(a.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){n.text=i.getTextWithWhiteSpace(n.formatOptions,r);n.displayStyle="Link";n.iconUrl=a.IconUrl?Gt(kt(a.IconUrl)):undefined;n.linkUrl=Gt(kt(a.Url));return}n.displayStyle="Text"};i.setUpEditStyle=function t(e,n,a,r){b.setEditStyleProperties(e,n,a);e.fieldGroupIds=i.computeFieldGroupIds(a,r)};i.computeFieldGroupIds=function t(e,i){var n,a;if(!i){return""}const r=i.getSideEffectsService();const o=r.computeFieldGroupIds(((n=e.targetEntityType)===null||n===void 0?void 0:n.fullyQualifiedName)??"",((a=e.targetObject)===null||a===void 0?void 0:a.fullyQualifiedName)??"");const l=o.join(",");return l===""?undefined:l};i.setUpObjectIdentifierTitleAndText=function t(e,n){var a;if(((a=e.formatOptions)===null||a===void 0?void 0:a.semanticKeyStyle)==="ObjectIdentifier"){const t=e.hasQuickView;e.identifierTitle=i.getIdentifierTitle(e.formatOptions,n,t);if(!t){e.identifierText=i.getObjectIdentifierText(e.formatOptions,n)}else{e.identifierText=undefined}}else{e.identifierTitle=i.getIdentifierTitle(e.formatOptions,n,true);e.identifierText=undefined}};i.getTextWithWhiteSpace=function t(e,i){const n=b.getTextBinding(i,e,true);return n._type==="PathInModel"||typeof n==="string"?Gt(Ht([n],"WSR")):Gt(n)};i.setUpNavigationAvailable=function t(e,i){e.navigationAvailable=true;if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&i.NavigationAvailable!==undefined&&String(e.formatOptions.ignoreNavigationAvailable)!=="true"){e.navigationAvailable=Gt(kt(i.NavigationAvailable))}};function i(t,n,a){var o;o=e.call(this,t)||this;te(o,"dataSourcePath",Z,ee(o));te(o,"emptyIndicatorMode",tt,ee(o));te(o,"_flexId",et,ee(o));te(o,"idPrefix",it,ee(o));te(o,"_apiId",nt,ee(o));te(o,"noWrapperId",at,ee(o));te(o,"vhIdPrefix",rt,ee(o));te(o,"entitySet",ot,ee(o));te(o,"navigateAfterAction",lt,ee(o));te(o,"dataField",st,ee(o));te(o,"editMode",ct,ee(o));te(o,"wrap",ut,ee(o));te(o,"class",pt,ee(o));te(o,"ariaLabelledBy",dt,ee(o));te(o,"textAlign",ft,ee(o));te(o,"semanticObject",mt,ee(o));te(o,"requiredExpression",gt,ee(o));te(o,"visible",ht,ee(o));te(o,"showErrorObjectStatus",bt,ee(o));te(o,"formatOptions",vt,ee(o));te(o,"entityType",yt,ee(o));te(o,"annotationPath",Pt,ee(o));te(o,"property",Ct,ee(o));te(o,"valueHelpProperty",Dt,ee(o));te(o,"dataPoint",$t,ee(o));te(o,"collaborationEnabled",xt,ee(o));te(o,"_vhFlexId",Tt,ee(o));te(o,"onChange",Ft,ee(o));o.hasQuickView=false;o.linkUrl=undefined;o.linkIsDataFieldWithIntentBasedNavigation=false;o.linkIsDataFieldWithNavigationPath=false;o.linkIsDataFieldWithAction=false;o.linkIsEmailAddress=false;o.linkIsPhoneNumber=false;o.linkPress=undefined;o.fileFilenameExpression=undefined;o.fileAcceptableMediaTypes=undefined;o.hasUnitOrCurrency=undefined;o.hasValidAnalyticalCurrencyOrUnit=undefined;o.textFromValueList=undefined;const l=r.convertMetaModelContext(o.dataField);let s=r.getInvolvedDataModelObjects(o.dataField,o.entitySet);i.setUpDataPointType(l);i.setUpVisibleProperties(ee(o),s);if(o._flexId){o._apiId=o._flexId;o._flexId=i.getContentId(o._flexId);o._vhFlexId=`${o._flexId}_${o.vhIdPrefix}`}const c=b.getDataModelObjectPathForValue(s);s=c||s;o.dataSourcePath=Mt(s);const u=a.models.metaModel||a.models.entitySet;o.entityType=u.createBindingContext(`/${s.targetEntityType.fullyQualifiedName}`);i.setUpEditableProperties(ee(o),l,s,u);i.setUpFormatOptions(ee(o),s,n,a);i.setUpDisplayStyle(ee(o),l,s);i.setUpEditStyle(ee(o),l,s,a.appComponent);const p=["Avatar","AmountWithCurrency"];if(o.displayStyle&&p.indexOf(o.displayStyle)===-1&&s.targetObject){o.text=o.text??b.getTextBinding(s,o.formatOptions)}else{o.text=""}o.emptyIndicatorMode=o.formatOptions.showEmptyIndicator?"On":undefined;o.computeFieldContentContexts(u,l);return o}Ot=i;var n=i.prototype;n.computeFieldContentContexts=function t(e,i){var n,a,o;if(St(i)&&((n=i.annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.DataFieldDefault)!==undefined){this.dataField=e.createBindingContext(`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`,this.dataField);i=r.convertMetaModelContext(this.dataField)}switch((o=i.$Type)===null||o===void 0?void 0:o.valueOf()){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":this.property=e.createBindingContext("Value",this.dataField);this.valueHelpProperty=e.createBindingContext(P.valueHelpProperty(this.property));break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":this.annotationPath=e.createBindingContext("Target/$AnnotationPath",this.dataField);this.dataPoint=this.annotationPath;this.property=e.createBindingContext("Value",this.annotationPath);this.valueHelpProperty=e.createBindingContext(P.valueHelpProperty(this.property));break;case"com.sap.vocabularies.UI.v1.DataPointType":this.annotationPath=this.dataField;this.dataPoint=this.dataField;this.property=e.createBindingContext("Value",this.dataField);this.valueHelpProperty=e.createBindingContext(P.valueHelpProperty(this.property));break}};n.getTemplate=function t(){const e=["Button","ExpandableText","Avatar","Contact","File","DataPoint"];const i=["CheckBox"];if(e.includes(this.displayStyle)||i.includes(this.editStyle)){return C(this)}if(this.formatOptions.fieldMode==="nowrapper"&&this.editMode===y.Display){return Kt`<core:Fragment fragmentName="sap.fe.macros.internal.field.FieldContent" type="XML" />`}else{let t;if(this._apiId){t=this._apiId}else if(this.idPrefix){t=Lt([this.idPrefix,"Field"])}else{t=undefined}if(this.onChange!==null&&this.onChange!=="null"){return Kt`
					<macroField:FieldAPI
						xmlns:macroField="sap.fe.macros.field"
						change="${this.onChange}"
						id="${t}"
						required="${this.requiredExpression}"
						editable="${this.editableExpression}"
						collaborationEnabled="${this.collaborationEnabled}"
						visible="${this.visible}"
					>
						<core:Fragment fragmentName="sap.fe.macros.internal.field.FieldContent" type="XML" />
					</macroField:FieldAPI>
				`}else{return Kt`<macroField:FieldAPI
						xmlns:macroField="sap.fe.macros.field"
						id="${t}"
						required="${this.requiredExpression}"
						editable="${this.editableExpression}"
						collaborationEnabled="${this.collaborationEnabled}"
						visible="${this.visible}"
					>
						<core:Fragment fragmentName="sap.fe.macros.internal.field.FieldContent" type="XML" />
					</macroField:FieldAPI>
					`}}};return i}(e),Z=ae(Y.prototype,"dataSourcePath",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=ae(Y.prototype,"emptyIndicatorMode",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),et=ae(Y.prototype,"_flexId",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),it=ae(Y.prototype,"idPrefix",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),nt=ae(Y.prototype,"_apiId",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),at=ae(Y.prototype,"noWrapperId",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=ae(Y.prototype,"vhIdPrefix",[M],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FieldValueHelp"}}),ot=ae(Y.prototype,"entitySet",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),lt=ae(Y.prototype,"navigateAfterAction",[E],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),st=ae(Y.prototype,"dataField",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),ct=ae(Y.prototype,"editMode",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=ae(Y.prototype,"wrap",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=ae(Y.prototype,"class",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=ae(Y.prototype,"ariaLabelledBy",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),ft=ae(Y.prototype,"textAlign",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),mt=ae(Y.prototype,"semanticObject",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),gt=ae(Y.prototype,"requiredExpression",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=ae(Y.prototype,"visible",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),bt=ae(Y.prototype,"showErrorObjectStatus",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),vt=ae(Y.prototype,"formatOptions",[N],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),yt=ae(Y.prototype,"entityType",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),Pt=ae(Y.prototype,"annotationPath",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),Ct=ae(Y.prototype,"property",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),Dt=ae(Y.prototype,"valueHelpProperty",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),$t=ae(Y.prototype,"dataPoint",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),xt=ae(Y.prototype,"collaborationEnabled",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),Tt=ae(Y.prototype,"_vhFlexId",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),Ft=ae(Y.prototype,"onChange",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),Y))||J);Ot=oe;return Ot},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/collaborationHelper",["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon"],function(t,e,i){"use strict";var n=i.Activity;function a(e){const i=t.getTargetView(e);return i.findElements(true,function(t){return!!(t.getFieldHelp&&t.getDomRef()&&t.getFieldHelp()===e.getId())})[0]}function r(t){const i=t.getSource();const a=l.getRelatedFieldFromValueHelp(i);const r=e.isConnected(a);if(r&&a.getBinding("value")){var o,s,c,u,p;const t=(o=a.getBinding("value"))!==null&&o!==void 0&&o.isA("sap.ui.model.CompositeBinding")?`${(s=a.getBindingContext())===null||s===void 0?void 0:s.getPath()}/${(c=a.getBinding("value"))===null||c===void 0?void 0:c.getBindings()[0].getPath()}`:`${(u=a.getBindingContext())===null||u===void 0?void 0:u.getPath()}/${(p=a.getBinding("value"))===null||p===void 0?void 0:p.getPath()}`;e.send(a,n.LiveChange,t)}}function o(t){var i;const a=t.getSource();const r=l.getRelatedFieldFromValueHelp(a);const o=e.isConnected(r);const s=(i=r.getBinding("value"))===null||i===void 0?void 0:i.isA("sap.ui.model.CompositeBinding");const c=s?r.getValue()[1]:r.getValue();return new Promise(t=>{setTimeout(function(){var i;const l=s?a.getConditions()[0].values[0]:(i=r.getBinding("value"))===null||i===void 0?void 0:i.getValue();if(o&&c===l){var u,p,d;const t=s?`${(u=r.getBindingContext())===null||u===void 0?void 0:u.getPath()}/${r.getBinding("value").getBindings()[0].getPath()}`:`${(p=r.getBindingContext())===null||p===void 0?void 0:p.getPath()}/${(d=r.getBinding("value"))===null||d===void 0?void 0:d.getPath()}`;e.send(r,n.Undo,t)}t()},0)})}const l={getRelatedFieldFromValueHelp:a,onValueHelpOpenDialog:r,onValueHelpCloseDialog:o};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/field/DisplayStyle",["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/CriticalityFormatters","sap/fe/macros/field/FieldHelper","sap/ui/mdc/enum/EditMode"],function(t,e,i,n,a,r){"use strict";var o=n.buildExpressionForCriticalityButtonType;var l=i.generate;var s=t.xml;const c={getButtonTemplate:t=>{var i,n,r;const l=e.convertMetaModelContext(t.dataField);const c=e.getInvolvedDataModelObjects(t.dataField,t.entitySet);const u=((i=t.formatOptions)===null||i===void 0?void 0:i.showIconUrl)??false?l.IconUrl:undefined;const p=!(((n=t.formatOptions)===null||n===void 0?void 0:n.showIconUrl)??false)?l.Label:undefined;const d=((r=t.formatOptions)===null||r===void 0?void 0:r.showIconUrl)??false?l.Label:undefined;let f="";if(l.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){f=s`<Button
				xmlns="sap.m"
				visible="${t.visible}"
				text="${p}"
				icon="${u}"
				enabled="${t.navigationAvailable}"
				tooltip="${d}"
				press="${t.buttonPress}"
			/>`}else if(a.isDataFieldActionButtonVisible(void 0,l,t.buttonIsBound,t.buttonOperationAvailable)){const e=a.isDataFieldActionButtonEnabled(l,t.buttonIsBound,t.buttonOperationAvailable,t.buttonOperationAvailableFormatted);const i=o(c);f=s`<Button
				xmlns="sap.m"
			    class="${t.class}"
				text="${p}"
				icon="${u}"
				tooltip="${d}"
				press="${t.buttonPress}"
				enabled="${e}"
				visible="${t.visible}"
				type="${i}"
				/>`}return f},getContactTemplate(t){const e=t.dataField.getModel().createBindingContext("Target/$AnnotationPath",t.dataField);return s`
		<macros:Contact
			idPrefix="${t.idPrefix}"
			ariaLabelledBy="${t.ariaLabelledBy}"
			metaPath="${e}"
			contextPath="${t.entitySet}"
			_flexId="${t._flexId}"
			visible="${t.contactVisible}"
		/>`},getDataPointInnerPart(t,e){const i=s`<internalMacro:formatOptions 
				xmlns:internalMacro="sap.fe.macros.internal"
				measureDisplayMode="${t.formatOptions.measureDisplayMode}"
				showEmptyIndicator="${t.formatOptions.showEmptyIndicator}"
				isAnalytics="${t.formatOptions.isAnalytics}"
			/>`;return s`<internalMacro:DataPoint 
			xmlns:internalMacro="sap.fe.macros.internal"
			idPrefix="${t.idPrefix}"
			visible="${!e?t.displayVisible:""}"
			ariaLabelledBy="${t.ariaLabelledBy}"
			_flexId="${t._flexId}"
			metaPath="${t.annotationPath}"
			contextPath="${t.entitySet}"
		>
			${i}
		</internalMacro:DataPoint>`},getDataPointTemplate(t){if((t.formatOptions.isAnalytics??false)&&(t.hasUnitOrCurrency??false)){return s`<controls:ConditionalWrapper xmlns:controls="sap.fe.macros.controls" visible="${t.displayVisible}" condition="${t.hasValidAnalyticalCurrencyOrUnit}">
				<controls:contentTrue>
					 ${this.getDataPointInnerPart(t,true)}
				</controls:contentTrue>
					<controls:contentFalse>
						<Text xmlns="sap.m" text="*" />
				</controls:contentFalse>
			</controls:ConditionalWrapper>`}else{return this.getDataPointInnerPart(t,false)}},getExpandableText(t){var e,i;return s`
			<ExpandableText
				xmlns="sap.m"
				id="${t===null||t===void 0?void 0:t.noWrapperId}"
				visible="${t===null||t===void 0?void 0:t.displayVisible}"
				text="${t===null||t===void 0?void 0:t.text}"
				overflowMode="${t===null||t===void 0?void 0:(e=t.formatOptions)===null||e===void 0?void 0:e.textExpandBehaviorDisplay}"
				maxCharacters="${t===null||t===void 0?void 0:(i=t.formatOptions)===null||i===void 0?void 0:i.textMaxCharactersDisplay}"
				emptyIndicatorMode="${t===null||t===void 0?void 0:t.emptyIndicatorMode}"
		/>`},getFile(t){let e;if(t.fileIsImage){e=s`
			<controls:avatar xmlns:controls="sap.fe.macros.controls">
				<Avatar
					xmlns="sap.m"
					visible="${t.displayVisible}"
					src="${t.fileAvatarSrc}"
					displaySize="S"
					class="sapUiSmallMarginEnd"
					displayShape="Square"
				/>
			</controls:avatar>`}else{e=s`
			<controls:icon xmlns:controls="sap.fe.macros.controls">
				<core:Icon src="${t.fileIconSrc}" class="sapUiSmallMarginEnd" visible="${t.fileStreamNotEmpty}" />
			</controls:icon>
			<controls:link>
				<Link
					xmlns="sap.m"
					text="${t.fileLinkText}"
					target="_blank"
					href="${t.fileLinkHref}"
					visible="${t.fileStreamNotEmpty}"
					wrapping="true"
				/>
			</controls:link>
			<controls:text>
				<Text xmlns="sap.m" emptyIndicatorMode="On" text="" visible="${t.fileTextVisible}" />
			</controls:text>`}if(t.editMode!==r.Display){const i=t.collaborationEnabled?"FIELDRUNTIME.handleOpenUploader":undefined;const n=t.collaborationEnabled?"FIELDRUNTIME.handleCloseUploader":undefined;e+=s`
			<controls:fileUploader xmlns:controls="sap.fe.macros.controls">
				<u:FileUploader
					xmlns:u="sap.ui.unified"
					name="FEV4FileUpload"
					visible="${t.editableExpression}"
					buttonOnly="true"
					iconOnly="true"
					multiple="false"
					tooltip="{sap.fe.i18n>M_FIELD_FILEUPLOADER_UPLOAD_BUTTON_TOOLTIP}"
					icon="sap-icon://upload"
					style="Transparent"
					sendXHR="true"
					useMultipart="false"
					sameFilenameAllowed="true"
					mimeType="${t.fileAcceptableMediaTypes}"
					typeMissmatch="FIELDRUNTIME.handleTypeMissmatch"
					maximumFileSize="${t.fileMaximumSize}"
					fileSizeExceed="FIELDRUNTIME.handleFileSizeExceed"
					uploadOnChange="false"
					uploadComplete="FIELDRUNTIME.handleUploadComplete($event, ${t.fileFilenameExpression||"undefined"}, '${t.fileRelativePropertyPath}', $controller)"
					httpRequestMethod="Put"
					change="FIELDRUNTIME.uploadStream($controller, $event)"
					beforeDialogOpen="${i}"
					afterDialogClose="${n}"
					uploadStart="FIELDRUNTIME.handleOpenUploader"
				/>
			</controls:fileUploader>
			<controls:deleteButton>
				<Button
					xmlns="sap.m"
					icon="sap-icon://sys-cancel"
					type="Transparent"
					press="FIELDRUNTIME.removeStream($event, ${t.fileFilenameExpression||"undefined"}, '${t.fileRelativePropertyPath}', $controller)"
					tooltip="{sap.fe.i18n>M_FIELD_FILEUPLOADER_DELETE_BUTTON_TOOLTIP}"
					visible="${t.editableExpression}"
					enabled="${t.fileStreamNotEmpty}"
				/>
			</controls:deleteButton>`}return s`
			<controls:FileWrapper
				xmlns:controls="sap.fe.macros.controls"
				core:require="{FIELDRUNTIME: 'sap/fe/macros/field/FieldRuntime'}"
				visible="${t.visible}"
				uploadUrl="${t.fileUploadUrl}"
				propertyPath="${t.fileRelativePropertyPath}"
				filename="${t.fileFilenamePath}"
				mediaType="${t.fileMediaType}"
				fieldGroupIds="${t.fieldGroupIds}"
				validateFieldGroup="FIELDRUNTIME.onValidateFieldGroup($controller, $event)"
				customData:sourcePath="${t.dataSourcePath}"
			>${e}</controls:FileWrapper>`},getAvatarTemplate(t){let e;if(t._flexId){e=t._flexId}else if(t.idPrefix){e=l([t.idPrefix,"Field-content"])}return s`
			<controls:FormElementWrapper
				xmlns:controls="sap.fe.core.controls"
				visible="${t.avatarVisible}"
			>
			<Avatar
				xmlns="sap.m"
				id="${e}"
				src="${t.avatarSrc}"
				displaySize="S"
				class="sapUiSmallMarginEnd"
				displayShape="Square"
			/>
		</controls:FormElementWrapper>`},getTemplate:t=>{let e;switch(t.displayStyle){case"Button":e=c.getButtonTemplate(t);break;case"DataPoint":e=c.getDataPointTemplate(t);break;case"ExpandableText":e=c.getExpandableText(t);break;case"Avatar":e=c.getAvatarTemplate(t);break;case"Contact":e=c.getContactTemplate(t);break;case"File":e=c.getFile(t);break;default:e=s`<core:Fragment fragmentName="sap.fe.macros.internal.field.displayStyle.${t.displayStyle}" type="XML" />`}return e}};return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/field/EditStyle",["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(t){"use strict";var e=t.xml;const i={getCheckBoxTemplate(t){return e`
		    <CheckBox
                xmlns="sap.m"        
                xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
		        macrodata:sourcePath="${t.dataSourcePath}"
				xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"
		        core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				unittest:id="MacroInput"
		        id="${t.editStyleId}"
		        selected="${t.valueBindingExpression}"
		        editable="${t.editableExpression}"
		        enabled="${t.enabledExpression}"
		        select="FieldRuntime.handleChange($controller, $event)"
		        fieldGroupIds="${t.fieldGroupIds}"
		        validateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"
		        ariaLabelledBy="${t.ariaLabelledBy}"
	    />
        `},getTemplate:t=>{let n;switch(t.editStyle){case"CheckBox":n=i.getCheckBoxTemplate(t);break;default:n=e`<core:Fragment
			fragmentName="sap.fe.macros.internal.field.editStyle.${t.editStyle}"
			type="XML"
		/>`}return n}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/field/FieldStructure",["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/StableIdHelper","sap/ui/mdc/enum/EditMode","./DisplayStyle","./EditStyle"],function(t,e,i,n,a){"use strict";var r=e.generate;var o=t.xml;function l(t,e){let n;if(t.formatOptions.fieldMode==="nowrapper"&&t.editMode===i.Display){return e}if(t._apiId){n=t._apiId}else if(t.idPrefix){n=r([t.idPrefix,"Field"])}else{n=undefined}let a="";if(t.onChange!==null&&t.onChange!=="null"&&t.onChange!==undefined){a=o`change="${t.onChange}"`}return o`
			<macroField:FieldAPI
				xmlns:macroField="sap.fe.macros.field"
				${a}
				id="${n}"
				required="${t.requiredExpression}"
				editable="${t.editableExpression}"
				collaborationEnabled="${t.collaborationEnabled}"
				visible="${t.visible}"
			>
				${e}
			</macroField:FieldAPI>
		`}function s(t){let e;if(t.editMode!==i.Display&&!!t.editStyle){const i=a.getTemplate(t);let n;if(t.collaborationEnabled??false){n=o`<HBox xmlns="sap.m" width="100%">
            ${i}
            <core:Fragment fragmentName="sap.fe.macros.internal.CollaborationAvatar" type="XML" />
        </HBox>`}else{n=i}e=o`${n}`}return e||""}function c(t){let e;if(t._flexId){e=t._flexId}else if(t.idPrefix){e=r([t.idPrefix,"Field-content"])}else{e=undefined}const i=n.getTemplate(t);const a=s(t);return o`<controls:FieldWrapper
		xmlns:controls="sap.fe.macros.controls"
		id="${e}"
		editMode="${t.editMode}"
		visible="${t.visible}"
		width="100%"
		textAlign="${t.textAlign}"
		class="${t.class}"
		>

		<controls:contentDisplay>
			${i}
		</controls:contentDisplay>
		<controls:contentEdit>
			${a}
		</controls:contentEdit>

	</controls:FieldWrapper>`}function u(t){if(t.displayStyle==="Avatar"||t.displayStyle==="Contact"||t.displayStyle==="Button"||t.displayStyle==="File"){if(t.displayStyle==="File"&&(t.collaborationEnabled??false)&&t.editMode!==i.Display){const e=o`
				<HBox xmlns="sap.m" width="100%">
				<VBox width="100%">
					${n.getFile(t)}
				</VBox>
				<core:Fragment fragmentName="sap.fe.macros.internal.CollaborationAvatar" type="XML" />
			</HBox>`;return l(t,e)}else{return l(t,n.getTemplate(t))}}else if(t.formatOptions.fieldMode==="nowrapper"&&t.editMode===i.Display){return n.getTemplate(t)}else{const e=c(t);return l(t,e)}}return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/form/FormTemplating",["sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/field/FieldTemplating"],function(t,e,i){"use strict";var n={};var a=i.getTextBindingExpression;var r=e.enhanceDataModelPath;var o=t.constant;var l=t.concat;var s=t.compileExpression;const c=/(?:({[^}]+})[^{]*)/g;const u=/{([^}]+)}(.*)/;const p=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const i=t.targetObject;const n=i.Template.toString().match(c);if(n){const c=n.reduce((e,n)=>{const l=n.match(u);if(l&&l.length>1){const n=l[1];if(i.Data[n]){const s=r(t,i.Data[n].fullyQualifiedName.replace(t.targetEntityType.fullyQualifiedName,""));s.targetObject=s.targetObject.Value;e.push(a(s,{}));if(l.length>2){e.push(o(l[2]))}}}return e},[]);return e?s(l(...c)):l(...c)}return""};n.getLabelForConnectedFields=p;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/helpers/ActionHelper",["sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/macros/CommonHelper"],function(t,e,i,n){"use strict";var a=i.isPathAnnotationExpression;var r=e.isPathInModelExpression;var o=e.getExpressionFromAnnotation;var l=t.bindingContextPathVisitor;const s={getMultiSelectDisabledActions(t){const e=[];const i=(t===null||t===void 0?void 0:t.filter(t=>t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"))??[];for(const t of i){const i=t===null||t===void 0?void 0:t.ActionTarget;if((i===null||i===void 0?void 0:i.isBound)===true){for(const t of i.parameters){var n,r;if(a((n=t.annotations.UI)===null||n===void 0?void 0:n.Hidden)||a((r=t.annotations.Common)===null||r===void 0?void 0:r.FieldControl)){e.push(i.name)}}}}return e},getPressEventDataFieldForActionButton(t,e,i,a){const r=e.InvocationGrouping&&e.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";i=i||{};i["invocationGrouping"]=n.addSingleQuotes(r);i["controlId"]=n.addSingleQuotes(t);i["operationAvailableMap"]=n.addSingleQuotes(a);i["model"]="${$source>/}.getModel()";i["label"]=e.Label&&n.addSingleQuotes(e.Label,true);return n.generateFunction(".editFlow.invokeAction",n.addSingleQuotes(e.Action),n.objectToString(i))},getNumberOfContextsExpression(t){let e;if(t==="single"){e="${internal>numberOfSelectedContexts} === 1"}else{e="${internal>numberOfSelectedContexts} > 0"}return e},getOperationAvailableMap(t,e,i){let n={};if(t){t.forEach(t=>{if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const a=t.Action;if((a===null||a===void 0?void 0:a.indexOf("/"))<0&&!t.Determining){if(e==="table"){n=this._getOperationAvailableMapOfTable(t,a,n,i)}else if(e==="chart"){n=this._getOperationAvailableMapOfChart(a,n,i)}}}}})}return n},_getOperationAvailableMapOfTable(t,e,i,n){var a,s,c;const u=t.ActionTarget;if((u===null||u===void 0?void 0:(a=u.annotations)===null||a===void 0?void 0:(s=a.Core)===null||s===void 0?void 0:s.OperationAvailable)===null){}else if(u!==null&&u!==void 0&&(c=u.parameters)!==null&&c!==void 0&&c.length){var p,d,f,m;const t=u.parameters[0].fullyQualifiedName,a=o(u===null||u===void 0?void 0:(p=u.annotations)===null||p===void 0?void 0:(d=p.Core)===null||d===void 0?void 0:d.OperationAvailable,[],undefined,e=>l(e,n,t));if(r(a)){i=this._addToMap(e,a.path,i)}else if((u===null||u===void 0?void 0:(f=u.annotations)===null||f===void 0?void 0:(m=f.Core)===null||m===void 0?void 0:m.OperationAvailable)!==undefined){i=this._addToMap(e,a,i)}}return i},_getOperationAvailableMapOfChart(t,e,i){let a=n.getActionPath(i.context,false,t,true);if(a===null){e=this._addToMap(t,null,e)}else{a=n.getActionPath(i.context,false,t);if(a.sProperty){e=this._addToMap(t,a.sProperty.substr(a.sBindingParameter.length+1),e)}}return e},_addToMap(t,e,i){if(t&&i){i[t]=e}return i}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/helpers/DataPointTemplating",["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,i,n,a,r,o){"use strict";var l={};var s=r.getDisplayMode;var c=r.getBindingWithUnitOrCurrency;var u=r.getBindingWithTimezone;var p=a.hasStaticPercentUnit;var d=n.getRelativePaths;var f=n.enhanceDataModelPath;var m=i.isProperty;var g=e.unresolvableExpression;var h=e.isPathInModelExpression;var b=e.getExpressionFromAnnotation;var v=e.formatWithTypeInformation;var y=e.formatResult;var P=e.EDM_TYPE_MAPPING;var C=e.compileExpression;const D=t=>t!==null&&t!==void 0&&t.TargetValue?b(t.TargetValue):g;const $=sap.ui.getCore().getLibraryResourceBundle("sap.fe.macros");const x=e=>{var i;const n=(e===null||e===void 0?void 0:(i=e.targetObject)===null||i===void 0?void 0:i.Value)||"";const a=d(e);let r=b(n,a);const o=D(e.targetObject);if(r&&o){var l,s,c,u;let i=e.targetObject.Value;if(!m(i)){i=e.targetObject.Value.$target}const d=((l=i.annotations)===null||l===void 0?void 0:(s=l.Measures)===null||s===void 0?void 0:s.Unit)||((c=i.annotations)===null||c===void 0?void 0:(u=c.Measures)===null||u===void 0?void 0:u.ISOCurrency);if(!d){return $.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[C(r),C(o)])}if(p(n===null||n===void 0?void 0:n.$target)){return`${C(r)} %`}r=v(i,r);const f=d.$target?v(d.$target,b(d,a)):b(d,a);return C(y([r,o,f],t.formatProgressIndicatorText))}return undefined};l.buildExpressionForProgressIndicatorDisplayValue=x;const T=t=>{var e,i,n,a,r,o;const l=d(t);const s=t===null||t===void 0?void 0:(e=t.targetObject)===null||e===void 0?void 0:(i=e.Value)===null||i===void 0?void 0:i.$target;if(!m(s)){return""}const c=((n=s.annotations)===null||n===void 0?void 0:(a=n.Measures)===null||a===void 0?void 0:a.Unit)||((r=s.annotations)===null||r===void 0?void 0:(o=r.Measures)===null||o===void 0?void 0:o.ISOCurrency);return c?C(b(c,l)):""};l.buildUnitBindingExpression=T;const F=(t,e)=>{if(e){return O(o.value(e,{context:t}))}};const O=t=>{if(t){const e=t>1?$.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):$.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE_LABEL");return $.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE",[String(t),e])}};const I=(t,e)=>{let i;if(e&&e.SampleSize){i=F(t,e.SampleSize)}else if(e&&e.Description){const n=o.value(e.Description,{context:t});i="${path:"+n+"}"}return i};I.requiresIContext=true;l.getHeaderRatingIndicatorText=I;const M=t=>{var e,i,n;const a=d(t);if(t!==null&&t!==void 0&&(e=t.targetObject)!==null&&e!==void 0&&(i=e.annotations)!==null&&i!==void 0&&(n=i.Common)!==null&&n!==void 0&&n.Text){var r,o;const e=b(t===null||t===void 0?void 0:(r=t.targetObject.annotations)===null||r===void 0?void 0:(o=r.Common)===null||o===void 0?void 0:o.Text,a);if(h(e)){e.parameters={$$noPatch:true}}return e}return undefined};const A=(t,e,i)=>{if(!t.constraints){t.constraints={}}t.constraints=Object.assign(t.constraints,{precision:e.$target.precision,scale:i?i:e.$target.scale});if(i){if(!t.formatOptions){t.formatOptions={}}t.formatOptions=Object.assign(t.formatOptions,{preserveDecimals:false})}return t};const E=(t,e,i,n)=>{var a;let r;const o=(e===null||e===void 0?void 0:(a=e.path)===null||a===void 0?void 0:a.indexOf("/"))===-1?d(t):[];r=b(e,o);const l=t.targetObject;if(i&&h(r)){var s;v(l,r);r.type=(s=P[i])===null||s===void 0?void 0:s.type;switch(i){case"Edm.Decimal":r=A(r,e,n);break;default:}}return r};l.getValueFormatted=E;const w=(e,i,n)=>{var a,r,o,l;const c=e.targetObject;const p=(c===null||c===void 0?void 0:c.Value)||"";const d=p===null||p===void 0?void 0:(a=p.$target)===null||a===void 0?void 0:a.type;let m;if(d==="Edm.Decimal"&&c.ValueFormat){if(c.ValueFormat.NumberOfFractionalDigits){m=c.ValueFormat.NumberOfFractionalDigits}}const g=f(e,p.path);const h=g?M(g):undefined;const b=E(g,p,d,m);const v=h?i.displayMode||s(g):"Value";let P;switch(v){case"Description":P=h;break;case"ValueDescription":P=y([b,h],t.formatWithBrackets);break;case"DescriptionValue":P=y([h,b],t.formatWithBrackets);break;default:if((r=g.targetObject)!==null&&r!==void 0&&(o=r.annotations)!==null&&o!==void 0&&(l=o.Common)!==null&&l!==void 0&&l.Timezone){P=u(g,b)}else{P=S(g,b,n||(i===null||i===void 0?void 0:i.measureDisplayMode)==="Hidden")}}return C(P)};l.buildFieldBindingExpression=w;const S=(t,e,i)=>{var n,a,r,o,l,s;if((n=t.targetObject)!==null&&n!==void 0&&(a=n.annotations)!==null&&a!==void 0&&(r=a.Measures)!==null&&r!==void 0&&r.Unit||(o=t.targetObject)!==null&&o!==void 0&&(l=o.annotations)!==null&&l!==void 0&&(s=l.Measures)!==null&&s!==void 0&&s.ISOCurrency){if(i&&p(t.targetObject)){return e}return c(t,e,undefined,i?{showMeasure:false}:undefined)}return e};l._computeBindingWithUnitOrCurrency=S;const L=e=>{var i,n,a,r,o;const l=(e===null||e===void 0?void 0:(i=e.targetObject)===null||i===void 0?void 0:i.Value)||"";const s=d(e);const c=b(l,s);const u=D(e.targetObject);const p=l.$target;const f=((n=p.annotations)===null||n===void 0?void 0:(a=n.Measures)===null||a===void 0?void 0:a.Unit)||((r=p.annotations)===null||r===void 0?void 0:(o=r.Measures)===null||o===void 0?void 0:o.ISOCurrency);if(f){const e=f.$target?v(f.$target,b(f,s)):b(f,s);return C(y([c,u,e],t.computePercentage))}return C(y([c,u,""],t.computePercentage))};l.buildExpressionForProgressIndicatorPercentValue=L;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/helpers/DefaultActionHandler",["sap/fe/macros/CommonHelper","sap/fe/macros/table/TableHelper","sap/m/library"],function(t,e,i){"use strict";var n=i.MenuButtonMode;const a={getDefaultActionHandler:function(i,n,a,r){let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"Table";if(n.defaultAction){try{switch(n.defaultAction.type){case"ForAction":{if(o==="Table"){return e.pressEventDataFieldForActionButton(i,a,i.collection.getObject("@sapui.name"),i.tableDefinition.operationAvailableMap,r,n.isNavigable,n.enableAutoScroll,n.defaultValuesExtensionFunction)}return undefined}case"ForNavigation":{if(o==="Table"){return t.getPressHandlerForDataFieldForIBN(a,"${internal>selectedContexts}",!i.tableDefinition.enableAnalytics)}return undefined}default:{if(n.defaultAction.command){return"cmd:"+n.defaultAction.command}if(n.defaultAction.noWrap){return n.defaultAction.press}else{switch(o){case"Table":{return t.buildActionWrapper(n.defaultAction,i)}case"Form":{return t.buildActionWrapper(n.defaultAction,{id:"forTheForm"})}}}}}}catch(t){return"binding for the default action is not working as expected"}}return undefined},getUseDefaultActionOnly:function(t){if(t.defaultAction){return true}else{return false}},getButtonMode:function(t){if(t.defaultAction){return n.Split}else{return n.Regular}}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/helpers/TableTemplating",["sap/fe/core/helpers/BindingToolkit"],function(t){"use strict";var e={};var i=t.resolveBindingString;var n=t.not;var a=t.equal;var r=t.constant;var o=t.compileExpression;var l=t.and;const s=t=>{const e=i(t===null||t===void 0?void 0:t.header);const s=i(t===null||t===void 0?void 0:t.tabTitle);const c=r(t.headerVisible);return o(l(c,n(a(e,s))))};e.buildExpressionForHeaderVisible=s;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/valuehelp/TableDelegate",["sap/base/Log","sap/base/util/deepEqual","sap/fe/core/CommonUtils","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper","sap/fe/core/type/EDM","sap/fe/core/type/TypeUtil","sap/fe/macros/DelegateUtil","sap/ui/core/Core","sap/ui/mdc/odata/v4/TableDelegate","sap/ui/mdc/odata/v4/util/DelegateUtil","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P){"use strict";var C=p.isTypeFilterable;var D=u.getLabel;var $=u.getAssociatedUnitPropertyPath;var x=u.getAssociatedTimezonePropertyPath;var T=u.getAssociatedTextPropertyPath;var F=u.getAssociatedCurrencyPropertyPath;var O=c.getDisplayMode;var I=s.getTargetObjectPath;var M=s.enhanceDataModelPath;var A=l.isProperty;var E=r.isMultiValueFilterExpression;var w=r.getSortRestrictionsInfo;var S=r.getFilterRestrictionsInfo;var L=a.getInvolvedDataModelObjects;var _=n.fetchTypeConfig;const B=Object.assign({},g);B.fetchProperties=function(t){const e=this._getModel(t);let i;if(!e){i=new Promise(e=>{t.attachModelContextChange({resolver:e},V,this)}).then(e=>this._createPropertyInfos(t,e))}else{i=this._createPropertyInfos(t,e)}return i.then(function(e){f.setCachedProperties(t,e);t.getBindingContext("internal").setProperty("tablePropertiesAvailable",true);return e})};B.createInternalBindingContext=function(t){let e=t;while(e&&!e.isA("sap.ui.mdc.valuehelp.Dialog")){e=e.getParent()}const i=t.getModel("internal");if(e&&i){const n=e.getBindingContext("internal").getPath()+`::VHDialog::${e.getId()}::table`;const a=i.bindContext(n).getBoundContext();t.setBindingContext(a,"internal")}};function V(t,e){const i=t.getSource();B.createInternalBindingContext(i);const n=this._getModel(i);if(n){i.detachModelContextChange(V);e.resolver(n)}}function j(t){const e=z(t);const i={};if(e!==null&&e!==void 0&&e.targetObject){var n,a,r,o,l;const s=e.targetObject;const c=I(e,true);const u=t.targetObject;const p=I(t,true);const d=(n=u.annotations)===null||n===void 0?void 0:(a=n.Common)===null||a===void 0?void 0:a.Text,f=d===null||d===void 0?void 0:(r=d.annotations)===null||r===void 0?void 0:(o=r.UI)===null||o===void 0?void 0:(l=o.TextArrangement)===null||l===void 0?void 0:l.toString(),m=d&&f&&O(u);if(m==="Description"){i[c]=s}else if(m&&m!=="Value"||!d){i[p]=u;i[c]=s}}return i}B._createPropertyInfos=function(t,e){const i=t.getDelegate().payload;const n=[];const a=`/${i.collectionName}`;const r=e.getMetaModel();return r.requestObject(`${a}@`).then(function(e){const i=w(e);const r=e["@Org.OData.Capabilities.V1.FilterRestrictions"];const o=S(r);const l=f.getCustomData(t,"columns");const s={};const c=L(t.getModel().getMetaModel().getContext(a));l.customData.forEach(function(e){const a={name:e.path,label:e.label,sortable:U(i,e),filterable:k(r,e),maxConditions:N(o,e),typeConfig:C(e.$Type)?t.getTypeUtil().getTypeConfig(e.$Type):undefined};const l=M(c,e.path);const u=l.targetObject;if(u){const i=I(l,true);let n;if(C(u.type)){const i=_(u);n=d.getTypeConfig(i.type,i.formatOptions,i.constraints)??t.getTypeUtil().getTypeConfig(e.$Type)}const r=j(l);const o=Object.keys(r);if(o.length){a.propertyInfos=o;a.sortable=false;a.filterable=false;o.forEach(t=>{s[t]=r[t]});if(!o.find(t=>r[t]===u)){s[i]=u}}else{a.path=e.path}a.typeConfig=a.typeConfig?n:undefined}else{a.path=e.path}n.push(a)});const u=R(s,n,i,o);return n.concat(u)})};B.updateBindingInfo=function(t,e){g.updateBindingInfo.apply(this,[t,e]);if(!t){return}const n=t.getDelegate().payload;if(n&&e){e.path=e.path||n.collectionPath||`/${n.collectionName}`;e.model=e.model||n.model}if(!e){e={}}const a=m.byId(t.getFilter()),r=t.isFilteringEnabled();let l;let s,c;const u=[];const p=f.getCachedProperties(t);if(r){l=t.getConditions();s=b.getFilterInfo(t,l,p,[]);if(s.filters){u.push(s.filters)}}if(a){l=a.getConditions();if(l){const i=h.getParameterNames(a);B._updatePropertyInfo(p,t,l,n);c=b.getFilterInfo(a,l,p,i);if(c.filters){u.push(c.filters)}const r=h.getParametersInfo(a,l);if(r){e.path=r}}e.parameters.$search=i.normalizeSearchTerm(a.getSearch())||undefined}this._applyDefaultSorting(e,t.getDelegate().payload);e.parameters.$select=p===null||p===void 0?void 0:p.reduce(function(t,e){if(e.path&&e.path.indexOf("/")===-1){t=t?`${t},${e.path}`:e.path}return t},"");e.parameters.$count=true;if(o.isDraftSupported(t.getModel().getMetaModel(),e.path)){u.push(new v("IsActiveEntity",y.EQ,true))}e.filters=new v(u,true)};B.getTypeUtil=function(){return d};B._getModel=function(t){const e=t.getDelegate().payload;return t.getModel(e.model)};B._applyDefaultSorting=function(t,e){if(t.parameters&&t.parameters.$search==undefined&&t.sorter&&t.sorter.length==0){const i=e?e.defaultSortPropertyName:undefined;if(i){t.sorter.push(new P(i,false))}}};B._updatePropertyInfo=function(t,e,i,n){const a=Object.keys(i),r=e.getModel().getMetaModel();a.forEach(function(i){if(t.findIndex(function(t){return t.path===i})===-1){const a={path:i,typeConfig:e.getTypeUtil().getTypeConfig(r.getObject(`/${n.collectionName}/${i}`).$Type)};t.push(a)}})};B.updateBinding=function(i,n,a){let r=false;const o=i.getBindingContext("internal");const l="pendingManualBindingUpdate";const s=o===null||o===void 0?void 0:o.getProperty(l);let c=i.getRowBinding();g.updateBinding.apply(B,[i,n,a]);if(!c){c=i.getRowBinding()}if(c){const t=c.getFilters("Application");r=e(n.filters,t[0])&&c.getQueryOptionsFromParameters().$search===n.parameters.$search&&!s}if(r&&i.getFilter()){o===null||o===void 0?void 0:o.setProperty(l,true);c.requestRefresh(c.getGroupId()).finally(function(){o===null||o===void 0?void 0:o.setProperty(l,false)}).catch(function(e){t.error("Error while refreshing a filterBar VH table",e)})}i.fireEvent("bindingUpdated")};function R(t,e,i,n){const a={},r=[];Object.keys(t).forEach(o=>{const l=t[o],s=e.find(t=>t.path===o);if(!s){const t=`Property::${o}`;a[o]=t;const e={name:t,label:D(l),path:o,sortable:U(i,l),filterable:k(n,l)};e.maxConditions=N(n,e);if(C(l.type)){const t=_(l);e.typeConfig=d.getTypeConfig(t.type,t.formatOptions,t.constraints)}r.push(e)}});e.forEach(t=>{if(t.propertyInfos){var e;t.propertyInfos=(e=t.propertyInfos)===null||e===void 0?void 0:e.map(t=>a[t]??t)}});return r}function U(t,e){const i=H(e);return i&&t.propertyInfo[i]?t.propertyInfo[i].sortable:e.sortable??true}function k(t,e){const i=H(e);return i&&t!==null&&t!==void 0&&t.propertyInfo.hasOwnProperty(i)?t.propertyInfo[i].filterable:e.filterable??true}function N(t,e){var i;const n=H(e);return(i=t.propertyInfo)!==null&&i!==void 0&&i.hasOwnProperty(n)&&n&&E(t.propertyInfo[n])?-1:1}function H(t){return A(t)?t.name:t.path}function z(t){const e=t.targetObject;const i=T(e)||F(e)||$(e)||x(e);if(!i){return undefined}const n=M(t,i);const a=n.targetObject;if(!a){return undefined}return n}return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/valuehelp/ValueHelpTemplating",["sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper"],function(t,e,i,n,a,r,o){"use strict";var l={};var s=r.getDisplayMode;var c=a.isUnit;var u=a.isSemanticKey;var p=a.isGuid;var d=a.isCurrency;var f=a.hasValueListForValidation;var m=a.hasValueHelpWithFixedValues;var g=a.hasValueHelp;var h=a.hasDateType;var b=n.checkFilterExpressionRestrictions;var v=i.isProperty;var y=e.generate;var P=t.compileExpression;const C=function(t,e){var i,n,a,r,o;const l=s(t);const c=(i=t.targetObject.annotations)===null||i===void 0?void 0:(n=i.Common)===null||n===void 0?void 0:n.Text;const u=typeof c!=="string"&&(c===null||c===void 0?void 0:(a=c.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:(o=r.TextArrangement)===null||o===void 0?void 0:o.toString());if(e){return c&&typeof c!=="string"&&c.path?l:"Value"}else{return u?l:"Value"}};l.getValueHelpTableDisplayMode=C;const D=function(t,e,i,n){let a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const r=t!==i;const o={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:t,isUnitValueHelp:r,conditionModel:e,requestGroupId:n,useMultiValueField:a,qualifiers:{},valueHelpQualifier:""}};return P(o)};l.getDelegateConfiguration=D;const $=function(t,e,i,n){if(t){return t}let a=n;if(i!==n){a=`${i}::${n}`}return y([e,a])};l.generateID=$;const x=function(t){return m(t)||f(t)||g(t)&&(c(t)||d(t)||p(t))};l.requiresValidation=x;const T=function(t,e){var i,n,a;const r=(t===null||t===void 0?void 0:(i=t.targetEntitySet)===null||i===void 0?void 0:(n=i.annotations)===null||n===void 0?void 0:(a=n.Capabilities)===null||a===void 0?void 0:a.FilterFunctions)||e;return r?!(r.indexOf("tolower")>-1):true};l.useCaseSensitiveFilterRequests=T;const F=function(t){const e=t.targetObject;const i=b(t,["SingleRange"]);return h(e)&&P(i)};l.isSemanticDateRange=F;const O=function(t,e){t.contextLocation=e;return P(b(t,["SingleValue","MultiValue"]))==="false"};l.shouldShowConditionPanel=O;const I=function(t,e){var i,n,a,r,o,l;const s=e===null||e===void 0?void 0:(i=e.targetObject)===null||i===void 0?void 0:(n=i.annotations)===null||n===void 0?void 0:(a=n.Common)===null||a===void 0?void 0:a.Text;return(s===null||s===void 0?void 0:(r=s.annotations)===null||r===void 0?void 0:(o=r.UI)===null||o===void 0?void 0:(l=o.TextArrangement)===null||l===void 0?void 0:l.valueOf())==="UI.TextArrangementType/TextOnly"?s.path:t};l.getColumnDataProperty=I;const M=function(t,e){var i,n,a,r,o,l;const s=e===null||e===void 0?void 0:(i=e.targetObject)===null||i===void 0?void 0:(n=i.annotations)===null||n===void 0?void 0:(a=n.Common)===null||a===void 0?void 0:(r=a.Text)===null||r===void 0?void 0:(o=r.annotations)===null||o===void 0?void 0:(l=o.UI)===null||l===void 0?void 0:l.TextArrangement;return s&&s.valueOf()!=="UI.TextArrangementType/TextSeparate"?"Edm.String":t};const A=function(t){const e=t.targetObject;const i=v(e)?M(e.type,t):"";return!i||u(e,t)?"Begin":o.getPropertyAlignment(i,{textAlignMode:"Table"})};l.getColumnHAlign=A;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/internal/valuehelp/ValueListHelper",["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/m/table/Util","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/dom/units/Rem","sap/ui/mdc/valuehelp/content/Conditions","sap/ui/mdc/valuehelp/content/MDCTable","sap/ui/mdc/valuehelp/content/MTable","sap/ui/model/json/JSONModel"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m){"use strict";var g={};var h=r.getTypeConfig;var b=r.getDisplayMode;var v=a.getAssociatedUnitProperty;var y=a.getAssociatedTimezoneProperty;var P=a.getAssociatedTextProperty;var C=a.getAssociatedCurrencyProperty;var D=n.isPropertyFilterable;var $=n.getSortRestrictionsInfo;var x=t.Level;const T=(t,e)=>!t.some(t=>t.path===e);const F="@com.sap.vocabularies.Common.v1.Label",O="@com.sap.vocabularies.Common.v1.Text",I="@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement",M="com.sap.vocabularies.Common.v1.ValueListParameterIn",A="com.sap.vocabularies.Common.v1.ValueListParameterConstant",E="com.sap.vocabularies.Common.v1.ValueListParameterOut",w="com.sap.vocabularies.Common.v1.ValueListParameterInOut",S="@com.sap.vocabularies.Common.v1.ValueListWithFixedValues";g.AnnotationLabel=F;g.AnnotationValueListWithFixedValues=S;g.AnnotationValueListParameterInOut=w;g.AnnotationValueListParameterOut=E;g.AnnotationValueListParameterConstant=A;g.AnnotationValueListParameterIn=M;g.AnnotationTextUITextArrangement=I;g.AnnotationText=O;function L(t){let e;const i=t.$model.getMetaModel();const n=i.getObject(`/${t.CollectionPath}@`)||{};const a=$(n);const r=t.Parameters.find(function(e){return(e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut"||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly")&&!(i.getObject(`/${t.CollectionPath}/${e.ValueListProperty}@com.sap.vocabularies.UI.v1.Hidden`)===true)});if(r){if(i.getObject(`/${t.CollectionPath}/${r.ValueListProperty}@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember`)==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){e=i.getObject(`/${t.CollectionPath}/${r.ValueListProperty}@com.sap.vocabularies.Common.v1.Text/$Path`)}else{e=r.ValueListProperty}}if(e&&(!a.propertyInfo[e]||a.propertyInfo[e].sortable)){return e}else{return undefined}}function _(t,e){const i=e.find(function(e){return t.ValueListProperty===e.textColumnName});if(t.ValueListProperty===(i===null||i===void 0?void 0:i.textColumnName)&&!i.keyColumnHidden&&i.keyColumnDisplayFormat!=="Value"){return true}return undefined}function B(t){return t.Parameters.some(function(t){return t["@com.sap.vocabularies.UI.v1.Importance"]&&t["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"})}function V(t){const e=t.getModel("viewData");if(e){const t=e.getData();if(t){const e=t.columns;if(e){return e.reduce(function(t,e){if(e.path&&e.path.indexOf("/")===-1){t=t?`${t},${e.path}`:e.path}return t},undefined)}}}return undefined}function j(t,e){const n=i.computeDisplayMode(t,undefined);const a=t&&t["@com.sap.vocabularies.Common.v1.Text"];const r=a&&t["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"];if(e){return a&&typeof a!=="string"&&a.$Path?n:"Value"}else{return r?n:"Value"}}const R={getValueListCollectionEntitySet:function(t){const e=t.getObject();return e.$model.getMetaModel().createBindingContext(`/${e.CollectionPath}`)},getTableDelegate:function(t){let e=L(t);if(e){e=`'${e}'`}return"{name: 'sap/fe/macros/internal/valuehelp/TableDelegate', payload: {collectionName: '"+t.CollectionPath+"'"+(e?", defaultSortPropertyName: "+e:"")+"}}"},getSortConditionsFromPresentationVariant:function(t,e){if(t.PresentationVariantQualifier!==undefined){const i=t.PresentationVariantQualifier?`#${t.PresentationVariantQualifier}`:"",n=`/${t.CollectionPath}/@com.sap.vocabularies.UI.v1.PresentationVariant${i}`;const a=t.$model.getMetaModel().getObject(n);if(a!==null&&a!==void 0&&a.SortOrder){const t={sorters:[]};a.SortOrder.forEach(function(i){var n;const a={},r=i===null||i===void 0?void 0:(n=i.Property)===null||n===void 0?void 0:n.$PropertyPath;if(e){a.path=r}else{a.name=r}if(i.Descending){a.descending=true}else{a.ascending=true}t.sorters.push(a)});return e?`sorter: ${JSON.stringify(t.sorters)}`:JSON.stringify(t)}}return},getPropertyPath:function(t){return!t.UnboundAction?`${t.EntityTypePath}/${t.Action}/${t.Property}`:`/${t.Action.substring(t.Action.lastIndexOf(".")+1)}/${t.Property}`},getValueListProperty:function(t){const e=t.getModel();const i=e.getObject("/");return i.$model.getMetaModel().createBindingContext(`/${i.CollectionPath}/${t.getObject()}`)},getColumnVisibility:function(t,e,i){const n=i&&!!i.valueHelpWithFixedValues,a=i.columnInfo,r=!_(e,a.columnInfos),o=a.isDialogTable;if(n||!n&&o||!n&&!B(t)){const t=a.columnInfos.find(function(t){return e.ValueListProperty===t.columnName&&t.hasHiddenAnnotation===true});return!t?r:false}else if(!n&&B(t)){return e&&e["@com.sap.vocabularies.UI.v1.Importance"]&&e["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"?true:false}return true},getColumnVisibilityInfo:function(t,e,i,n){const a=t.$model.getMetaModel();const r=[];const o={isDialogTable:n,columnInfos:r};t.Parameters.forEach(function(e){const n=a.getObject(`/${t.CollectionPath}/${e.ValueListProperty}@`);const r=n&&n["@com.sap.vocabularies.Common.v1.Text"];let l={};if(r){l={keyColumnHidden:n["@com.sap.vocabularies.UI.v1.Hidden"]?true:false,keyColumnDisplayFormat:r&&j(n,i),textColumnName:r&&r.$Path,columnName:e.ValueListProperty,hasHiddenAnnotation:n&&n["@com.sap.vocabularies.UI.v1.Hidden"]?true:false}}else if(n&&n["@com.sap.vocabularies.UI.v1.Hidden"]){l={columnName:e.ValueListProperty,hasHiddenAnnotation:n&&n["@com.sap.vocabularies.UI.v1.Hidden"]?true:false}}o.columnInfos.push(l)});return o},getTableItemsParameters:function(t,e,i,n){const a=[`path: '/${t.CollectionPath}'`];const r=V(this);if(e){const t=r?`, '${r}'`:"";a.push(`parameters: {$$groupId: '${e}'${t}}`)}else if(r){a.push(`parameters: {$select: '${r}'}`)}const o=t.Parameters.some(function(t){return i||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn"});a.push(`suspended: ${o}`);if(!n){a.push("length: 10")}const l=R.getSortConditionsFromPresentationVariant(t,i);if(l){a.push(l)}else if(n){const e=L(t);if(e){a.push(`sorter: [{path: '${e}', ascending: true}]`)}}return"{"+a.join(", ")+"}"},hasImportance:function(t){return B(t.getObject())?"Importance/High":"None"},getMinScreenWidth:function(t){return B(t)?"{= ${_VHUI>/minScreenWidth}}":"416px"},getColumnWidth:function(i){var n,a,r,l,s,c,u,p;const d=i.targetObject;let f=[d];const m=P(d)||C(d)||v(d)||y(d),g=(n=d.annotations)===null||n===void 0?void 0:(a=n.Common)===null||a===void 0?void 0:a.Text,D=g===null||g===void 0?void 0:(r=g.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:(s=l.TextArrangement)===null||s===void 0?void 0:s.toString(),$=(c=d.annotations)===null||c===void 0?void 0:(u=c.Common)===null||u===void 0?void 0:(p=u.Label)===null||p===void 0?void 0:p.toString(),x=D&&b(i);if(m){if(x==="Description"){f=[m]}else if(!g||x&&x!=="Value"){f.push(m)}}let T=0;const F=[];f.forEach(t=>{const i=h(t,undefined);const n=e.get(i.type);if(n){F.push(new n(i.formatOptions,i.constraints))}});const O=o.calcColumnWidth(F,$);T=O?parseFloat(O.replace("rem","")):0;if(T===0){t.error(`Cannot compute the column width for property: ${d.name}`)}return T<=20?T.toString()+"rem":"20rem"},getOutParameterPaths:function(t){let e="";t.forEach(function(t){if(t.$Type.endsWith("Out")){e+=`{${t.ValueListProperty}}`}});return e},entityIsSearchable:function(t,e){var i,n;const a=(i=t["@com.sap.vocabularies.Common.v1.ValueList"])===null||i===void 0?void 0:i.SearchSupported,r=(n=e["@Org.OData.Capabilities.V1.SearchRestrictions"])===null||n===void 0?void 0:n.Searchable;if(r===undefined&&a===false||r===true&&a===false||r===false){return false}return true},_getConditionPath:function(t,e,i){const n=i.split("/");let a="",r;while(n.length){let i=n.shift();r=r?`${r}/${i}`:i;const o=t.getObject(`${e}/${r}`);if(o&&o.$kind==="NavigationProperty"&&o.$isCollection){i+="*"}a=a?`${a}/${i}`:i}return a},_getColumnDefinitionFromSelectionFields:function(t,e){const i=[],n=t.getObject(`${e}/@`),a=n["@com.sap.vocabularies.UI.v1.SelectionFields"];if(a){a.forEach(function(n){var a;const r=`${e}/${n.$PropertyPath}`,o=R._getConditionPath(t,e,n.$PropertyPath),l=t.getObject(`${r}@`),s={path:o,label:l[F]||r,sortable:true,filterable:D(t,e,n.$PropertyPath,false),$Type:(a=t.getObject(r))===null||a===void 0?void 0:a.$Type};i.push(s)})}return i},_mergeColumnDefinitionsFromProperties:function(t,e,i,n,a){var r;let o=i,l=n.$Type;const s=a[F]||o,c=a[O];if(c&&((r=a[I])===null||r===void 0?void 0:r.$EnumMember)==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){o=c.$Path;const t=`/${e.CollectionPath}/${o}`;l=e.$model.getMetaModel().getObject(t).$Type}if(T(t,o)){const e={path:o,label:s,sortable:true,filterable:!a["@com.sap.vocabularies.UI.v1.HiddenFilter"],$Type:l};t.push(e)}},filterInOutParameters:function(t,e){return t.filter(function(t){return e.indexOf(t.parmeterType)>-1})},getInParameters:function(t){return R.filterInOutParameters(t,[M,A,w])},getOutParameters:function(t){return R.filterInOutParameters(t,[E,w])},createVHUIModel:function(t,e,i){const n=new m({}),a=i.getObject(`${e}@`);t.setModel(n,"_VHUI");n.setProperty("/hasValueListRelevantQualifiers",!!a["@com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers"]);n.setProperty("/propertyLabel",a[F]);return n},_getDialogTitle:function(t,e){var i;const n=t.getModel("_VHUI").getProperty("/propertyLabel");const a=(i=t.getControl())===null||i===void 0?void 0:i.getProperty("label");return t.getModel("_VHUI").getProperty("/hasValueListRelevantQualifiers")?e||n||a:a||n||e},destroyVHContent:function(t){if(t.getDialog()){t.getDialog().destroyContent()}if(t.getTypeahead()){t.getTypeahead().destroyContent()}},putDefaultQualifierFirst:function(t){const e=t.indexOf("");if(e>0){t.unshift(t[e]);t.splice(e+1,1)}return t},_getContextPrefix:function(t,e){if(t&&t.getPath()){const i=t.getPath().split("/");if(e.length-i.length>1){const t=[];for(let n=i.length;n<e.length-1;n++){t.push(e[n])}return`${t.join("/")}/`}}return""},_getVhParameter:function(t,e,i,n,a,r){let o="";const l=e.getBindingContext();if(t&&t.length>0){var s;if((s=e.getParent())!==null&&s!==void 0&&s.isA("sap.ui.mdc.Table")&&l&&R._parameterIsA(n,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])){const t=r.split("/");if(t.length>1){const i=t[0];const n=a.getMetaContext(l.getPath());const s=e.getParent().getRowBinding().getPath();if(n.getObject(`${s}/$Partner`)===i){o=r.replace(i+"/","")}}}if(!o){o=t+">/conditions/"+r}}else{o=i+r}return{parmeterType:n.$Type,source:o,helpPath:n.ValueListProperty,constantValue:n.Constant,initialValueFilterEmpty:Boolean(n.InitialValueIsSignificant)}},_parameterIsA(t,e){return e.includes(t.$Type)},_enrichPath:function(t,e,i,n,a,r){if(!t.key&&R._parameterIsA(n,["com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&i===a){var o;t.fieldPropertyPath=e;t.key=n.ValueListProperty;t.descriptionPath=((o=r[O])===null||o===void 0?void 0:o.$Path)||""}},_enrichKeys:function(t,e){if(R._parameterIsA(e,["com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&!t.includes(e.ValueListProperty)){t.push(e.ValueListProperty)}},_processParameters:function(e,i,n,a,r,o,l){const s=e.$model.getMetaModel(),c=`/${e.CollectionPath}`,u=s.getObject(`${c}/`);if(u===undefined){t.error(`Inconsistent value help metadata: Entity ${c} is not defined`);return}const p=R._getColumnDefinitionFromSelectionFields(s,c),d=[],f=u.$Key?[...u.$Key]:[];const m={fieldPropertyPath:"",descriptionPath:"",key:""};for(const t of e.Parameters){var g;const l=`/${e.CollectionPath}/${t.ValueListProperty}`,c=s.getObject(l),u=s.getObject(`${l}@`)||{},h=((g=t.LocalDataProperty)===null||g===void 0?void 0:g.$PropertyPath)||"";if(c){R._enrichPath(m,l,h,t,i,u);const n=t.ValueListProperty;R._mergeColumnDefinitionsFromProperties(p,e,n,c,u)}if(R._parameterIsA(t,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&h!==i){const e=R._getVhParameter(n,a,r,t,o,h);d.push(e)}if(t.$Type===A){d.push({parmeterType:t.$Type,source:t.ValueListProperty,helpPath:t.ValueListProperty,constantValue:t.Constant,initialValueFilterEmpty:Boolean(t.InitialValueIsSignificant)})}R._enrichKeys(f,t)}for(const t of f){if(T(p,t)){var h;const i={path:t,$Type:(h=s.getObject(`/${e.CollectionPath}/${m.key}`))===null||h===void 0?void 0:h.$Type,label:"",sortable:false,filterable:undefined};p.push(i)}}const b={keyPath:m.key,descriptionPath:m.descriptionPath,fieldPropertyPath:m.fieldPropertyPath,vhKeys:f,vhParameters:d,valueListInfo:e,columnDefs:p,valueHelpQualifier:l};return b},_logError:function(e,i){const n=i?i.status:undefined;const a=i instanceof Error?i.message:String(i);const r=n===404?`Metadata not found (${n}) for value help of property ${e}`:a;t.error(r)},getValueListInfo:async function(t,e,i){const n=t.getBindingContext(),a=i.conditionModel,r=t.getModel().getMetaModel(),o=[],l=e.split("/");try{const s=await r.requestValueListInfo(e,true,n);const c=R.putDefaultQualifierFirst(Object.keys(s)),u=l.pop();const p=i.useMultiValueField?R._getContextPrefix(n,l):"";for(const e of c){const i=s[e];const n=R._processParameters(i,u,a,t,p,r,e);if(n){o.push(n)}}}catch(i){this._logError(e,i);R.destroyVHContent(t)}return o},ALLFRAGMENTS:undefined,logFragment:undefined,_logTemplatedFragments:function(e,i,n){const a={path:e,fragmentName:i,fragment:n};if(t.getLevel()===x.DEBUG){R.ALLFRAGMENTS=R.ALLFRAGMENTS||[];R.ALLFRAGMENTS.push(a)}if(R.logFragment){setTimeout(function(){R.logFragment(a)},0)}},_templateFragment:async function(t,e,i,n){const a=e.valueListInfo,r=new m(a),o=a.$model.getMetaModel(),u=new m({converterType:"ListReport",columns:e.columnDefs||null});const p=await s.process(c.loadTemplate(t,"fragment"),{name:t},{bindingContexts:{valueList:r.createBindingContext("/"),contextPath:o.createBindingContext(`/${a.CollectionPath}/`),source:i.createBindingContext("/")},models:{valueList:r,contextPath:o,source:i,metaModel:o,viewData:u}});R._logTemplatedFragments(n,t,p);return await l.load({definition:p})},_getContentId:function(t,e,i){const n=i?"Popover":"Dialog";return`${t}::${n}::qualifier::${e}`},_addInOutParametersToPayload:function(t,e){const i=e.valueHelpQualifier;if(!t.qualifiers){t.qualifiers={}}if(!t.qualifiers[i]){t.qualifiers[i]={vhKeys:e.vhKeys,vhParameters:e.vhParameters}}},_getValueHelpColumnDisplayFormat:function(t,e){const n=i.computeDisplayMode(t,undefined),a=t&&t[O],r=a&&t[I];if(e){return a&&typeof a!=="string"&&a.$Path?n:"Value"}else{return r?n:"Value"}},_getWidthInRem:function(t,e){let i=t.$().width();if(e&&i){i=.3*i}const n=i?parseFloat(String(u.fromPx(i))):0;return isNaN(n)?0:n},_getTableWidth:function(t,e){let i;const n=t.getColumns(),a=n&&n.filter(function(t){return t&&t.getVisible&&t.getVisible()})||[],r=a.reduce(function(t,e){i=e.getWidth();if(i&&i.endsWith("px")){i=String(u.fromPx(i))}const n=parseFloat(i);return t+(isNaN(n)?9:n)},a.length);return`${Math.max(r,e)}em`},_createValueHelpTypeahead:async function(e,i,n,a,r){const o=n.getId(),l=i.getModel().getMetaModel().getObject(`${e}@`),s=l[S]??false,c=false,u=R.getColumnVisibilityInfo(a.valueListInfo,e,s,c),p=new m({id:o,groupId:r.requestGroupId||undefined,bSuggestion:true,propertyPath:e,columnInfo:u,valueHelpWithFixedValues:s});n.setKeyPath(a.keyPath);n.setDescriptionPath(a.descriptionPath);r.isValueListWithFixedValues=s;const d=a.valueListInfo.$model.getMetaModel().getObject(`/${a.valueListInfo.CollectionPath}@`)||{};n.setFilterFields(R.entityIsSearchable(l,d)?"$search":"");const f=await R._templateFragment("sap.fe.macros.internal.valuehelp.ValueListTable",a,p,e);f.setModel(a.valueListInfo.$model);t.info(`Value List- suggest Table XML content created [${e}]`,f.getMetadata().getName(),"MDC Templating");n.setTable(f);const g=i.getControl();if(g!==undefined&&(g.isA("sap.ui.mdc.FilterField")||g.isA("sap.ui.mdc.Field")||g.isA("sap.ui.mdc.MultiValueField"))){const t=Boolean(r.isUnitValueHelp);const e=R._getTableWidth(f,R._getWidthInRem(g,t));f.setWidth(e);if(s){f.setMode(g.getMaxConditions()===1?"SingleSelectMaster":"MultiSelect")}else{f.setMode("SingleSelectMaster")}}},_createValueHelpDialog:async function(t,e,i,n,a){const r=e.getModel().getMetaModel().getObject(`${t}@`),o=false,l=true,s=R.getColumnVisibilityInfo(n.valueListInfo,t,o,l),c=new m({id:i.getId(),groupId:a.requestGroupId||undefined,bSuggestion:false,columnInfo:s,valueHelpWithFixedValues:o});i.setKeyPath(n.keyPath);i.setDescriptionPath(n.descriptionPath);const u=n.valueListInfo.$model.getMetaModel().getObject(`/${n.valueListInfo.CollectionPath}@`)||{};i.setFilterFields(R.entityIsSearchable(r,u)?"$search":"");const p=R._templateFragment("sap.fe.macros.internal.valuehelp.ValueListDialogTable",n,c,t);const d=R._templateFragment("sap.fe.macros.internal.valuehelp.ValueListFilterBar",n,c,t);const[f,g]=await Promise.all([p,d]);f.setModel(n.valueListInfo.$model);g.setModel(n.valueListInfo.$model);i.setFilterBar(g);i.setTable(f);f.setFilter(g.getId());f.initialized();const h=e.getControl();if(h!==undefined){f.setSelectionMode(h.getMaxConditions()===1?"SingleMaster":"Multi")}f.setWidth("100%");const b=f;b._setShowP13nButton(false)},_getContentById:function(t,e){return t.find(function(t){return t.getId()===e})},_createPopoverContent:function(t,e,i){return new f({id:t,group:"group1",caseSensitive:e,useAsValueHelp:i})},_createDialogContent:function(t,e,i){return new d({id:t,group:"group1",caseSensitive:e,forceBind:i})},_showConditionsContent:function(t,e){let i=t.length&&t[t.length-1].getMetadata().getName()==="sap.ui.mdc.valuehelp.content.Conditions"?t[t.length-1]:undefined;if(i){i.setVisible(true)}else{i=new p;e.addContent(i)}},_alignOrCreateContent:function(t,e,i,n,a){const r=a.getContent();let o=R._getContentById(r,e);if(!o){const l=t.valueListInfo.FetchValues===2?false:true;o=R._createDialogContent(e,i,l);if(!n){a.addContent(o)}else{a.insertContent(o,r.length-1)}}else{o.setVisible(true)}return o},_prepareValueHelpTypeAhead:function(t,e,i,n,a,r){const o=e.getContent();let l=t.data("valuelistForValidation")||"";if(l===" "){l=""}const s=l?i.filter(function(t){return t.valueHelpQualifier===l})[0]:i[0];R._addInOutParametersToPayload(n,s);const c=R._getContentId(t.getId(),s.valueHelpQualifier,true);let u=R._getContentById(o,c);if(!u){const t=r.getUseAsValueHelp();u=R._createPopoverContent(c,a,t);e.insertContent(u,0)}else if(c!==o[0].getId()){e.removeContent(u);e.insertContent(u,0)}return{valueListInfo:s,content:u}},_prepareValueHelpDialog:function(t,e,n,a,r,o){const l=t.data("showConditionPanel")&&t.data("showConditionPanel")!=="false";const s=e.getContent();for(const t of s){t.setVisible(false)}if(l){this._showConditionsContent(s,e)}let c,u;for(const s of n){const n=s.valueHelpQualifier;R._addInOutParametersToPayload(a,s);const p=R._getContentId(t.getId(),n,false);const d=this._alignOrCreateContent(s,p,o,l,e);if(s.valueListInfo.Label){const e=i.getTranslatedTextFromExpBindingString(s.valueListInfo.Label,t.getControl());d.setTitle(e)}if(!u||r&&r===p){u=d;c=s}}if(!c||!u){throw new Error("selectedInfo or selectedContent undefined")}return{selectedInfo:c,selectedContent:u}},showValueList:async function(t,e,n){const a=e.getParent(),r=e.isTypeahead(),o=t.propertyPath,l=a.getModel().getMetaModel(),s=a.getModel("_VHUI")||R.createVHUIModel(a,o,l);if(!t.qualifiers){t.qualifiers={}}s.setProperty("/isSuggestion",r);s.setProperty("/minScreenWidth",!r?"418px":undefined);try{const l=await R.getValueListInfo(a,o,t);const s=a.getTypeahead().getContent()[0],u=s.getCaseSensitive();if(r){const{valueListInfo:i,content:n}=R._prepareValueHelpTypeAhead(a,e,l,t,u,s);t.valueHelpQualifier=i.valueHelpQualifier;if(n.getTable()===undefined||n.getTable()===null){await R._createValueHelpTypeahead(o,a,n,i,t)}}else{var c;const{selectedInfo:r,selectedContent:s}=R._prepareValueHelpDialog(a,e,l,t,n,u);t.valueHelpQualifier=r.valueHelpQualifier;const p=i.getTranslatedTextFromExpBindingString(R._getDialogTitle(a,(c=r.valueListInfo)===null||c===void 0?void 0:c.Label),a.getControl());e.setTitle(p);if(s.getTable()===undefined||s.getTable()===null){await R._createValueHelpDialog(o,a,s,r,t)}}}catch(t){this._logError(o,t);R.destroyVHContent(a)}}};return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/kpiTag/KPITag.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/formatters/KPIFormatter","sap/fe/core/helpers/BindingToolkit"],function(t,e,i,n,a){"use strict";var r,o,l,s,c,u,p,d,f,m,g;var h={};var b=a.resolveBindingString;var v=a.pathInModel;var y=a.formatResult;var P=i.xml;var C=e.defineBuildingBlock;var D=e.blockAttribute;function $(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function T(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;F(t,e)}function F(t,e){F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return F(t,e)}function O(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function I(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let M=(r=C({name:"KPITag",namespace:"sap.fe.macros"}),o=D({type:"string",required:true}),l=D({type:"sap.ui.model.Context",required:true}),s=D({type:"string",required:true}),c=D({type:"boolean",required:false}),r(u=(p=function(t){T(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;$(e,"id",d,x(e));$(e,"metaPath",f,x(e));$(e,"kpiModelName",m,x(e));$(e,"hasUnit",g,x(e));return e}h=e;var i=e.prototype;i.getKpiPropertyExpression=function t(e){return v(`/${this.id}/manifest/sap.card/data/json/${e}`,this.kpiModelName)};i.getBindingExpressions=function t(){const e=this.metaPath.getProperty("Title");if(!e){return{text:undefined,tooltip:undefined}}const i=b(e);return{text:y([i],n.labelFormat),tooltip:y([i,this.getKpiPropertyExpression("mainValueUnscaled"),this.getKpiPropertyExpression("mainUnit"),this.getKpiPropertyExpression("mainCriticality"),String(this.hasUnit)],n.tooltipFormat)}};i.getTemplate=function t(){const{text:e,tooltip:i}=this.getBindingExpressions();return P`<m:GenericTag
			id="kpiTag-${this.id}"
			text="${e}"
			design="StatusIconHidden"
			status="${this.getKpiPropertyExpression("mainCriticality")}"
			class="sapUiTinyMarginBegin"
			tooltip="${i}"
			press=".kpiManagement.onKPIPressed(\${$source>},'${this.id}')"
		>
			<m:ObjectNumber
				state="${this.getKpiPropertyExpression("mainCriticality")}"
				emphasized="false"
				number="${this.getKpiPropertyExpression("mainValue")}"
				unit="${this.getKpiPropertyExpression("mainUnit")}"

			/>
		</m:GenericTag>`};return e}(t),d=O(p.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=O(p.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),m=O(p.prototype,"kpiModelName",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),g=O(p.prototype,"hasUnit",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||u);h=M;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/library",["sap/fe/core/library","sap/fe/macros/filter/type/MultiValue","sap/fe/macros/filter/type/Range","sap/fe/macros/macroLibrary","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/field/ConditionsType","sap/ui/mdc/library","sap/ui/unified/library"],function(t,e,i,n,a,r,o,l,s,c,u){"use strict";var p={};const d="sap.fe.macros";p.macrosNamespace=d;const f=a.initLibrary({name:"sap.fe.macros",dependencies:["sap.ui.core","sap.ui.mdc","sap.ui.unified","sap.fe.core"],types:["sap.fe.macros.NavigationType"],interfaces:[],controls:[],elements:[],version:"1.113.0",noLibraryCSS:true});f.NavigationType={External:"External",InPage:"InPage",None:"None"};r.registerType("CUSTOM",{load:r.getType("XML").load,init:function(t){t.containingView={oController:t.containingView.getController()&&t.containingView.getController().getExtensionAPI(t.id)};for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++){i[n-1]=arguments[n]}return r.getType("XML").init.apply(this,[t,i])}});return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/macroLibrary",["sap/fe/macros/field/PublicField.block","sap/fe/macros/form/FormElement.block","sap/fe/macros/situations/SituationsIndicator.block","sap/fe/macros/table/TableFullScreenDialog.block","./actions/CustomAction.block","./actions/DataFieldForAction.block","./chart/Chart.block","./contact/Contact.block","./draftIndicator/DraftIndicator.block","./fcl/FlexibleColumnLayoutActions.block","./filterBar/FilterBar.block","./form/Form.block","./form/FormContainer.block","./fpm/CustomFragment.block","./internal/ActionCommand.block","./internal/DataPoint.block","./internal/FilterField.block","./internal/InternalField.block","./kpiTag/KPITag.block","./microchart/MicroChart.block","./multiValueField/MultiValueField.block","./paginator/Paginator.block","./quickView/QuickView.block","./share/Share.block","./table/Table.block","./valuehelp/ValueHelp.block","./valuehelp/ValueHelpFilterBar.block","./visualfilters/VisualFilter.block"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O){"use strict";const I=[m,o,l,a,f,r,g,s,u,h,c,p,d,e,b,v,y,P,C,t,D,$,i,x,n,T,F,O];function M(){for(const t of I){t.register()}}function A(){for(const t of I){t.unregister()}}M();return{register:M,unregister:A}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/messages/MessageButton",["sap/base/Log","sap/base/util/UriParameters","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/messages/MessagePopover","sap/m/Button","sap/m/ColumnListItem","sap/m/Dialog","sap/m/FormattedText","sap/m/library","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h){"use strict";var b,v,y,P,C,D,$;var x=d.MessageType;var T=u.ButtonType;var F=a.getResourceModel;var O=n.event;var I=n.defineUI5Class;var M=n.aggregation;function A(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function w(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;S(t,e)}function S(t,e){S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return S(t,e)}function L(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function _(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let B=(b=I("sap.fe.macros.messages.MessageButton"),v=M({type:"sap.fe.macros.messages.MessageFilter",multiple:true,singularName:"customFilter"}),y=O(),b(P=(C=function(n){w(a,n);function a(t,e){var i;i=n.call(this,t,e)||this;A(i,"customFilters",D,E(i));A(i,"messageChange",$,E(i));i.sGeneralGroupText="";i.sViewId="";i.sLastActionText="";return i}var u=a.prototype;u.init=function t(){o.prototype.init.apply(this);this.attachPress(this.handleMessagePopoverPress,this);this.oMessagePopover=new r;this.oItemBinding=this.oMessagePopover.getBinding("items");this.oItemBinding.attachChange(this._setMessageData,this);const e=this.getId();if(e){this.oMessagePopover.addCustomData(new sap.ui.core.CustomData({key:"messageButtonId",value:e}))}this.attachModelContextChange(this._applyFiltersAndSort.bind(this));this.oMessagePopover.attachActiveTitlePress(this._activeTitlePress.bind(this))};u.handleMessagePopoverPress=function t(e){this.oMessagePopover.toggle(e.getSource())};u._applyGroupingAsync=async function e(n){const a=[];const r=n.getBindingContext();const o=t=>{const e=[];const n=this.oItemBinding.getContexts().map(function(t){return t.getObject()});const a=t.getBindingContext();if(a){const r=t.getContent()[0];i.getVisibleSectionsFromObjectPageLayout(r).forEach(function(t){t.getSubSections().forEach(function(t){t.findElements(true).forEach(function(i){if(i.isA("sap.ui.mdc.Table")){for(let r=0;r<n.length;r++){const o=i.getRowBinding();if(o){const o=`${a.getPath()}/${i.getRowBinding().getPath()}`;if(n[r].target.indexOf(o)===0){e.push({table:i,subsection:t});break}}}}})})})}return e};const l=o.bind(this)(n);l.forEach(function(t){var e;const i=t.table,n=t.subsection;if(!i.getBindingContext()||((e=i.getBindingContext())===null||e===void 0?void 0:e.getPath())!==(r===null||r===void 0?void 0:r.getPath())){n.setBindingContext(r);if(!i.getRowBinding().isLengthFinal()){a.push(new Promise(function(t){i.getRowBinding().attachEventOnce("dataReceived",function(){t()})}))}}});const s=new Promise(t=>{setTimeout(async()=>{this._applyGrouping();t()},0)});try{await Promise.all(a);n.getModel().checkMessages();await s}catch(e){t.error("Error while grouping the messages in the messagePopOver")}};u._applyGrouping=function t(){this.oObjectPageLayout=this._getObjectPageLayout(this,this.oObjectPageLayout);if(!this.oObjectPageLayout){return}const e=this.oMessagePopover.getItems();this._checkControlIdInSections(e)};u._getTableRefErrorContext=function t(e){const i=e.getModel("internal");if(!e.getBindingContext("internal").getProperty("refError")){i.setProperty("refError",{},e.getBindingContext("internal"))}const n=e.getBindingContext("internal").getPath()+"/refError/"+e.getBindingContext().getPath().replace("/","$")+"$"+e.getRowBinding().getPath().replace("/","$");const a=i.getContext(n);if(!a.getProperty("")){i.setProperty("",{},a)}return a};u._updateInternalModel=function t(e,i,n,a,r,o){let l;if(o){l={rowIndex:"CreationRow",targetColProperty:n?n:""}}else{l={rowIndex:e?i:"",targetColProperty:n?n:""}}const s=a.getModel("internal"),c=this._getTableRefErrorContext(a);const u=sap.ui.getCore().getMessageManager().getMessageModel().getData().map(function(t){return t.id});let p;if(c.getProperty()){p=Object.keys(c.getProperty()).filter(function(t){return u.indexOf(t)===-1});p.forEach(function(t){delete c.getProperty()[t]})}s.setProperty(r.getId(),Object.assign({},c.getProperty(r.getId())?c.getProperty(r.getId()):{},l),c)};u._setGroupLabelForTransientMsg=function t(e,i){this.sLastActionText=this.sLastActionText?this.sLastActionText:p.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");e.setGroupName(`${this.sLastActionText}: ${i}`)};u._computeMessageGroupAndSubTitle=function t(e,n,a,r,o,l){var s;const c=F(n);this.oItemBinding.detachChange(this._setMessageData,this);const u=(s=e.getBindingContext("message"))===null||s===void 0?void 0:s.getObject();const d=true;let f,m,g,h,b,v,y;const P=new RegExp("^/").test(u===null||u===void 0?void 0:u.getTargets()[0]);if(P){for(h=0;h<r.length;h++){f=r[h];v=f;if(f.isA("sap.m.Table")||f.isA("sap.ui.table.Table")){m=f.getParent();const t=m.getRowBinding();const n=(t,i)=>{this._setGroupLabelForTransientMsg(e,i)};if(t&&t.isLengthFinal()&&m.getBindingContext()){const a=i.getTableColumnDataAndSetSubtile(u,m,f,t,l,d,n);g=a.oTargetTableInfo;if(a.subTitle){e.setSubtitle(a.subTitle)}e.setActiveTitle(!!g.oTableRowContext);if(g.oTableRowContext){this._formatMessageDescription(e,g.oTableRowContext,g.sTableTargetColName,m)}b=g.oTableRowContext&&g.oTableRowContext.getIndex();this._updateInternalModel(g.oTableRowContext,b,g.sTableTargetColProperty,m,u)}}else{e.setActiveTitle(true);const t=i.bIsOrphanElement(v,r);if(t){e.setSubtitle("");break}}}}else{v=r[0];m=this._getMdcTable(v);if(m){g={};g.tableHeader=m.getHeader();const t=this._getTableColumnIndex(v);g.sTableTargetColProperty=t>-1?m.getColumns()[t].getDataProperty():undefined;g.sTableTargetColName=g.sTableTargetColProperty&&t>-1?m.getColumns()[t].getHeader():undefined;y=this._getTableRow(v).isA("sap.ui.table.CreationRow");if(!y){b=this._getTableRowIndex(v);g.oTableRowBindingContexts=m.getRowBinding().getCurrentContexts();g.oTableRowContext=g.oTableRowBindingContexts[b]}const n=i.getMessageSubtitle(u,g.oTableRowBindingContexts,g.oTableRowContext,g.sTableTargetColName,m,y,t===0&&v.getValueState()==="Error"?v:undefined);if(n){e.setSubtitle(n)}e.setActiveTitle(true);this._updateInternalModel(g.oTableRowContext,b,g.sTableTargetColProperty,m,u,y)}}if(d){const t=i.createSectionGroupName(n,a,o,g,c);e.setGroupName(t);const r=this._getViewId(this.getId());const l=p.byId(r);const s=u.getTargets()[0]&&u.getTargets()[0].split("/").pop();const d=l===null||l===void 0?void 0:l.getModel("internal");if(d&&d.getProperty("/messageTargetProperty")&&s&&s===d.getProperty("/messageTargetProperty")){this.oMessagePopover.fireActiveTitlePress({item:e});d.setProperty("/messageTargetProperty",false)}}this.oItemBinding.attachChange(this._setMessageData,this);return v};u._checkControlIdInSections=function t(e){let n,a,r,o,l,s;this.sGeneralGroupText=this.sGeneralGroupText?this.sGeneralGroupText:p.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");const c=i.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);if(c){var u;const t=this._getViewId(this.getId());const d=p.byId(t);const f=d===null||d===void 0?void 0:(u=d.getBindingContext("internal"))===null||u===void 0?void 0:u.getProperty("sActionName");if(f){(d===null||d===void 0?void 0:d.getBindingContext("internal")).setProperty("sActionName",null)}for(o=e.length-1;o>=0;--o){r=e[o];let t=true;for(l=c.length-1;l>=0;--l){n=c[l];a=n.getSubSections();for(s=a.length-1;s>=0;--s){const e=a[s];const o=r.getBindingContext("message").getObject();const c=i.getControlFromMessageRelatingToSubSection(e,o);if(c.length>0){const i=this._computeMessageGroupAndSubTitle(r,n,e,c,a.length>1,f);if(i&&!i.isA("sap.m.Table")&&!i.isA("sap.ui.table.Table")){l=s=-1}t=false}}}if(t){const t=r.getBindingContext("message").getObject();r.setActiveTitle(false);if(t.persistent&&f){this._setGroupLabelForTransientMsg(r,f)}else{r.setGroupName(this.sGeneralGroupText)}}}}};u._findTargetForMessage=function t(e){const i=e.getBindingContext("message")&&e.getBindingContext("message").getObject();if(i&&i.target){const t=this.oObjectPageLayout&&this.oObjectPageLayout.getModel()&&this.oObjectPageLayout.getModel().getMetaModel(),e=t&&t.getMetaPath(i.target),n=t&&t.getObject(e);if(n&&n.$kind==="Property"){return true}}};u._fnEnableBindings=function t(i){if(e.fromQuery(window.location.search).get("sap-fe-xx-lazyloadingtest")){return}for(let t=0;t<i.length;t++){const e=i[t];let a=false;const r=e.getSubSections();for(let t=0;t<r.length;t++){const e=r[t];const i=e.getBlocks();if(i){for(let t=0;t<e.getBlocks().length;t++){var n;if(i[t].getContent&&!((n=i[t].getContent())!==null&&n!==void 0&&n.isA("sap.fe.macros.table.TableAPI"))){a=true;break}}if(a){e.setBindingContext(undefined)}}if(e.getBindingContext()){this._findMessageGroupAfterRebinding();e.getBindingContext().getBinding().attachDataReceived(this._findMessageGroupAfterRebinding.bind(this))}}}};u._findMessageGroupAfterRebinding=function t(){const e=this.oMessagePopover.getItems();this._checkControlIdInSections(e)};u._getViewId=function t(e){let i,n=p.byId(e);while(n){if(n instanceof f){i=n.getId();break}n=n.getParent()}return i};u._setLongtextUrlDescription=function e(i,n){this.oMessagePopover.setAsyncDescriptionHandler(function(e){const a=i;const r=e.item.getLongtextUrl();if(r){jQuery.ajax({type:"GET",url:r,success:function(t){const i=n.getHtmlText()+t;e.item.setDescription(`${a}${i}`);e.promise.resolve()},error:function(){e.item.setDescription(i);const n=`A request has failed for long text data. URL: ${r}`;t.error(n);e.promise.reject(n)}})}})};u._formatMessageDescription=function t(e,n,a,r){var o;const l=F(r);const s=r.getParent().getIdentifierColumn();let u="";const p=(o=e.getBindingContext("message"))===null||o===void 0?void 0:o.getObject();const d=i.fetchColumnInfo(p,r);if(a){u=`${l.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")}: ${a}`}else if(d){if(d.availability==="Hidden"){if(e.getType()==="Error"){u=s?`${l.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC_ERROR")} ${n.getValue(s)}`+".":`${l.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC_ERROR")}`+"."}else{u=s?`${l.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC")} ${n.getValue(s)}`+".":`${l.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC")}`+"."}}else{if(!this._navigationConfigured(r)){e.setActiveTitle(false)}u=`${l.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")}: ${d.label} (${l.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")})`}}const f=new c({htmlText:`<html><body><strong>${l.getText("T_FIELDS_AFFECTED_TITLE")}</strong></body></html><br>`});let m;if(s){m=`${f.getHtmlText()}<br>${l.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${r.getHeader()}<br>${l.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${n.getValue(s)}<br>${u}<br>`}else if(u==""||!u){m=""}else{m=`${f.getHtmlText()}<br>${l.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${r.getHeader()}<br>${u}<br>`}const g=new c({htmlText:`<html><body><strong>${l.getText("T_DIAGNOSIS_TITLE")}</strong></body></html><br>`});const h=e.getBindingContext("message").getObject().description;e.setDescription(null);let b="";let v="";if(e.getLongtextUrl()){v=`${m}<br>`;this._setLongtextUrlDescription(v,g)}else if(h){b=`${g.getHtmlText()}<br>${h}`;v=`${m}<br>${b}`;e.setDescription(v)}else{e.setDescription(m)}};u._setMessageData=function e(){clearTimeout(this._setMessageDataTimeout);this._setMessageDataTimeout=setTimeout(async()=>{const e="",i=this.oMessagePopover.getItems(),n={Error:0,Warning:0,Success:0,Information:0},a=p.getLibraryResourceBundle("sap.fe.core"),r=i.length;let o=T.Default,l="",s="",c="";if(r>0){for(let t=0;t<r;t++){if(!i[t].getType()||i[t].getType()===""){++n["Information"]}else{++n[i[t].getType()]}}if(n[x.Error]>0){o=T.Negative}else if(n[x.Warning]>0){o=T.Critical}else if(n[x.Success]>0){o=T.Success}else if(n[x.Information]>0){o=T.Neutral}const u=n[x.Error]+n[x.Warning]+n[x.Success]+n[x.Information];this.setText(u.toString());if(n.Error===1){l="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"}else if(n.Error>1){l="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_MULTIPLE_ERROR_TOOLTIP"}else if(!n.Error&&n.Warning){l="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_WARNING_TOOLTIP"}else if(!n.Error&&!n.Warning&&n.Information){l="C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO"}else if(!n.Error&&!n.Warning&&!n.Information&&n.Success){l="C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS"}if(l){c=a.getText(l);s=n.Error?`${n.Error} ${c}`:c;this.setTooltip(s)}this.setIcon(e);this.setType(o);this.setVisible(true);const d=p.byId(this.sViewId);if(d){const i=d.getController().pageReady;try{await i.waitPageReady();await this._applyGroupingAsync(d)}catch(e){t.error("fail grouping messages")}this.fireMessageChange({iMessageLength:r})}if(r>1){this.oMessagePopover.navigateBack()}}else{this.setVisible(false);this.fireMessageChange({iMessageLength:r})}},100)};u._activeTitlePress=async function e(i){const n=this.getBindingContext("pageInternal");n.setProperty("errorNavigationSectionFlag",true);const a=i.getParameter("item"),r=a.getBindingContext("message").getObject(),o=new RegExp("^/").test(r.getTarget()),l=p.byId(this.sViewId);let s,c;const u=function(t,e){const i={preventScroll:true,targetInfo:t};e.focus(i)};if(a.getGroupName().indexOf("Table:")!==-1){let i;if(o){i=r.controlIds.map(function(t){const e=p.byId(t);const i=e&&e.getParent();return i&&i.isA("sap.ui.mdc.Table")&&i.getHeader()===a.getGroupName().split(", Table: ")[1]?i:null}).reduce(function(t,e){return e?e:t});if(i){c=a.getGroupName().split(", ")[0];try{await this._navigateFromMessageToSectionTableInIconTabBarMode(i,this.oObjectPageLayout,c);const n=this._getTableRefErrorContext(i);const o=n.getProperty(a.getBindingContext("message").getObject().getId());const s=async(t,e)=>{const i=this._getMdcTableRows(t),n=this._getGridTable(t).getFirstVisibleRow();if(i.length>0&&i[0]){const a=i[e-n],o=this.getTargetCell(a,r);if(o){this.setFocusToControl(o);return undefined}else{const e=r.getTarget().split("/").pop();if(e){l.getModel("internal").setProperty("/messageTargetProperty",e)}if(this._navigationConfigured(t)){return l.getController()._routing.navigateForwardToContext(a.getBindingContext())}else{return false}}}return undefined};if(i.data("tableType")==="GridTable"&&o.rowIndex!==""){const n=this._getGridTable(i).getFirstVisibleRow();try{await i.scrollToIndex(o.rowIndex);const t=this._getMdcTableRows(i);let e,a;if(t.length>0&&t[0]){e=t[0].getParent().getFirstVisibleRow();a=n-e!==0}let l;if(a){l=new Promise(function(t){p.attachEvent("UIUpdated",t)})}else{l=Promise.resolve()}await l;setTimeout(async function(){const t=await s(i,o.rowIndex);if(t===false){u(r,i)}},0)}catch(e){t.error("Error while focusing on error")}}else if(i.data("tableType")==="ResponsiveTable"&&o){const t=await this.focusOnMessageTargetControl(l,r,i,o.rowIndex);if(t===false){u(r,i)}}else{this.focusOnMessageTargetControl(l,r)}}catch(e){t.error("Fail to navigate to Error control")}}}else{s=p.byId(r.controlIds[0]);const t=p.byId(this.oObjectPageLayout.getSelectedSection());if((t===null||t===void 0?void 0:t.findElements(true).indexOf(s))===-1){c=a.getGroupName().split(", ")[0];this._navigateFromMessageToSectionInIconTabBarMode(this.oObjectPageLayout,c)}this.setFocusToControl(s)}}else{c=a.getGroupName().split(", ")[0];this._navigateFromMessageToSectionInIconTabBarMode(this.oObjectPageLayout,c);this.focusOnMessageTargetControl(l,r)}};u.getTargetCell=function t(e,i){return i.getControlIds().length>0?i.getControlIds().map(function(t){const i=e.findElements(true,function(e){return e.getId()===t});return i.length>0?p.byId(t):null}).reduce(function(t,e){return e?e:t}):null};u.focusOnMessageTargetControl=async function t(e,i,n,a){const r=e.findElements(true);const o=i.getControlIds().filter(function(t){return r.some(function(e){return e.getId()===t&&e.getDomRef()})}).map(function(t){return p.byId(t)});const s=o.filter(function(t){return!t.isA("sap.m.Table")&&!t.isA("sap.ui.table.Table")});if(s.length>0){this.setFocusToControl(s[0]);return undefined}else if(o.length>0){const t=n?n.findElements(true,function(t){return t.isA(l.getMetadata().getName())}):[];if(t.length>0&&t[0]){const r=t[a];const o=this.getTargetCell(r,i);if(o){const t=o.isA("sap.fe.macros.field.FieldAPI")?o.getContent().getContentEdit()[0]:o.getItems()[0].getContent().getContentEdit()[0];this.setFocusToControl(t);return undefined}else{const t=i.getTarget().split("/").pop();if(t){e.getModel("internal").setProperty("/messageTargetProperty",t)}if(this._navigationConfigured(n)){return e.getController()._routing.navigateForwardToContext(r.getBindingContext())}else{return false}}}return undefined}return undefined};u._getMessageRank=function t(e,i){if(i){let t,n,a,r,o,l,s,c;for(r=i.length-1;r>=0;--r){t=i[r];n=t.getSubSections();for(o=n.length-1;o>=0;--o){a=n[o];s=a.findElements(true);l=s.filter(this._fnFilterUponId.bind(this,e.getControlId()));c=r+1;if(l.length>0){if(t.getVisible()&&a.getVisible()){if(!e.hasOwnProperty("sectionName")){e.sectionName=t.getTitle()}if(!e.hasOwnProperty("subSectionName")){e.subSectionName=a.getTitle()}return c*10+(o+1)}else{return 1}}}}if(!e.sectionName&&!e.subSectionName&&e.persistent){return 1}return 999}return 999};u._applyFiltersAndSort=function t(){let e,i,n,a,r,o,l=null;const c=[];const u=()=>{const t=t=>{let e=Infinity,i=p.byId(t[0]);const n=p.byId(t[0]);while(i){const t=i instanceof s?(n===null||n===void 0?void 0:n.getParent()).findElements(true).indexOf(n):Infinity;if(i instanceof s){if(e>t){e=t;this.setFocusToControl(n)}return false}i=i.getParent()}return true};return new m({path:"controlIds",test:t,caseSensitive:true})};function d(){const t=function(t){if(!t.length){return false}let e=p.byId(t[0]);while(e){if(e.getId()===f){return true}if(e instanceof s){return false}e=e.getParent()}return false};return new m({path:"controlIds",test:t,caseSensitive:true})}if(!this.sViewId){this.sViewId=this._getViewId(this.getId())}const f=this.sViewId;const b=this.getAggregation("customFilters");if(b){b.forEach(function(t){c.push(new m({path:t.getProperty("path"),operator:t.getProperty("operator"),value1:t.getProperty("value1"),value2:t.getProperty("value2")}))})}const v=this.getBindingContext();if(!v){this.setVisible(false);return}else{a=v.getPath();e=new m({filters:[new m({path:"validation",operator:g.EQ,value1:true}),d()],and:true});i=new m({filters:[e,new m({path:"target",operator:g.StartsWith,value1:a})],and:false});o=new m({filters:[u()]})}const y=new m({filters:[i,o],and:true});if(c.length>0){n=new m({filters:[c,y],and:false})}else{n=y}this.oItemBinding.filter(n);this.oObjectPageLayout=this._getObjectPageLayout(this,this.oObjectPageLayout);if(this.oObjectPageLayout){r=new h("",null,null,(t,e)=>{if(!l){l=this.oObjectPageLayout&&this.oObjectPageLayout.getSections()}const i=this._getMessageRank(t,l);const n=this._getMessageRank(e,l);if(i<n){return-1}if(i>n){return 1}return 0});this.oItemBinding.sort(r)}};u._fnFilterUponId=function t(e,i){return e===i.getId()};u._getSectionBySectionTitle=function t(e,i){let n;if(i){const t=e.getSections();for(let e=0;e<t.length;e++){if(t[e].getVisible()&&t[e].getTitle()===i){n=t[e];break}}}return n};u._navigateFromMessageToSectionInIconTabBarMode=function t(e,i){const n=e.getUseIconTabBar();if(n){const t=this._getSectionBySectionTitle(e,i);const n=e.getSelectedSection();if(t&&n!==t.getId()){e.setSelectedSection(t.getId())}}};u._navigateFromMessageToSectionTableInIconTabBarMode=async function t(e,i,n){const a=e.getRowBinding();const r=e.getBindingContext();const o=i.getBindingContext();const l=!(r===o);this._navigateFromMessageToSectionInIconTabBarMode(i,n);return new Promise(function(t){if(l){a.attachEventOnce("change",function(){t()})}else{t()}})};u._getMdcTable=function t(e){let i=e.getParent();while(i&&!i.isA("sap.ui.mdc.Table")){i=i.getParent()}return i&&i.isA("sap.ui.mdc.Table")?i:undefined};u._getGridTable=function t(e){return e.findElements(true,function(t){return t.isA("sap.ui.table.Table")&&t.getParent()===e})[0]};u._getTableRow=function t(e){let i=e.getParent();while(i&&!i.isA("sap.ui.table.Row")&&!i.isA("sap.ui.table.CreationRow")&&!i.isA(l.getMetadata().getName())){i=i.getParent()}return i&&(i.isA("sap.ui.table.Row")||i.isA("sap.ui.table.CreationRow")||i.isA(l.getMetadata().getName()))?i:undefined};u._getTableRowIndex=function t(e){const i=this._getTableRow(e);let n;if(i.isA("sap.ui.table.Row")){n=i.getIndex()}else{n=i.getTable().getItems().findIndex(function(t){return t.getId()===i.getId()})}return n};u._getTableColumnIndex=function t(e){const i=function(t,e){return e.getCells().findIndex(function(e){return e.getId()===t.getId()})};const n=function(t,e){let n=t.getParent(),a=i(n,e);while(n&&a<0){n=n.getParent();a=i(n,e)}return a};const a=this._getTableRow(e);let r;r=n(e,a);if(a.isA("sap.ui.table.CreationRow")){const t=a.getCells()[r].getId(),e=a.getTable().getColumns();r=e.findIndex(function(e){if(e.getCreationTemplate()){return t.search(e.getCreationTemplate().getId())>-1?true:false}else{return false}})}return r};u._getMdcTableRows=function t(e){return e.findElements(true,function(t){return t.isA("sap.ui.table.Row")&&t.getTable().getParent()===e})};u._getObjectPageLayout=function t(e,i){if(i){return i}i=e;while(i&&!i.isA("sap.uxap.ObjectPageLayout")){i=i.getParent()}return i};u._navigationConfigured=function t(e){const i=sap.ui.require("sap/ui/core/Component"),n=e&&i.getOwnerComponentFor(e)&&i.getOwnerComponentFor(e).getNavigation();let a=false,r=false;if(n&&Object.keys(n).indexOf(e.getRowBinding().sPath)!==-1){a=n[e===null||e===void 0?void 0:e.getRowBinding().sPath]&&n[e===null||e===void 0?void 0:e.getRowBinding().sPath].detail&&n[e===null||e===void 0?void 0:e.getRowBinding().sPath].detail.route?true:false}r=a&&(e===null||e===void 0?void 0:e.getRowSettings().getRowActions())&&(e===null||e===void 0?void 0:e.getRowSettings().getRowActions()[0].mProperties.type.indexOf("Navigation"))!==-1;return r};u.setFocusToControl=function e(i){const n=this.oMessagePopover;if(n&&i&&i.focus){const t=()=>{i.focus()};if(!n.isOpen()){setTimeout(t,0)}else{const e=()=>{setTimeout(t,0);n.detachEvent("afterClose",e)};n.attachEvent("afterClose",e);n.close()}}else{t.warning("FE V4 : MessageButton : element doesn't have focus method for focusing.")}};return a}(o),D=L(C.prototype,"customFilters",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),$=L(C.prototype,"messageChange",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),C))||P);return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/messages/MessageFilter",["sap/fe/core/helpers/ClassSupport","sap/ui/core/Element","sap/ui/model/FilterOperator"],function(t,e,i){"use strict";var n,a,r,o,l,s,c,u,p,d,f;var m=t.property;var g=t.defineUI5Class;function h(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function v(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;y(t,e)}function y(t,e){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return y(t,e)}function P(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function C(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let D=(n=g("sap.fe.macros.messages.MessageFilter"),a=m({type:"string"}),r=m({type:"sap.ui.model.FilterOperator"}),o=m({type:"string"}),l=m({type:"string"}),n(s=(c=function(t){v(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;h(e,"path",u,b(e));h(e,"operator",p,b(e));h(e,"value1",d,b(e));h(e,"value2",f,b(e));return e}return e}(e),u=P(c.prototype,"path",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),p=P(c.prototype,"operator",[r],{configurable:true,enumerable:true,writable:true,initializer:function(){return i.Contains}}),d=P(c.prototype,"value1",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=P(c.prototype,"value2",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||s);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/messages/MessagePopover",["sap/fe/core/helpers/ClassSupport","sap/m/MessageItem","sap/m/MessagePopover"],function(t,e,i){"use strict";var n,a;var r=t.defineUI5Class;function o(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;l(t,e)}function l(t,e){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return l(t,e)}let s=(n=r("sap.fe.macros.messages.MessagePopover"),n(a=function(t){o(n,t);function n(){return t.apply(this,arguments)||this}var a=n.prototype;a.init=function t(){i.prototype.init.apply(this);this.setModel(sap.ui.getCore().getMessageManager().getMessageModel(),"message");this.bindAggregation("items",{path:"message>/",length:9999,template:new e({type:"{message>type}",title:"{message>message}",description:"{message>description}",markupDescription:true,longtextUrl:"{message>descriptionUrl}",subtitle:"{message>additionalText}",activeTitle:"{= ${message>controlIds}.length > 0 ? true : false}"})});this.setGroupItems(true)};return n}(i))||a);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/microchart/MicroChart.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,i,n,a,r,o,l){"use strict";var s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B;var V={};var j=r.hasValidAnalyticalCurrencyOrUnit;var R=a.pathInModel;var U=a.or;var k=a.not;var N=a.equal;var H=n.getInvolvedDataModelObjects;var z=n.convertMetaModelContext;var W=i.xml;var q=e.defineBuildingBlock;var G=e.blockAttribute;function Q(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function X(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function K(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;J(t,e)}function J(t,e){J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return J(t,e)}function Y(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function Z(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let tt=(s=q({name:"MicroChart",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros"}),c=G({type:"string",isPublic:true,required:true}),u=G({type:"sap.ui.model.Context",expectedTypes:["EntitySet","NavigationProperty"],isPublic:true}),p=G({type:"sap.ui.model.Context",isPublic:true,required:true}),d=G({type:"string",isPublic:true}),f=G({type:"string"}),m=G({type:"string"}),g=G({type:"string"}),h=G({type:"string"}),b=G({type:"sap.fe.macros.NavigationType"}),v=G({type:"function"}),y=G({type:"string",isPublic:true}),P=G({type:"boolean"}),C=G({type:"sap.ui.model.Context"}),s(D=($=function(t){K(e,t);function e(e){var i;i=t.call(this,e)||this;Q(i,"id",x,X(i));Q(i,"contextPath",T,X(i));Q(i,"metaPath",F,X(i));Q(i,"showOnlyChart",O,X(i));Q(i,"batchGroupId",I,X(i));Q(i,"title",M,X(i));Q(i,"hideOnNoData",A,X(i));Q(i,"description",E,X(i));Q(i,"navigationType",w,X(i));Q(i,"onTitlePressed",S,X(i));Q(i,"size",L,X(i));Q(i,"isAnalytics",_,X(i));Q(i,"DataPoint",B,X(i));i.metaPath=i.metaPath.getModel().createBindingContext(l.resolve$Path(i.metaPath));const n=o.getMeasureAttributeForMeasure(i.metaPath.getModel().createBindingContext("Measures/0",i.metaPath));if(n){i.DataPoint=i.metaPath.getModel().createBindingContext(n)}return i}V=e;var i=e.prototype;i.getMicroChartContent=function t(){const e=z(this.metaPath);switch(e.ChartType){case"UI.ChartType/Bullet":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.BulletMicroChart" type="XML" />`;case"UI.ChartType/Donut":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.RadialMicroChart" type="XML" />`;case"UI.ChartType/Pie":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.HarveyBallMicroChart" type="XML" />`;case"UI.ChartType/BarStacked":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.StackedBarMicroChart" type="XML" />`;case"UI.ChartType/Area":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.AreaMicroChart" type="XML" />`;case"UI.ChartType/Column":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.ColumnMicroChart" type="XML" />`;case"UI.ChartType/Line":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.LineMicroChart" type="XML" />`;case"UI.ChartType/Bar":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.ComparisonMicroChart" type="XML" />`;default:return`<m:Text text="This chart type is not supported. Other Types yet to be implemented.." />`}};i.getTemplate=function t(){const e=H(this.metaPath.getModel().createBindingContext("Value/$Path",this.DataPoint),this.contextPath);const i=j(e);const n=U(k(R("@$ui5.node.isExpanded")),N(R("@$ui5.node.level"),0));if(this.isAnalytics){return W`<controls:ConditionalWrapper
				xmlns:controls="sap.fe.macros.controls"
				condition="${i}"
				visible="${n}" >
				<controls:contentTrue>
					${this.getMicroChartContent()}
				</controls:contentTrue>
				<controls:contentFalse>
					<m:Text text="*" />
				</controls:contentFalse>
			</controls:ConditionalWrapper>`}else{return this.getMicroChartContent()}};return e}(t),x=Y($.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),T=Y($.prototype,"contextPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),F=Y($.prototype,"metaPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),O=Y($.prototype,"showOnlyChart",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),I=Y($.prototype,"batchGroupId",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),M=Y($.prototype,"title",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),A=Y($.prototype,"hideOnNoData",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),E=Y($.prototype,"description",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),w=Y($.prototype,"navigationType",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return"None"}}),S=Y($.prototype,"onTitlePressed",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),L=Y($.prototype,"size",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),_=Y($.prototype,"isAnalytics",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),B=Y($.prototype,"DataPoint",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),$))||D);V=tt;return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/microchart/MicroChartContainer",["sap/base/Log","sap/chart/coloring/CriticalityType","sap/fe/core/helpers/ClassSupport","sap/fe/macros/library","sap/m/FlexBox","sap/m/Label","sap/m/library","sap/suite/ui/microchart/AreaMicroChart","sap/suite/ui/microchart/ColumnMicroChart","sap/suite/ui/microchart/ComparisonMicroChart","sap/suite/ui/microchart/LineMicroChart","sap/ui/core/Control","sap/ui/core/format/NumberFormat","sap/ui/model/odata/v4/ODataListBinding","sap/ui/model/odata/v4/ODataMetaModel","sap/ui/model/type/Date"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g){"use strict";var h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V,j,R,U,k,N,H,z,W,q,G,Q,X,K;var J=i.property;var Y=i.event;var Z=i.defineUI5Class;var tt=i.aggregation;function et(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function it(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function nt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;at(t,e)}function at(t,e){at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return at(t,e)}function rt(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function ot(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const lt=n.NavigationType;const st=o.ValueColor;let ct=(h=Z("sap.fe.macros.microchart.MicroChartContainer"),b=J({type:"boolean",defaultValue:false}),v=J({type:"string",defaultValue:undefined}),y=J({type:"string[]",defaultValue:[]}),P=J({type:"string",defaultValue:undefined}),C=J({type:"string[]",defaultValue:[]}),D=J({type:"int",defaultValue:undefined}),$=J({type:"int",defaultValue:1}),x=J({type:"int",defaultValue:undefined}),T=J({type:"string",defaultValue:""}),F=J({type:"string",defaultValue:""}),O=J({type:"sap.fe.macros.NavigationType",defaultValue:"None"}),I=J({type:"string",defaultValue:""}),M=Y(),A=tt({type:"sap.ui.core.Control",multiple:false,isDefault:true}),E=tt({type:"sap.m.Label",multiple:false}),w=tt({type:"sap.ui.core.Control",multiple:true}),h(S=(L=function(i){nt(n,i);function n(){var t;for(var e=arguments.length,n=new Array(e),a=0;a<e;a++){n[a]=arguments[a]}t=i.call(this,...n)||this;et(t,"showOnlyChart",_,it(t));et(t,"uomPath",B,it(t));et(t,"measures",V,it(t));et(t,"dimension",j,it(t));et(t,"dataPointQualifiers",R,it(t));et(t,"measurePrecision",U,it(t));et(t,"measureScale",k,it(t));et(t,"dimensionPrecision",N,it(t));et(t,"chartTitle",H,it(t));et(t,"chartDescription",z,it(t));et(t,"navigationType",W,it(t));et(t,"calendarPattern",q,it(t));et(t,"onTitlePressed",G,it(t));et(t,"microChart",Q,it(t));et(t,"_uomLabel",X,it(t));et(t,"microChartTitle",K,it(t));return t}n.render=function t(e,i){e.openStart("div",i);e.openEnd();if(!i.showOnlyChart){const t=i.microChartTitle;if(t){t.forEach(function(t){e.openStart("div");e.openEnd();e.renderControl(t);e.close("div")})}e.openStart("div");e.openEnd();const n=new r({text:i.chartDescription});e.renderControl(n);e.close("div")}const n=i.microChart;if(n){n.addStyleClass("sapUiTinyMarginTopBottom");e.renderControl(n);if(!i.showOnlyChart&&i.uomPath){const t=i._checkIfChartRequiresRuntimeLabels()?undefined:{text:{path:i.uomPath}},n=new r(t),o=new a({alignItems:"Start",justifyContent:"End",items:[n]});e.renderControl(o);i.setAggregation("_uomLabel",n)}}e.close("div")};var o=n.prototype;o.onBeforeRendering=function t(){const e=this._getListBindingForRuntimeLabels();if(e){e.detachEvent("change",this._setRuntimeChartLabelsAndUnitOfMeasure,this);this._olistBinding=undefined}};o.onAfterRendering=function t(){const e=this._getListBindingForRuntimeLabels();if(!this._checkIfChartRequiresRuntimeLabels()){return}if(e){e.attachEvent("change",this._setRuntimeChartLabelsAndUnitOfMeasure,this);this._olistBinding=e}};o.setShowOnlyChart=function t(e){if(!e&&this._olistBinding){this._setChartLabels()}this.setProperty("showOnlyChart",e,false)};o._checkIfChartRequiresRuntimeLabels=function t(){const e=this.microChart;return Boolean(e instanceof l||e instanceof s||e instanceof u||e instanceof c)};o._checkForChartLabelAggregations=function t(){const e=this.microChart;return Boolean(e instanceof l&&e.getAggregation("firstYLabel")&&e.getAggregation("lastYLabel")&&e.getAggregation("firstXLabel")&&e.getAggregation("lastXLabel")||e instanceof s&&e.getAggregation("leftTopLabel")&&e.getAggregation("rightTopLabel")&&e.getAggregation("leftBottomLabel")&&e.getAggregation("rightBottomLabel")||e instanceof u)};o._getListBindingForRuntimeLabels=function t(){const e=this.microChart;let i;if(e instanceof l){const t=e.getChart();i=t&&t.getBinding("points")}else if(e instanceof s){i=e.getBinding("columns")}else if(e instanceof u){const t=e.getLines();i=t&&t.length&&t[0].getBinding("points")}else if(e instanceof c){i=e.getBinding("data")}return i instanceof f?i:false};o._setRuntimeChartLabelsAndUnitOfMeasure=async function t(){const e=this._olistBinding,i=e===null||e===void 0?void 0:e.getContexts(),n=this.measures,a=this.dimension,r=this.uomPath,o=this.microChart,l=this._uomLabel;if(l&&r&&i&&i.length&&!this.showOnlyChart){l.setText(i[0].getObject(r))}else if(l){l.setText("")}if(!this._checkForChartLabelAggregations()){return}if(!i||!i.length){this._setChartLabels();return}const s=i[0],c=i[i.length-1],p=[],d=o instanceof u,f=s.getObject(a),m=c.getObject(a);let g,h,b={value:Infinity},v={value:-Infinity},y={value:Infinity},P={value:-Infinity};b=f==undefined?b:{context:s,value:f};v=m==undefined?v:{context:c,value:m};if(n!==null&&n!==void 0&&n.length){n.forEach((t,e)=>{g=s.getObject(t);h=c.getObject(t);P=h>P.value?{context:c,value:h,index:d?e:0}:P;y=g<y.value?{context:s,value:g,index:d?e:0}:y;if(d){p.push(this._getCriticalityFromPoint({context:c,value:h,index:e}))}})}this._setChartLabels(y.value,P.value,b.value,v.value);if(d){const t=await Promise.all(p);if(t!==null&&t!==void 0&&t.length){const e=o.getLines();e.forEach(function(e,i){e.setColor(t[i])})}}else{await this._setChartLabelsColors(P,y)}};o._setChartLabelsColors=async function t(e,i){const n=this.microChart;const a=await Promise.all([this._getCriticalityFromPoint(i),this._getCriticalityFromPoint(e)]);if(n instanceof l){n.getAggregation("firstYLabel").setProperty("color",a[0],true);n.getAggregation("lastYLabel").setProperty("color",a[1],true)}else if(n instanceof s){n.getAggregation("leftTopLabel").setProperty("color",a[0],true);n.getAggregation("rightTopLabel").setProperty("color",a[1],true)}};o._setChartLabels=function t(e,i,n,a){const r=this.microChart;e=this._formatDateAndNumberValue(e,this.measurePrecision,this.measureScale);i=this._formatDateAndNumberValue(i,this.measurePrecision,this.measureScale);n=this._formatDateAndNumberValue(n,this.dimensionPrecision,undefined,this.calendarPattern);a=this._formatDateAndNumberValue(a,this.dimensionPrecision,undefined,this.calendarPattern);if(r instanceof l){r.getAggregation("firstYLabel").setProperty("label",e,false);r.getAggregation("lastYLabel").setProperty("label",i,false);r.getAggregation("firstXLabel").setProperty("label",n,false);r.getAggregation("lastXLabel").setProperty("label",a,false)}else if(r instanceof s){r.getAggregation("leftTopLabel").setProperty("label",e,false);r.getAggregation("rightTopLabel").setProperty("label",i,false);r.getAggregation("leftBottomLabel").setProperty("label",n,false);r.getAggregation("rightBottomLabel").setProperty("label",a,false)}else if(r instanceof u){r.setProperty("leftTopLabel",e,false);r.setProperty("rightTopLabel",i,false);r.setProperty("leftBottomLabel",n,false);r.setProperty("rightBottomLabel",a,false)}};o._getCriticalityFromPoint=async function t(e){if(e!==null&&e!==void 0&&e.context){const t=this.getModel()&&this.getModel().getMetaModel(),i=this.dataPointQualifiers,n=t instanceof m&&e.context.getPath()&&t.getMetaPath(e.context.getPath());if(typeof n==="string"){const a=await t.requestObject(`${n}/@${"com.sap.vocabularies.UI.v1.DataPoint"}${e.index!==undefined&&i[e.index]?`#${i[e.index]}`:""}`);if(a){let t=st.Neutral;const i=e.context;if(a.Criticality){t=this._criticality(a.Criticality,i)}else if(a.CriticalityCalculation){const n=a.CriticalityCalculation;const r=function(t){let e;if(t!==null&&t!==void 0&&t.$Path){e=i.getObject(t.$Path)}else if(t!==null&&t!==void 0&&t.hasOwnProperty("$Decimal")){e=t.$Decimal}return e};t=this._criticalityCalculation(n.ImprovementDirection.$EnumMember,e.value,r(n.DeviationRangeLowValue),r(n.ToleranceRangeLowValue),r(n.AcceptanceRangeLowValue),r(n.AcceptanceRangeHighValue),r(n.ToleranceRangeHighValue),r(n.DeviationRangeHighValue))}return t}}}return Promise.resolve(st.Neutral)};o._criticality=function i(n,a){let r,o;if(n.$Path){r=a.getObject(n.$Path);if(r===e.Negative||r.toString()==="1"){o=st.Error}else if(r===e.Critical||r.toString()==="2"){o=st.Critical}else if(r===e.Positive||r.toString()==="3"){o=st.Good}}else if(n.$EnumMember){r=n.$EnumMember;if(r.indexOf("com.sap.vocabularies.UI.v1.CriticalityType/Negative")>-1){o=st.Error}else if(r.indexOf("com.sap.vocabularies.UI.v1.CriticalityType/Positive")>-1){o=st.Good}else if(r.indexOf("com.sap.vocabularies.UI.v1.CriticalityType/Critical")>-1){o=st.Critical}}if(o===undefined){t.warning("Case not supported, returning the default Value Neutral");return st.Neutral}return o};o._criticalityCalculation=function e(i,n,a,r,o,l,s,c){let u;a=a==undefined?-Infinity:a;r=r==undefined?a:r;o=o==undefined?r:o;c=c==undefined?Infinity:c;s=s==undefined?c:s;l=l==undefined?s:l;if(i.indexOf("Minimize")>-1){if(n<=l){u=st.Good}else if(n<=s){u=st.Neutral}else if(n<=c){u=st.Critical}else{u=st.Error}}else if(i.indexOf("Maximize")>-1){if(n>=o){u=st.Good}else if(n>=r){u=st.Neutral}else if(n>=a){u=st.Critical}else{u=st.Error}}else if(i.indexOf("Target")>-1){if(n<=l&&n>=o){u=st.Good}else if(n>=r&&n<o||n>l&&n<=s){u=st.Neutral}else if(n>=a&&n<r||n>s&&n<=c){u=st.Critical}else{u=st.Error}}if(u===undefined){t.warning("Case not supported, returning the default Value Neutral");return st.Neutral}return u};o._formatDateAndNumberValue=function t(e,i,n,a){if(a){return this._getSemanticsValueFormatter(a).formatValue(e,"string")}else if(!isNaN(e)){return this._getLabelNumberFormatter(i,n).format(e)}return e};o._getSemanticsValueFormatter=function t(e){if(!this._oDateType){this._oDateType=new g({style:"short",source:{pattern:e}})}return this._oDateType};o._getLabelNumberFormatter=function t(e,i){return d.getFloatInstance({style:"short",showScale:true,precision:typeof e==="number"&&e||0,decimals:typeof i==="number"&&i||0})};return n}(p),_=rt(L.prototype,"showOnlyChart",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),B=rt(L.prototype,"uomPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),V=rt(L.prototype,"measures",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),j=rt(L.prototype,"dimension",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),R=rt(L.prototype,"dataPointQualifiers",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),U=rt(L.prototype,"measurePrecision",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),k=rt(L.prototype,"measureScale",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),N=rt(L.prototype,"dimensionPrecision",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),H=rt(L.prototype,"chartTitle",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),z=rt(L.prototype,"chartDescription",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),W=rt(L.prototype,"navigationType",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),q=rt(L.prototype,"calendarPattern",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),G=rt(L.prototype,"onTitlePressed",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=rt(L.prototype,"microChart",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),X=rt(L.prototype,"_uomLabel",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),K=rt(L.prototype,"microChartTitle",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),L))||S);return ct},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/microchart/MicroChartHelper",["sap/base/Log","sap/fe/macros/CommonHelper","sap/m/library","sap/ui/core/format/DateFormat"],function(t,e,i,n){"use strict";const a=i.ValueColor;const r={yyyy:/[1-9][0-9]{3,}|0[0-9]{3}/,Q:/[1-4]/,MM:/0[1-9]|1[0-2]/,ww:/0[1-9]|[1-4][0-9]|5[0-3]/,yyyyMMdd:/([1-9][0-9]{3,}|0[0-9]{3})(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])/,yyyyMM:/([1-9][0-9]{3,}|0[0-9]{3})(0[1-9]|1[0-2])/,"yyyy-MM-dd":/([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])/};const o={getThresholdColor:function(t,e){const i=e.context.getPath();if(i.indexOf("DeviationRange")>-1){return a.Error}else if(i.indexOf("ToleranceRange")>-1){return a.Critical}return a.Neutral},getMeasurePropertyPaths:function(i,n,a){const r=[];if(!n){t.warning("FE:Macro:MicroChart : Couldn't find annotations for the DataPoint.");return undefined}for(const l in i.Measures){var o;const s=e.getMeasureAttributeIndex(l,i),c=s>-1&&i.MeasureAttributes&&i.MeasureAttributes[s],u=c&&n&&n[c.DataPoint.$AnnotationPath];if(u!==null&&u!==void 0&&(o=u.Value)!==null&&o!==void 0&&o.$Path){r.push(u.Value.$Path)}else{t.warning(`FE:Macro:MicroChart : Couldn't find DataPoint(Value) measure for the measureAttribute ${a} MicroChart.`)}}return r.join(",")},getHiddenPathExpression:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++){e[i]=arguments[i]}if(!e[0]&&!e[1]){return true}if(e[0]===true||e[1]===true){return false}const n=[];[].forEach.call(e,function(t){if(t&&t.$Path){n.push("%{"+t.$Path+"}")}});return n.length?"{= "+n.join(" || ")+" === true ? false : true }":false},isNotAlwaysHidden:function(t,e,i,n,a){if(n===true){this.logError(t,e)}if(a===true){this.logError(t,i)}if(n===undefined&&a===undefined){return true}else{return(!n||n.$Path)&&n!==undefined||(!a||a.$Path)&&a!==undefined?true:false}},logError:function(e,i){t.error(`Measure Property ${i.$Path} is hidden for the ${e} Micro Chart`)},formatDecimal:function(t,e,i){if(!t){return undefined}const n=[],a=["style: 'short'"];const r=typeof i==="number"?i:e&&(e===null||e===void 0?void 0:e.$Scale)||1;if(e.$Nullable!=undefined){n.push("nullable: "+e.$Nullable)}if(e.$Precision!=undefined){a.push("precision: "+(e.$Precision?e.$Precision:"1"))}n.push("scale: "+(r==="variable"?"'"+r+"'":r));return"{ path: '"+t+"'"+", type: 'sap.ui.model.odata.type.Decimal', constraints: { "+n.join(",")+" }, formatOptions: { "+a.join(",")+" } }"},getSelectParameters:function(t,e,i){const n=[],a=[];if(t){a.push(`$$groupId : '${t}'`)}if(i){n.push(i)}else if(e){for(const t in e){if(!e[t].$EnumMember&&e[t].$Path){n.push(e[t].$Path)}}}for(var r=arguments.length,o=new Array(r>3?r-3:0),l=3;l<r;l++){o[l-3]=arguments[l]}for(const t of o){if(t){n.push(t)}}if(n.length){a.push(`$select : '${n.join(",")}'`)}return a.join(",")},getDataPointQualifiersForMeasures:function(e,i,n){const a=[],r=e.MeasureAttributes,o=function(e){const o=e.$PropertyPath;let l;if(i){r.forEach(function(t){var e,n;if(((e=t.Measure)===null||e===void 0?void 0:e.$PropertyPath)===o&&(n=t.DataPoint)!==null&&n!==void 0&&n.$AnnotationPath){const e=t.DataPoint.$AnnotationPath;if(i[e]){l=e.split("#")[1];if(l){a.push(l)}}}})}if(l===undefined){t.warning(`FE:Macro:MicroChart : Couldn't find DataPoint(Value) measure for the measureAttribute for ${n} MicroChart.`)}};if(!i){t.warning(`FE:Macro:MicroChart : Couldn't find annotations for the DataPoint ${n} MicroChart.`)}e.Measures.forEach(o);return a.join(",")},logWarning:function(e,i){for(const n in i){if(!i[n]){t.warning(`${n} parameter is missing for the ${e} Micro Chart`)}}},getDisplayValueForMicroChart:function(t,e,i,n){const a=t.ValueFormat&&t.ValueFormat.NumberOfFractionalDigits;if(e){return o.formatDecimal(e["$Path"],i,a)}return o.formatDecimal(t.Value["$Path"],n,a)},shouldMicroChartRender:function(t,e,i,n,a){const r=["Area","Column","Comparison"],l=e&&e.Value,s=i&&i["com.sap.vocabularies.UI.v1.Hidden"],c=n&&n.Dimensions&&n.Dimensions[0],u=r.indexOf(t)>-1?l&&c:l;if(t==="Harvey"){const t=e&&e.MaximumValue,i=a&&a["com.sap.vocabularies.UI.v1.Hidden"];return l&&t&&o.isNotAlwaysHidden("Bullet",l,t,s,i)}return u&&o.isNotAlwaysHidden(t,l,undefined,s)},getDataPointQualifiersForMicroChart:function(t){if(t.indexOf("com.sap.vocabularies.UI.v1.DataPoint")===-1){return undefined}return t.split("#")[1]??""},getColorPaletteForMicroChart:function(t){return t.Criticality?undefined:"sapUiChartPaletteQualitativeHue1, sapUiChartPaletteQualitativeHue2, sapUiChartPaletteQualitativeHue3,          sapUiChartPaletteQualitativeHue4, sapUiChartPaletteQualitativeHue5, sapUiChartPaletteQualitativeHue6, sapUiChartPaletteQualitativeHue7,          sapUiChartPaletteQualitativeHue8, sapUiChartPaletteQualitativeHue9, sapUiChartPaletteQualitativeHue10, sapUiChartPaletteQualitativeHue11"},getMeasureScaleForMicroChart:function(t){if(t.ValueFormat&&t.ValueFormat.NumberOfFractionalDigits){return t.ValueFormat.NumberOfFractionalDigits}if(t.Value&&t.Value["$Path"]&&t.Value["$Path"]["$Scale"]){return t.Value["$Path"]["$Scale"]}return 1},getBindingExpressionForMicrochart:function(t,e,i,n,a,r){const l=n["$isCollection"]||n["$kind"]==="EntitySet";const s=l?"":a;let c=o.getUOMPathForMicrochart(e);let u="";switch(t){case"Radial":c="";break;case"Harvey":u=r.Criticality?r.Criticality["$Path"]:"";break}const p=o.getSelectParameters(i.batchGroupId,"",u,c);return`{ path: '${s}'`+`, parameters : {${p}} }`},getUOMPathForMicrochart:function(t,e){if(e&&!t){return e[`@${"Org.OData.Measures.V1.ISOCurrency"}`]&&e[`@${"Org.OData.Measures.V1.ISOCurrency"}`].$Path||e[`@${"Org.OData.Measures.V1.Unit"}`]&&e[`@${"Org.OData.Measures.V1.Unit"}`].$Path}return undefined},getAggregationForMicrochart:function(t,e,i,n,a,r,l){let s=e["$kind"]==="EntitySet"?"/":"";s=s+n;const c="";let u="";let p=i.Criticality?i.Criticality["$Path"]:"";const d=o.getUOMPathForMicrochart(false,r);let f="";let m="";if(a&&a.$PropertyPath&&a.$PropertyPath[`@${"com.sap.vocabularies.Common.v1.Text"}`]){m=a.$PropertyPath[`@${"com.sap.vocabularies.Common.v1.Text"}`].$Path}else{m=a.$PropertyPath}switch(t){case"Points":u=i&&i.CriticalityCalculation;f=i&&i.TargetValue&&i.TargetValue["$Path"];p="";break;case"Columns":u=i&&i.CriticalityCalculation;break;case"LinePoints":p="";break;case"Bars":m="";break}const g=o.getSelectParameters(c,u,p,d,f,m,l);return`{path:'${s}'`+`, parameters : {${g}} }`},getCurrencyOrUnit:function(t){if(t[`@${"Org.OData.Measures.V1.ISOCurrency"}`]){return t[`@${"Org.OData.Measures.V1.ISOCurrency"}`].$Path||t[`@${"Org.OData.Measures.V1.ISOCurrency"}`]}if(t[`@${"Org.OData.Measures.V1.Unit"}`]){return t[`@${"Org.OData.Measures.V1.Unit"}`].$Path||t[`@${"Org.OData.Measures.V1.Unit"}`]}return""},getCalendarPattern:function(t,e){return e[`@${"com.sap.vocabularies.Common.v1.IsCalendarYear"}`]&&"yyyy"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarQuarter"}`]&&"Q"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarMonth"}`]&&"MM"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarWeek"}`]&&"ww"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarDate"}`]&&"yyyyMMdd"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarYearMonth"}`]&&"yyyyMM"||t==="Edm.Date"&&"yyyy-MM-dd"||undefined},formatDimension:function(e,i,a){const r=n.getDateInstance({pattern:i}).parse(e,false,true);if(r instanceof Date){return r.getTime()}else{t.warning("Date value could not be determined for "+a)}return 0},formatStringDimension:function(e,i,n){if(i in r){const t=e===null||e===void 0?void 0:e.toString().match(r[i]);if(t&&t!==null&&t!==void 0&&t.length){return o.formatDimension(t[0],i,n)}}t.warning("Pattern not supported for "+n);return 0},getX:function(t,e,i){const n=i&&o.getCalendarPattern(e,i);if(n&&["Edm.Date","Edm.String"].some(t=>t===e)){return`{parts: [{path: '${t}', targetType: 'any'}, {value: '${n}'}, {value: '${t}'}], formatter: 'MICROCHARTR.formatStringDimension'}`}}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/multiValueField/MultiValueField.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/valuehelp/ValueHelpTemplating"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f){"use strict";var m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A;var E={};var w=d.getVisibleExpression;var S=d.getValueBinding;var L=u.getDisplayMode;var _=s.isPathInsertable;var B=s.isPathDeletable;var V=s.getRelativePaths;var j=s.getContextRelativeTargetObjectPath;var R=s.enhanceDataModelPath;var U=l.isPropertyPathExpression;var k=l.isPathAnnotationExpression;var N=l.isMultipleNavigationProperty;var H=r.or;var z=r.not;var W=r.isConstant;var q=r.ifElse;var G=r.getExpressionFromAnnotation;var Q=r.constant;var X=r.compileExpression;var K=r.and;var J=n.UI;var Y=i.xml;var Z=e.defineBuildingBlock;var tt=e.blockAttribute;function et(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function it(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function nt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;at(t,e)}function at(t,e){at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return at(t,e)}function rt(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function ot(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let lt=(m=Z({name:"MultiValueField",namespace:"sap.fe.macros.internal"}),g=tt({type:"string"}),h=tt({type:"string"}),b=tt({type:"sap.ui.model.Context",required:true,expectedTypes:["com.sap.vocabularies.UI.v1.DataField"]}),v=tt({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),y=tt({type:"string"}),P=tt({type:"string"}),C=tt({type:"object",validate:function(t){if(t.displayMode&&!["Value","Description","ValueDescription","DescriptionValue"].includes(t.displayMode)){throw new Error(`Allowed value ${t.displayMode} for displayMode does not match`)}return t}}),m(D=($=function(t){nt(e,t);e._getMultiInputSettings=function t(i,n){var a;const{collectionPath:r,itemDataModelObjectPath:o}=e._getPathStructure(i);const l=`{path:'${r}', templateShareable: false}`;const s=`{path:'${r}', parameters: {$$ownRequest : true}, templateShareable: false}`;const c=i.targetObject;const u=U(c)?c.$target:c;const p=(a=u.annotations.Common)===null||a===void 0?void 0:a.Text;const d=V(i);const f=p?X(G(p,d)):S(o,n,true);return{text:f,collectionBindingDisplay:l,collectionBindingEdit:s,key:S(o,n,true)}};e._getPathStructure=function t(e){var i,n;let a="";const r=(i=e.contextLocation)!==null&&i!==void 0&&i.targetEntitySet?e.contextLocation.targetEntitySet:e.startingEntitySet;const o=[];const l=((n=e.contextLocation)===null||n===void 0?void 0:n.navigationProperties)||[];for(const t of e.navigationProperties){if(e.contextLocation===undefined||!e.contextLocation.navigationProperties.some(e=>e.fullyQualifiedName===t.fullyQualifiedName)){o.push(t.name);l.push(t)}if(r.navigationPropertyBinding.hasOwnProperty(t.name)){if(N(t)){break}}}a=`${o.join("/")}`;const s=Object.assign({},e);if(s.contextLocation){s.contextLocation.navigationProperties=l}return{collectionPath:a,itemDataModelObjectPath:s}};function e(i){var n;n=t.call(this,i)||this;et(n,"idPrefix",x,it(n));et(n,"vhIdPrefix",T,it(n));et(n,"metaPath",F,it(n));et(n,"contextPath",O,it(n));et(n,"ariaLabelledBy",I,it(n));et(n,"key",M,it(n));et(n,"formatOptions",A,it(n));let r=a.getInvolvedDataModelObjects(n.metaPath,n.contextPath);const o=a.convertMetaModelContext(n.metaPath);let l;if(k(o.Value)){l=o.Value.path}n.visible=w(r,n.formatOptions);if(l&&l.length>0){r=R(r,l)}const s=_(r);const c=B(r,{ignoreTargetCollection:true,authorizeUnresolvable:true});const u=B(r);const p=q(c._type==="Unresolvable",H(z(W(u)),u),u);n.editMode=n.formatOptions.displayOnly==="true"?"Display":X(q(K(s,p,J.IsEditable),Q("Editable"),Q("Display")));n.displayMode=L(r);const d=e._getMultiInputSettings(r,n.formatOptions);n.text=d.text;n.collection=n.editMode==="Display"?d.collectionBindingDisplay:d.collectionBindingEdit;n.key=d.key;return n}E=e;var i=e.prototype;i.getTemplate=function t(){const e=a.getInvolvedDataModelObjects(this.metaPath,this.contextPath);const i=e.targetObject;const n=R(e,i.Value.path);const r=this.idPrefix?o.generate([this.idPrefix,"MultiValueField"]):undefined;const l=p.valueHelpProperty(this.metaPath);const s=this.metaPath.getModel().createBindingContext(l,this.metaPath);const u=f.generateID(undefined,this.vhIdPrefix,c.getRelativePropertyPath(s,{context:this.contextPath}),j(n)??"");const d=p.computeLabelText(i.Value,{context:this.metaPath});return Y`
		<mdc:MultiValueField
				xmlns:mdc="sap.ui.mdc"
				delegate="{name: 'sap/fe/macros/multiValueField/MultiValueFieldDelegate'}"
				id="${r}"
				items="${this.collection}"
				display="${this.displayMode}"
				width="100%"
				editMode="${this.editMode}"
				fieldHelp="${u}"
				ariaLabelledBy = "${this.ariaLabelledBy}"
				showEmptyIndicator = "${this.formatOptions.showEmptyIndicator}"
				label = "${d}"
		>
		<mdcField:MultiValueFieldItem xmlns:mdcField="sap.ui.mdc.field" key="${this.key}" description="${this.text}" />
		</mdc:MultiValueField>`};return e}(t),x=rt($.prototype,"idPrefix",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),T=rt($.prototype,"vhIdPrefix",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FieldValueHelp"}}),F=rt($.prototype,"metaPath",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=rt($.prototype,"contextPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),I=rt($.prototype,"ariaLabelledBy",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),M=rt($.prototype,"key",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),A=rt($.prototype,"formatOptions",[C],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),$))||D);E=lt;return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/multiValueField/MultiValueFieldDelegate",["sap/fe/core/CommonUtils","sap/ui/mdc/field/MultiValueFieldDelegate"],function(t,e){"use strict";const i=Object.assign({},e);i.updateItems=function(e,i,n){const a=n.getBinding("items");if(a.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=n.getBindingInfo("items");const r=e.template;const o=r.getBindingInfo("key");const l=r.getBindingInfo("description");const s=o&&o.parts[0].path;const c=l&&l.parts&&l.parts[0]&&l.parts[0].path;const u=a.getCurrentContexts();const p=[];const d=t.getTargetView(n).getController();const f=i.map(function(t){return t.values[0]});const m=u.map(function(t){return t.getProperty(s)});const g=[];for(let t=0;t<u.length;t++){const e=u[t];if(!f.includes(e.getProperty(s))){g.push(d.editFlow.deleteMultipleDocuments([e],{controlId:n.getId(),noDialog:true}))}}i.forEach(t=>{if(!m.includes(t.values[0])){const e={};if(s&&s.indexOf("/")===-1){e[s]=t.values[0];if(c&&c.indexOf("/")===-1&&c!==s){e[c]=t.values[1]}p.push(e)}}});if(p.length){g.push(d.editFlow.createMultipleDocuments(a,p,true,false))}return Promise.all(g)}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/paginator/Paginator.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper"],function(t,e,i,n,a){"use strict";var r,o,l,s,c;var u={};var p=a.generate;var d=n.pathInModel;var f=n.or;var m=i.xml;var g=e.defineBuildingBlock;var h=e.blockAttribute;function b(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function y(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;P(t,e)}function P(t,e){P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return P(t,e)}function C(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function D(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let $=(r=g({name:"Paginator",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros"}),o=h({type:"string",isPublic:true}),r(l=(s=function(t){y(e,t);function e(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;b(e,"id",c,v(e));return e}u=e;var i=e.prototype;i.getTemplate=function t(){const e=d("/navUpEnabled","paginator");const i=d("/navDownEnabled","paginator");const n=f(e,i);const a=d("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_UP","sap.fe.i18n");const r=d("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_DOWN","sap.fe.i18n");return m`
			<m:HBox displayInline="true" id="${this.id}" visible="${n}">
				<uxap:ObjectPageHeaderActionButton
					xmlns:uxap="sap.uxap"
					id="${p([this.id,"previousItem"])}"
					enabled="${e}"
					tooltip="${a}"
					icon="sap-icon://navigation-up-arrow"
					press=".paginator.updateCurrentContext(-1)"
					type="Transparent"
					importance="High"
				/>
				<uxap:ObjectPageHeaderActionButton
					xmlns:uxap="sap.uxap"
					id="${p([this.id,"nextItem"])}"
					enabled="${i}"
					tooltip="${r}"
					icon="sap-icon://navigation-down-arrow"
					press=".paginator.updateCurrentContext(1)"
					type="Transparent"
					importance="High"
				/>
			</m:HBox>`};return e}(t),c=C(s.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),s))||l);u=$;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/quickView/QuickView.block",["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldTemplating","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(t,e,i,n,a,r,o,l){"use strict";var s,c,u,p,d,f,m,g,h;var b={};var v=l.xml;var y=o.defineBuildingBlock;var P=o.blockAttribute;var C=a.isUsedInNavigationWithQuickViewFacets;var D=a.getPropertyWithSemanticObject;var $=a.getDataModelObjectPathForValue;var x=n.getSemanticObjectUnavailableActions;var T=n.getSemanticObjects;var F=n.getSemanticObjectMappings;var O=n.getDynamicPathFromSemanticObject;var I=i.isProperty;var M=e.pathInModel;var A=e.getExpressionFromAnnotation;var E=e.compileExpression;function w(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function S(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function L(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;_(t,e)}function _(t,e){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return _(t,e)}function B(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function V(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let j=(s=y({name:"QuickView",namespace:"sap.fe.macros",designtime:"sap/fe/macros/quickView/QuickView.designtime"}),c=P({type:"sap.ui.model.Context",required:true,expectedTypes:["Property"],expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldForAnnotation","com.sap.vocabularies.UI.v1.DataPointType"]}),u=P({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),p=P({type:"string"}),s(d=(f=function(e){L(i,e);i.getRelativePathToQuickViewEntity=function t(e){let i;const n=this.getNavPropToQuickViewEntity(e);if(n){i=e.navigationProperties.reduce((t,i)=>{var a;if(i.name!==n.name&&!((a=e.contextLocation)!==null&&a!==void 0&&a.navigationProperties.find(t=>t.name===i.name))){return`${t}${i.name}/`}return t},"");i=`${i}${n.name}`}return i};i.getSemanticObjectsForPayloadAndQualifierMap=function t(e){const i={};const n=[];if(e!==undefined){for(const t of T(e)){const e=E(A(t));if(e&&!n.includes(e)){i[t.qualifier||""]=e;n.push(e)}}}return{semanticObjectsList:n,qualifierMap:i}};i.getSemanticObjectMappingsForPayload=function t(e,i){const n=[];if(e!==undefined){for(const t of F(e)){const e=i[t.qualifier||""];if(e){n.push({semanticObject:e,items:t.map(t=>({key:t.LocalProperty.value,value:t.SemanticObjectProperty.valueOf()}))})}}}return n};i.getSemanticObjectUnavailableActionsForPayload=function t(e,i){const n=[];if(e!==undefined){for(const t of x(e)){const e=i[t.qualifier||""];if(e){n.push({semanticObject:e,actions:t.map(t=>t)})}}}return n};i.addCustomSemanticObjectToSemanticObjectListForPayload=function t(e,i){if(i){if(!i.startsWith("[")){if(!e.includes(i)){e.push(i)}}else{for(const t of JSON.parse(i)){if(!e.includes(t)){e.push(t)}}}}};i.getNavPropToQuickViewEntity=function t(e){var i;const n=e.targetObject;const a=e.targetEntityType.navigationProperties;let r=a.find(t=>t.referentialConstraint.some(e=>{var i;return e.sourceProperty===n.name&&((i=t.targetType.annotations.UI)===null||i===void 0?void 0:i.QuickViewFacets)}));if(!r&&((i=e.contextLocation)===null||i===void 0?void 0:i.targetEntitySet)!==e.targetEntitySet){var o,l;const t=((o=e.targetEntityType.annotations.Common)===null||o===void 0?void 0:o.SemanticKey)||[];const i=t.some(function(t){return t.$target.name===n.name});const a=e.navigationProperties[e.navigationProperties.length-1];if((i||n.isKey)&&(l=e.targetEntityType.annotations.UI)!==null&&l!==void 0&&l.QuickViewFacets){r=a}}return r};function i(n,a,r){var o,l,s,c,u;var p;p=e.call(this,n,a,r)||this;w(p,"dataField",m,S(p));w(p,"contextPath",g,S(p));w(p,"semanticObject",h,S(p));let d=t.getInvolvedDataModelObjects(p.dataField,p.contextPath);const f=$(d);d=f||d;const b=I(d.targetObject)?d.targetObject:undefined;const v=b&&C(d,b)?"true":"false";const y=i.getRelativePathToQuickViewEntity(d);const P=((o=d.contextLocation)===null||o===void 0?void 0:(l=o.targetEntitySet)===null||l===void 0?void 0:l.name)??((s=d.contextLocation)===null||s===void 0?void 0:s.targetObject).fullyQualifiedName;const x=y?`/${P}/${y}`:undefined;const T=y?E(M(y)):undefined;const F=D(d);let O;const{semanticObjectsList:A,qualifierMap:L}=i.getSemanticObjectsForPayloadAndQualifierMap(F);const _=i.getSemanticObjectMappingsForPayload(F,L);const B=i.getSemanticObjectUnavailableActionsForPayload(F,L);if(I(F)){O=L.main||L[""]}i.addCustomSemanticObjectToSemanticObjectListForPayload(A,p.semanticObject);const V=(b===null||b===void 0?void 0:(c=b.annotations.Common)===null||c===void 0?void 0:(u=c.Label)===null||u===void 0?void 0:u.valueOf())||"";p.payload={semanticObjects:A,entityType:x,semanticObjectUnavailableActions:B,semanticObjectMappings:_,mainSemanticObject:O,propertyPathLabel:V,dataField:x===undefined?p.dataField.getPath():undefined,contact:undefined,navigationPath:T,hasQuickViewFacets:v};return p}b=i;var n=i.prototype;n.getTemplate=function t(){const e={name:"sap/fe/macros/quickView/QuickViewDelegate",payload:this.payload};return v`<mdc:Link xmlns:mdc="sap.ui.mdc" delegate="${JSON.stringify(e)}">
			${this.writeCustomData(this.payload.semanticObjects)}
			</mdc:Link>`};n.writeCustomData=function t(e){let i="";for(const t of e){const e=O(t);if(e){i=`${i}\n\t\t\t\t<core:CustomData xmlns:core="sap.ui.core" key="${e}" value="${t}" />`}}if(i.length){return`<mdc:customData>\n\t\t\t\t${i}\n\t\t\t</mdc:customData>`}return""};return i}(r),m=B(f.prototype,"dataField",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g=B(f.prototype,"contextPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=B(f.prototype,"semanticObject",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);b=j;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/quickView/QuickViewDelegate",["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/isPlainObject","sap/fe/core/CommonUtils","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ToES6Promise","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldRuntime","sap/fe/navigation/SelectionVariant","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/link/Factory","sap/ui/mdc/link/LinkItem","sap/ui/mdc/link/SemanticObjectMapping","sap/ui/mdc/link/SemanticObjectMappingItem","sap/ui/mdc/link/SemanticObjectUnavailableAction","sap/ui/mdc/LinkDelegate","sap/ui/model/json/JSONModel"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C){"use strict";var D=l.getDynamicPathFromSemanticObject;const $=Object.assign({},P);const x={iLinksShownInPopup:3,sapmLink:"sap.m.Link",sapuimdcLink:"sap.ui.mdc.Link",sapuimdclinkLinkItem:"sap.ui.mdc.link.LinkItem",sapmObjectIdentifier:"sap.m.ObjectIdentifier",sapmObjectStatus:"sap.m.ObjectStatus"};$.getConstants=function(){return x};$._getEntityType=function(t,e){if(e){return e.createBindingContext(t.entityType)}else{return undefined}};$._getSemanticsModel=function(t,e){if(e){return new C(t)}else{return undefined}};$._getDataField=function(t,e){return e.createBindingContext(t.dataField)};$._getContact=function(t,e){return e.createBindingContext(t.contact)};$.fnTemplateFragment=function(){let t,e;const i={};let n;if(this.resolvedpayload){n=this.resolvedpayload}else{n=this.payload}if(n&&!n.LinkId){n.LinkId=this.oControl&&this.oControl.isA(x.sapuimdcLink)?this.oControl.getId():undefined}if(n.LinkId){e=this.oControl.getModel("$sapuimdcLink").getProperty("/titleLinkHref");n.titlelink=e}const a=this._getSemanticsModel(n,this.oMetaModel);this.semanticModel=a;if(n.entityType&&this._getEntityType(n,this.oMetaModel)){t="sap.fe.macros.quickView.fragments.EntityQuickView";i.bindingContexts={entityType:this._getEntityType(n,this.oMetaModel),semantic:a.createBindingContext("/")};i.models={entityType:this.oMetaModel,semantic:a}}else if(n.dataField&&this._getDataField(n,this.oMetaModel)){t="sap.fe.macros.quickView.fragments.DataFieldQuickView";i.bindingContexts={dataField:this._getDataField(n,this.oMetaModel),semantic:a.createBindingContext("/")};i.models={dataField:this.oMetaModel,semantic:a}}i.models.entitySet=this.oMetaModel;i.models.metaModel=this.oMetaModel;if(this.oControl&&this.oControl.getModel("viewData")){i.models.viewData=this.oControl.getModel("viewData");i.bindingContexts.viewData=this.oControl.getModel("viewData").createBindingContext("/")}const r=m.loadTemplate(t,"fragment");return Promise.resolve(f.process(r,{name:t},i)).then(t=>d.load({definition:t,controller:this})).then(t=>{if(t){if(i.models&&i.models.semantic){t.setModel(i.models.semantic,"semantic");t.setBindingContext(i.bindingContexts.semantic,"semantic")}if(i.bindingContexts&&i.bindingContexts.entityType){t.setModel(i.models.entityType,"entityType");t.setBindingContext(i.bindingContexts.entityType,"entityType")}}this.resolvedpayload=undefined;return t})};$.fetchAdditionalContent=function(t,e){var i;this.oControl=e;const n=t===null||t===void 0?void 0:(i=t.navigationPath)===null||i===void 0?void 0:i.match(/{(.*?)}/);const a=n&&n.length>1&&n[1]?e.getModel().bindContext(n[1],e.getBindingContext(),{$$ownRequest:true}):null;this.payload=t;if(e&&e.isA(x.sapuimdcLink)){this.oMetaModel=e.getModel().getMetaModel();return this.fnTemplateFragment().then(function(t){if(a){t.setBindingContext(a.getBoundContext())}return[t]})}return Promise.resolve([])};$._fetchLinkCustomData=function(t){if(t.getParent()&&t.isA(x.sapuimdcLink)&&(t.getParent().isA(x.sapmLink)||t.getParent().isA(x.sapmObjectIdentifier)||t.getParent().isA(x.sapmObjectStatus))){return t.getCustomData()}else{return undefined}};$.fetchLinkItems=function(t,e,i){if(e&&$._getSemanticObjects(t)){const n=e.getObject();if(i){i.initialize($._getSemanticObjects(t))}const a=this._link&&this._fetchLinkCustomData(this._link);this.aLinkCustomData=a&&this._fetchLinkCustomData(this._link).map(function(t){return t.mProperties.value});const r=$._calculateSemanticAttributes(n,t,i,this._link);const o=r.results;const l=r.payload;return $._retrieveNavigationTargets("",o,l,i,this._link).then(function(t){return t.length===0?null:t})}else{return Promise.resolve(null)}};$._findLinkType=function(t,e){let i,n;if((e===null||e===void 0?void 0:e.length)===1){n=new h({text:e[0].getText(),href:e[0].getHref()});i=t.hasQuickViewFacets==="false"?1:2}else if(t.hasQuickViewFacets==="false"&&(e===null||e===void 0?void 0:e.length)===0){i=0}else{i=2}return{linkType:i,linkItem:n}};$.fetchLinkType=async function(e,i){const n=i;const a=Object.assign({},e);const r={initialType:{type:2,directLink:undefined},runtimeType:undefined};if(!this.appStateKeyMap){this.appStateKeyMap={}}try{var o;if(a!==null&&a!==void 0&&a.semanticObjects){this._link=i;let t=await n._retrieveUnmodifiedLinkItems();if(t.length===1){t=await n.retrieveLinkItems()}const e=$._findLinkType(a,t);return{initialType:{type:e.linkType,directLink:e.linkItem?e.linkItem:undefined},runtimeType:undefined}}else if((a===null||a===void 0?void 0:(o=a.contact)===null||o===void 0?void 0:o.length)>0){return r}else if(a!==null&&a!==void 0&&a.entityType&&a!==null&&a!==void 0&&a.navigationPath){return r}throw new Error("no payload or semanticObjects found")}catch(e){t.error("Error in SimpleLinkDelegate.fetchLinkType: ",e)}};$._RemoveTitleLinkFromTargets=function(t,e,i){let n,a;let r=false;if(e&&i&&i[0]){let e,o;const l=i[0].intent.split("?")[0];if(t&&t[0]){o=`#${t[0].getProperty("key")}`;e=l===o;if(e){n=t[0].getProperty("href");this.payload.titlelinkhref=n;if(t[0].isA(x.sapuimdclinkLinkItem)){a=t[0].getParent();a.getModel("$sapuimdcLink").setProperty("/titleLinkHref",n);const e=a.getModel("$sapuimdcLink").getProperty("/linkItems").filter(function(t){if(`#${t.key}`!==o){return t}});if(e&&e.length>0){a.getModel("$sapuimdcLink").setProperty("/linkItems/",e)}r=true}}}}return r};$._IsSemanticObjectDynamic=function(t,e){if(t&&e.aLinkCustomData){return e.aLinkCustomData.filter(function(e){return t.filter(function(t){return t!==e}).length>0}).length>0}else{return false}};$._getLineContext=function(t,e){if(!e){if(t.getAggregation("content")[0]&&t.getAggregation("content")[0].getBindingContext()){return t.getAggregation("content")[0].getBindingContext()}}return e};$._setFilterContextUrlForSelectionVariant=function(t,e,i){if(t.getViewData().entitySet&&e){const n=i.constructContextUrl(t.getViewData().entitySet,t.getModel());e.setFilterContextUrl(n)}return e};$._setObjectMappings=function(t,e,i,n){let a=false;const r=new u(n.toJSONObject());i.forEach(function(i){let n=i.semanticObject;const o=D(i.semanticObject);if(o&&e[o]){n=e[o]}if(t===n){const t=i.items;for(const i in t){const n=t[i].key;const o=t[i].value;if(n!==o){if(e[n]){r.removeParameter(o);r.removeSelectOption(o);r.renameParameter(n,o);r.renameSelectOption(n,o);e[o]=e[n];delete e[n];a=true}else if(n.split("/").length>1){const t=n.split("/").slice(-1)[0];if(!e[t]){delete e[t];r.removeParameter(t);r.removeSelectOption(t)}else if(t!==o){r.renameParameter(t,o);r.renameSelectOption(t,o);e[o]=e[t];delete e[t]}}else{delete e[n];r.removeParameter(o);r.removeSelectOption(o)}}}}});return{params:e,hasChanged:a,selectionVariant:r}};$._getAppStateKeyAndUrlParameters=async function(t,e,n,a){var r;let l=[];if(i(n,(r=t.appStateKeyMap[""])===null||r===void 0?void 0:r.selectionVariant)){const e=t.appStateKeyMap[""];return[e.semanticAttributes,e.appstatekey]}if(t.appStateKeyMap[`${a}`]===undefined||!i(t.appStateKeyMap[`${a}`].selectionVariant,n)){l=await o(e.getAppStateKeyAndUrlParameters(n.toJSONString()));t.appStateKeyMap[`${a}`]={semanticAttributes:l[0],appstatekey:l[1],selectionVariant:n}}else{const e=t.appStateKeyMap[`${a}`];l=[e.semanticAttributes,e.appstatekey]}return l};$._getLinkItemWithNewParameter=async function(t,e,i,n,a,r,o,l,s,c){return a.expandCompactHash(n.getHref()).then(async function(u){const p=a.parseShellHash(u);const d=Object.assign({},o);const{params:f,hasChanged:m,selectionVariant:g}=$._setObjectMappings(p.semanticObject,d,r.semanticObjectMappings,s);if(m){const e=await $._getAppStateKeyAndUrlParameters(t,c,g,p.semanticObject);l=e[1]}const h={target:{semanticObject:p.semanticObject,action:p.action},params:f,appStateKey:l};delete h.params["sap-xapp-state"];n.setHref(`#${a.constructShellHash(h)}`);r.aSemanticLinks.push(n.getHref());return $._RemoveTitleLinkFromTargets.bind(t)([n],e,i)})};$._removeEmptyLinkItem=function(t){return t.filter(t=>t!==undefined)};$.modifyLinkItems=async function(e,i,n){if(n.length!==0){this.payload=e;const r=n[0].getParent();const o=a.getTargetView(r);const l=a.getAppComponent(o);const c=await s.checkPrimaryActions(e,true,l);const u=c.titleLink;const p=c.hasTitleLink;const d=l.getShellServices();if(!d.hasUShell()){t.error("QuickViewDelegate: Cannot retrieve the shell services");return Promise.reject()}const f=o.getModel().getMetaModel();let m=r.getBindingContext();const g={semanticObject:e.mainSemanticObject,action:""};try{const t=r&&this._fetchLinkCustomData(r).map(function(t){return t.mProperties.value});if($._IsSemanticObjectDynamic(t,this)){const t=$._calculateSemanticAttributes(i.getObject(),e,undefined,this._link);const a=t.results;const r=t.payload;n=await $._retrieveNavigationTargets("",a,r,undefined,this._link)}const a=l.getNavigationService();const s=o.getController();let c;let h;m=$._getLineContext(o,m);const b=f.getMetaPath(m.getPath());h=s._intentBasedNavigation.removeSensitiveData(m.getObject(),b);h=s._intentBasedNavigation.prepareContextForExternalNavigation(h,m);c=a.mixAttributesAndSelectionVariant(h.semanticAttributes,{});g.propertiesWithoutConflict=h.propertiesWithoutConflict;s.intentBasedNavigation.adaptNavigationContext(c,g);$._removeTechnicalParameters(c);c=$._setFilterContextUrlForSelectionVariant(o,c,a);const v=await $._getAppStateKeyAndUrlParameters(this,a,c,"");const y=v[0];const P=v[1];let C;e.aSemanticLinks=[];n=$._removeEmptyLinkItem(n);for(const t in n){C=await $._getLinkItemWithNewParameter(this,p,u,n[t],d,e,y,P,c,a);if(C===true){n[t]=undefined}}return $._removeEmptyLinkItem(n)}catch(e){t.error("Error while getting the navigation service",e);return undefined}}else{return n}};$.beforeNavigationCallback=function(t,e){const i=e.getSource(),n=e.getParameter("href"),a=g.getService("URLParsing"),o=n&&a.parseShellHash(n);r.storeControlRefreshStrategyForHash(i,o);return Promise.resolve(true)};$._removeTechnicalParameters=function(t){t.removeSelectOption("@odata.context");t.removeSelectOption("@odata.metadataEtag");t.removeSelectOption("SAP__Messages")};$._getSemanticObjectCustomDataValue=function(t,e){let i,n;for(let a=0;a<t.length;a++){i=t[a].getKey();n=t[a].getValue();e[i]={value:n}}};$._isDynamicPath=function(t){if(t&&t.indexOf("{")===0&&t.indexOf("}")===t.length-1){return true}else{return false}};$._updatePayloadWithResolvedSemanticObjectValue=function(t,e,i){var n;if($._isDynamicPath(t.mainSemanticObject)){if(i){e.mainSemanticObject=i}else{e.mainSemanticObject=undefined}}switch(typeof i){case"string":(n=e.semanticObjectsResolved)===null||n===void 0?void 0:n.push(i);e.semanticObjects.push(i);break;case"object":for(const t in i){var a;(a=e.semanticObjectsResolved)===null||a===void 0?void 0:a.push(i[t]);e.semanticObjects.push(i[t])}break;default:}};$._createNewPayloadWithDynamicSemanticObjectsResolved=function(t,e,i){let n,a;for(const r in t.semanticObjects){n=t.semanticObjects[r];if($._isDynamicPath(n)){a=n.substr(1,n.indexOf("}")-1);n=e[a].value;$._updatePayloadWithResolvedSemanticObjectValue(t,i,n)}else{i.semanticObjects.push(n)}}};$._updateSemanticObjectsForMappings=function(t,e,i){e.semanticObjectMappings.forEach(function(e){if(e.semanticObject&&$._isDynamicPath(e.semanticObject)){e.semanticObject=i.semanticObjects[t.semanticObjects.indexOf(e.semanticObject)]}})};$._updateSemanticObjectsUnavailableActions=function(t,e,i){let n;e.forEach(function(e){if(e!==null&&e!==void 0&&e.semanticObject&&$._isDynamicPath(e.semanticObject)){n=t.semanticObjects.findIndex(function(t){return t===e.semanticObject});if(n!==undefined){e.semanticObject=i.semanticObjects[n]}}})};$._updateSemanticObjectsWithResolvedValue=function(t,e){for(let i=0;i<t.semanticObjects.length;i++){if(e.mainSemanticObject===(t.semanticObjectsResolved&&t.semanticObjectsResolved[i])){e.mainSemanticObject=t.semanticObjects[i]}if(e.semanticObjects[i]){e.semanticObjects[i]=t.semanticObjects[i]}else{e.semanticObjects.splice(i,1)}}};$._removeEmptySemanticObjectsMappings=function(t){for(let e=0;e<t.semanticObjectMappings.length;e++){if(t.semanticObjectMappings[e]&&t.semanticObjectMappings[e].semanticObject===undefined){t.semanticObjectMappings.splice(e,1)}}};$._setPayloadWithDynamicSemanticObjectsResolved=function(t,i){let n;if(i.semanticObjectsResolved&&i.semanticObjectsResolved.length>0){n={entityType:t.entityType,dataField:t.dataField,contact:t.contact,mainSemanticObject:t.mainSemanticObject,navigationPath:t.navigationPath,propertyPathLabel:t.propertyPathLabel,semanticObjectMappings:e(t.semanticObjectMappings),semanticObjects:i.semanticObjects};$._updateSemanticObjectsForMappings(t,n,i);const a=e(t.semanticObjectUnavailableActions);$._updateSemanticObjectsUnavailableActions(t,a,n);n.semanticObjectUnavailableActions=a;if(i.mainSemanticObject){n.mainSemanticObject=i.mainSemanticObject}else{n.mainSemanticObject=undefined}$._updateSemanticObjectsWithResolvedValue(i,n);$._removeEmptySemanticObjectsMappings(n);return n}else{return{}}};$._getPayloadWithDynamicSemanticObjectsResolved=function(t,e){let i;const n={};const a={semanticObjects:[],semanticObjectsResolved:[],semanticObjectMappings:[]};if(t.semanticObjects){if(e&&e.length>0){$._getSemanticObjectCustomDataValue(e,n);$._createNewPayloadWithDynamicSemanticObjectsResolved(t,n,a);i=$._setPayloadWithDynamicSemanticObjectsResolved(t,a);return i}}else{return undefined}};$._updatePayloadWithSemanticAttributes=function(e,i,a,r,o){e.forEach(function(e){if(i){i.addContextObject(e,a)}r[e]={};for(const l in a){let s=null,c=null;if(i){s=i.getSemanticObjectAttribute(e,l);if(!s){s=i.createAttributeStructure();i.addSemanticObjectAttribute(e,l,s)}}if(a[l]===undefined||a[l]===null){if(s){s.transformations.push({value:undefined,description:"ℹ Undefined and null values have been removed in SimpleLinkDelegate."})}continue}if(n(a[l])){if(o&&o[e]){const t=Object.keys(o[e]);let i,n,s,c;for(let u=0;u<t.length;u++){c=t[u];if(c.indexOf(l)===0){i=o[e][c];n=c.split("/")[c.split("/").length-1];s=a[l][n];if(i&&n&&s){r[e][i]=s}}}}if(s){s.transformations.push({value:undefined,description:"ℹ Plain objects has been removed in SimpleLinkDelegate."})}continue}const u=o&&o[e]&&o[e][l]?o[e][l]:l;if(s&&l!==u){c={value:undefined,description:`ℹ The attribute ${l} has been renamed to ${u} in SimpleLinkDelegate.`,reason:`🔴 A com.sap.vocabularies.Common.v1.SemanticObjectMapping annotation is defined for semantic object ${e} with source attribute ${l} and target attribute ${u}. You can modify the annotation if the mapping result is not what you expected.`}}if(r[e][u]){t.error(`SimpleLinkDelegate: The attribute ${l} can not be renamed to the attribute ${u} due to a clash situation. This can lead to wrong navigation later on.`)}r[e][u]=a[l];if(s){if(c){s.transformations.push(c);const t=i.createAttributeStructure();t.transformations.push({value:a[l],description:`ℹ The attribute ${u} with the value ${a[l]} has been added due to a mapping rule regarding the attribute ${l} in SimpleLinkDelegate.`});i.addSemanticObjectAttribute(e,u,t)}}}})};$._calculateSemanticAttributes=function(t,e,i,n){const a=n&&this._fetchLinkCustomData(n);const r=$._getPayloadWithDynamicSemanticObjectsResolved(e,a);const o=r?r:e;this.resolvedpayload=r;const l=$._getSemanticObjects(o);const s=$._convertSemanticObjectMapping($._getSemanticObjectMappings(o));if(!l.length){return{payload:o,results:{}}}const c={};$._updatePayloadWithSemanticAttributes(l,i,t,c,s);return{payload:o,results:c}};$._retrieveNavigationTargets=function(e,i,n,a,r){if(!n.semanticObjects){return Promise.resolve([])}const o=n.semanticObjects;const l={ownNavigation:undefined,availableActions:[]};let s=0;return p.loadLibrary("sap.ui.fl",{async:true}).then(()=>new Promise(u=>{sap.ui.require(["sap/ui/fl/Utils"],async p=>{const d=p.getAppComponentForControl(r===undefined?this.oControl:r);const f=d?d.getShellServices():null;if(!f){u(l.availableActions,l.ownNavigation)}if(!f.hasUShell()){t.error("SimpleLinkDelegate: Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained");u(l.availableActions,l.ownNavigation)}const m=o.map(function(t){return[{semanticObject:t,params:i?i[t]:undefined,appStateKey:e,sortResultsBy:"text"}]});try{const t=await f.getLinks(m);let e=false;for(let i=0;i<t.length;i++){for(let n=0;n<t[i].length;n++){if(t[i][n].length>0){e=true;break}if(e){break}}}if(!t||!t.length||!e){u(l.availableActions,l.ownNavigation)}const i=$._getSemanticObjectUnavailableActions(n);const r=$._convertSemanticObjectUnavailableAction(i);let p=c._fnFixHashQueryString(d.getShellServices().getHash());if(p){p+="?"}const g=function(t,e){return!!r&&!!r[t]&&r[t].indexOf(e)>-1};const b=function(t){const e=f.parseShellHash(t.intent);if(g(e.semanticObject,e.action)){return}const i=`#${f.constructShellHash({target:{shellHash:t.intent}})}`;if(t.intent&&t.intent.indexOf(p)===0){l.ownNavigation=new h({href:i,text:t.text});return}const n=new h({key:e.semanticObject&&e.action?`${e.semanticObject}-${e.action}`:undefined,text:t.text,description:undefined,href:i,icon:undefined,initiallyVisible:t.tags&&t.tags.indexOf("superiorAction")>-1});if(n.getProperty("initiallyVisible")){s++}l.availableActions.push(n);if(a){a.addSemanticObjectIntent(e.semanticObject,{intent:n.getHref(),text:n.getText()})}};for(let e=0;e<o.length;e++){t[e][0].forEach(b)}if(s===0){for(let t=0;t<l.availableActions.length;t++){if(t<this.getConstants().iLinksShownInPopup){l.availableActions[t].setProperty("initiallyVisible",true)}else{break}}}u(l.availableActions,l.ownNavigation)}catch(e){t.error("SimpleLinkDelegate: '_retrieveNavigationTargets' failed executing getLinks method");u(l.availableActions,l.ownNavigation)}})}))};$._getSemanticObjects=function(t){return t.semanticObjects?t.semanticObjects:[]};$._getSemanticObjectUnavailableActions=function(t){const e=[];if(t.semanticObjectUnavailableActions){t.semanticObjectUnavailableActions.forEach(function(t){e.push(new y({semanticObject:t.semanticObject,actions:t.actions}))})}return e};$._getSemanticObjectMappings=function(t){const e=[];let i=[];if(t.semanticObjectMappings){t.semanticObjectMappings.forEach(function(t){i=[];if(t.items){t.items.forEach(function(t){i.push(new v({key:t.key,value:t.value}))})}e.push(new b({semanticObject:t.semanticObject,items:i}))})}return e};$._convertSemanticObjectMapping=function(t){if(!t.length){return undefined}const e={};t.forEach(function(t){if(!t.getSemanticObject()){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${t.getSemanticObject()}' is not valid`)}e[t.getSemanticObject()]=t.getItems().reduce(function(t,e){t[e.getKey()]=e.getValue();return t},{})});return e};$._convertSemanticObjectUnavailableAction=function(t){let e;let i;let n=[];if(!t.length){return undefined}const a={};t.forEach(function(t){e=t.getSemanticObject();if(!e){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${e}' is not valid`)}n=t.getActions();if(a[e]===undefined){a[e]=n}else{i=a[e];n.forEach(function(t){i.push(t)});a[e]=i}});return a};return $},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/share/Share.block",["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/CommonUtils","sap/fe/core/controls/CommandExecution","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ClassSupport","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/suite/ui/commons/collaboration/CollaborationHelper","sap/suite/ui/commons/collaboration/ServiceContainer","sap/ui/core/CustomData","sap/ui/performance/trace/FESRHelper","sap/ushell/ui/footerbar/AddBookmarkButton","./ShareAPI","sap/fe/core/jsx-runtime/jsx"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h){"use strict";var b,v,y,P,C,D,$,x,T,F,O,I,M;var A={};var E=o.defineReference;var w=r.constant;var S=e.defineBuildingBlock;var L=e.blockAttribute;function _(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function B(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function V(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;j(t,e)}function j(t,e){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return j(t,e)}function R(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function U(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let k=(b=S({name:"Share",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros"}),v=L({type:"string",required:true,isPublic:true}),y=L({type:"boolean",isPublic:true,bindable:true}),P=E(),C=E(),D=E(),b($=(x=function(e){V(i,e);function i(){var t;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}t=e.call(this,...n)||this;_(t,"id",T,B(t));_(t,"visible",F,B(t));_(t,"menuButton",O,B(t));_(t,"menu",I,B(t));_(t,"saveAsTileMenuItem",M,B(t));return t}A=i;var r=i.prototype;r._initializeMenuItems=async function t(e,i){const n=await u.isTeamsModeActive();if(n){var a,r;(a=this.menuButton.current)===null||a===void 0?void 0:a.unbindProperty("visible",true);(r=this.menuButton.current)===null||r===void 0?void 0:r.setVisible(false);return}const o=e.getController();const l=i.getShellServices();const s=await l.waitForPluginsLoad();if(!s){var p;const t=(p=this.menuButton.current)===null||p===void 0?void 0:p.getAggregation("_control");t===null||t===void 0?void 0:t.attachEventOnce("press",{},()=>this._initializeMenuItems,this)}if(this.menu.current){this.menu.current.addItem(h(c,{text:this.getTranslatedText("T_SEMANTIC_CONTROL_SEND_EMAIL"),icon:"sap-icon://email",press:()=>o.share._triggerEmail()}));this._addShellBasedMenuItems(o,l)}};r._addShellBasedMenuItems=async function t(e,i){var n,a;const r=i.hasUShell();const o=!!((n=(a=i.getUser()).isJamActive)!==null&&n!==void 0&&n.call(a));const l=await p.getServiceAsync();const s=l.getOptions();if(r){if(o){var u,g;this===null||this===void 0?void 0:(u=this.menu)===null||u===void 0?void 0:(g=u.current)===null||g===void 0?void 0:g.addItem(h(c,{text:this.getTranslatedText("T_COMMON_SAPFE_SHARE_JAM"),icon:"sap-icon://share-2",press:()=>e.share._triggerShareToJam()}))}for(const t of s){var b,v,y;const e={text:t.text,icon:t.icon,items:[]};if(t!==null&&t!==void 0&&t.subOptions&&(t===null||t===void 0?void 0:(b=t.subOptions)===null||b===void 0?void 0:b.length)>0){e.items=[];t.subOptions.forEach(t=>{const i=new c({text:t.text,icon:t.icon,press:this.collaborationMenuItemPress,customData:new d({key:"collaborationData",value:t})});if(t.fesrStepName){f.setSemanticStepname(i,"press",t.fesrStepName)}e.items.push(i)})}else{e.press=this.collaborationMenuItemPress;e["customData"]=new d({key:"collaborationData",value:t})}const i=new c(e);if(e.press&&t.fesrStepName){f.setSemanticStepname(i,"press",t.fesrStepName)}this===null||this===void 0?void 0:(v=this.menu)===null||v===void 0?void 0:(y=v.current)===null||y===void 0?void 0:y.addItem(i)}const t=new m;if(t.getEnabled()){var P,C;this===null||this===void 0?void 0:(P=this.menu)===null||P===void 0?void 0:(C=P.current)===null||C===void 0?void 0:C.addItem(h(c,{ref:this.saveAsTileMenuItem,text:t.getText(),icon:t.getIcon(),press:()=>e.share._saveAsTile(this.saveAsTileMenuItem.current),children:{dependents:[t]}}))}else{t.destroy()}}};r.collaborationMenuItemPress=async function t(e){const i=e.getSource();const a=await p.getServiceAsync();const r=n.getTargetView(i);const o=r.getController();await o.share._adaptShareMetadata();const l=r.getModel("collaborationInfo").getData();a.share(i.data("collaborationData"),l)};r.getContent=function e(i,n){const r=h(g,{id:this.id,children:h(s,{ref:this.menuButton,icon:"sap-icon://action",visible:this.visible,tooltip:"{sap.fe.i18n>M_COMMON_SAPFE_ACTION_SHARE} (Ctrl+Shift+S)",children:h(l,{ref:this.menu})})});i.addDependent(h(a,{visible:this.visible,enabled:this.visible,command:"Share",execute:()=>{var t;return(t=this.menuButton.current)===null||t===void 0?void 0:t.getMenu().openBy(this.menuButton.current,true)}}));this.isInitialized=this._initializeMenuItems(i,n).catch(e=>{t.error(e)});return r};return i}(i),T=R(x.prototype,"id",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),F=R(x.prototype,"visible",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return w(true)}}),O=R(x.prototype,"menuButton",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),I=R(x.prototype,"menu",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),M=R(x.prototype,"saveAsTileMenuItem",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),x))||$);A=k;return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/share/ShareAPI",["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/suite/ui/commons/collaboration/CollaborationHelper","../MacroAPI"],function(t,e,i,n){"use strict";var a,r,o,l,s,c,u;var p=e.property;var d=e.defineUI5Class;function f(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function g(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;h(t,e)}function h(t,e){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return h(t,e)}function b(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function v(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let y=(a=d("sap.fe.macros.share.ShareAPI",{interfaces:["sap.m.IOverflowToolbarContent"]}),r=p({type:"string"}),o=p({type:"boolean",defaultValue:true}),a(l=(s=function(e){g(n,e);function n(){var t;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}t=e.call(this,...n)||this;f(t,"id",c,m(t));f(t,"visible",u,m(t));return t}var a=n.prototype;a.getOverflowToolbarConfig=function t(){return{canOverflow:false}};a.setVisibility=async function e(n){const a=await i.isTeamsModeActive();if(!a){this.content.setVisible(n);this.visible=n}else{t.info("Share Building Block: visibility not changed since application is running in teams mode!")}return Promise.resolve(this)};return n}(n),c=b(s.prototype,"id",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),u=b(s.prototype,"visible",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||l);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/situations/SituationsIndicator.block",["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/situations/SituationsPopover"],function(t,e,i,n,a,r,o){"use strict";var l,s,c,u,p,d,f;var m={};var g=o.showPopover;var h=r.ref;var b=r.pathInModel;var v=r.ifElse;var y=r.greaterThan;var P=r.fn;var C=r.equal;var D=r.and;var $=a.convertMetaModelContext;var x=n.xml;var T=i.defineBuildingBlock;var F=i.blockAttribute;function O(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function M(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;A(t,e)}function A(t,e){A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return A(t,e)}function E(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function w(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let S=(l=T({name:"SituationsIndicator",namespace:"sap.fe.macros.internal.situations"}),s=F({type:"sap.ui.model.Context",required:true}),c=F({type:"string",required:false}),l(u=(p=function(e){M(i,e);function i(){var t;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}t=e.call(this,...n)||this;O(t,"entitySet",d,I(t));O(t,"propertyPath",f,I(t));return t}m=i;i.getSituationsNavigationProperty=function e(i){let n;switch(i._type){case"NavigationProperty":n=i.targetType.navigationProperties;break;case"EntityType":n=i.navigationProperties;break;default:n=i.entityType.navigationProperties}const a=n.filter(t=>{var e,i;return!t.isCollection&&((e=t.targetType.annotations.Common)===null||e===void 0?void 0:(i=e.SAPObjectNodeType)===null||i===void 0?void 0:i.Name)==="BusinessSituation"});const r=a.length>=1?a[0]:undefined;if(a.length>1){const e=a.map(t=>`'${t.name}'`).join(", ");let n;switch(i._type){case"NavigationProperty":n=i.targetType.name;break;case"EntityType":n=i.name;break;default:n=i.entityType.name}t.error(`Entity type '${n}' has multiple paths to SAP Situations (${e}). Using '${r===null||r===void 0?void 0:r.name}'.\nHint: Make sure there is at most one navigation property whose target entity type is annotated with\n<Annotation Term="com.sap.vocabularies.Common.v1.SAPObjectNodeType">\n  <Record>\n    <PropertyValue Property="Name" String="BusinessSituation" />\n  </Record>\n</Annotation>.`)}return r};var n=i.prototype;n.getTemplate=function t(){const e=$(this.entitySet);const n=i.getSituationsNavigationProperty(e);if(!n){return undefined}const a=b(`${n.name}/SitnNumberOfInstances`);let r;if(!this.propertyPath){r=y(a,0)}else{r=D(y(a,0),C(b("semanticKeyHasDraftIndicator","internal"),this.propertyPath))}const o=v(y(a,1),a,"");const l=v(C(a,1),this.getTranslatedText("situationsTooltipSingular"),P("formatMessage",[this.getTranslatedText("situationsTooltipPlural"),a]));const s=P(g,[h("$controller"),h("$event"),n.name]);return x`
			<m:Button core:require="{rt: 'sap/fe/macros/situations/SituationsPopover', formatMessage: 'sap/base/strings/formatMessage'}"
				type="Attention"
				icon="sap-icon://alert"
				text="${o}"
				tooltip="${l}"
				visible="${r}"
				press="${s}"
			/>`};return i}(e),d=E(p.prototype,"entitySet",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),f=E(p.prototype,"propertyPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||u);m=S;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/situations/SituationsPopover",["sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/situations/SituationsText","sap/m/Button","sap/m/CustomListItem","sap/m/HBox","sap/m/Label","sap/m/List","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/ResponsivePopover","sap/m/Text","sap/m/Toolbar","sap/m/VBox"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f){"use strict";var m={};var g=i.bindText;var h=e.getResourceModel;function b(t){return{path:t,type:"sap.ui.model.odata.type.DateTimeOffset",constraints:{precision:7},formatOptions:{relative:true}}}let v;function y(e,i){let n=null;const o=new u({showHeader:false,contentHeight:`${i*4.5}em`,contentWidth:"25em",busyIndicatorDelay:200,placement:"Horizontal",content:[new l({items:{path:"_Instance",events:{dataReceived:()=>{o.setContentHeight()}},parameters:{$orderby:"SitnInstceLastChgdAtDateTime desc",$expand:"_InstanceAttribute($expand=_InstanceAttributeValue)"},template:new a({type:"Navigation",press:d,content:[new r({items:[new c({icon:"sap-icon://alert",state:"Warning",tooltip:h(e).getText("situation")}).addStyleClass("sapUiTinyMarginEnd"),new s({title:g("SituationTitle"),text:b("SitnInstceLastChgdAtDateTime")})]}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiSmallMarginTopBottom")]}),templateShareable:false},showNoData:false})]});function p(){if(n){n.unbindObject();n.close()}if(v){o.openBy(v)}}async function d(i){const a=i.getSource();const r=a.getBindingContext();if(r&&v){if(n===null){n=await P(e,p);e.getView().addDependent(n)}n.bindElement({path:r.getPath(),parameters:{$expand:"_InstanceAttribute($expand=_InstanceAttributeValue)"},events:{dataReceived:()=>{t.unlock(n)}}});o.close();t.lock(n);n.openBy(v)}}return o}async function P(t,e){const i=[];const a=h(t);if(e){i.push(new n({type:"Back",tooltip:a.getText("back"),press:e}).addStyleClass("sapUiNoMarginEnd"))}i.push(new c({state:"Warning",icon:"sap-icon://alert",tooltip:a.getText("situationIconTooltip")}).addStyleClass("sapUiSmallMarginBegin"));i.push(new s({titleActive:false,title:g("SituationTitle")}).addStyleClass("sapUiSmallMarginEnd"));const r={contentWidth:"25em",contentHeight:"7em",placement:"Horizontal",customHeader:new d({content:i}),busyIndicatorDelay:100,content:[new f({items:[new o({text:b("SitnInstceLastChgdAtDateTime")}),new p({text:g("SituationText")}).addStyleClass("sapUiTinyMarginTop")]})]};const l=t.getAppComponent().getShellServices();const m={target:{action:"displayExtended",semanticObject:"SituationInstance"}};const v=await l.isNavigationSupported([m]);if(v[0].supported){r.endButton=new n({text:a.getText("showDetails"),press:t=>{var e;const i=(e=t.getSource().getBindingContext())===null||e===void 0?void 0:e.getObject(`SitnInstceKey`);if(i!==undefined&&i!==null&&l.crossAppNavService){m.params={SitnInstceKey:i};l.crossAppNavService.toExternal(m)}}})}return new u(r).addStyleClass("sapUiPopupWithPadding").addStyleClass("sapUiResponsivePadding--header")}async function C(t,e,i){v=e.getSource();const n=v.getBindingContext(),a=n.getObject(`${i}/SitnNumberOfInstances`);let r;const o=n.getModel().bindContext(i,n,{$expand:"_Instance($expand=_InstanceAttribute($expand=_InstanceAttributeValue))"}).getBoundContext();if(a<=1){r=await P(t);r.setBindingContext(o);r.bindElement({path:"_Instance/0"})}else{r=y(t,a);r.setBindingContext(o)}t.getView().addDependent(r);r.openBy(v)}m.showPopover=C;C.__functionName="rt.showPopover";return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/situations/SituationsText",["sap/base/Log","sap/ui/model/odata/type/Boolean","sap/ui/model/odata/type/Date","sap/ui/model/odata/type/DateTimeOffset","sap/ui/model/odata/type/Decimal","sap/ui/model/odata/type/Guid","sap/ui/model/odata/type/Int32","sap/ui/model/odata/type/String"],function(t,e,i,n,a,r,o,l){"use strict";var s={};const c={};function u(t){switch(t){case"EDM.BOOLEAN":return new e;case"EDM.DATE":case"EDM.DATETIME":return new i;case"EDM.DATETIMEOFFSET":return new n;case"EDM.DECIMAL":return new a;case"EDM.GUID":return new r;case"EDM.INT32":return new o;case"EDM.STRING":return new l;default:return u("EDM.STRING")}}function p(t,e,i){switch(t){case"EDM.STRING":return e;case"EDM.DATE":case"EDM.DATETIME":case"EDM.DATETIMEOFFSET":return i.parseValue(e,"string");case"EDM.INT32":return parseInt(e,10);case"EDM.DECIMAL":return parseFloat(e);case"EDM.GUID":return e;case"EDM.BOOLEAN":return e==="X";default:return e}}function d(t){let e=c[t];if(!e){e=u(t);c[t]=e}return e}function f(e,i){const n=this.getBindingContext();if(e===undefined||e===null||i===undefined||i===null||!n){return""}const a=n.getObject("_InstanceAttribute");if(a===undefined||a===null||a.length===0){return i}const r=(e,i,n)=>{const r=parseInt(i,10).toString();const o=a.find(t=>t.SitnInstceAttribSource===r&&t.SitnInstceAttribName===n);if(o===undefined){t.error(`Failed to resolve attribute ${i}.${n}`);return""}if(!o._InstanceAttributeValue){t.error(`Failed to resolve a value for attribute ${i}.${n}`);return""}const l=d(o.SitnInstceAttribEntityType);return o._InstanceAttributeValue.map(t=>{const e=p(o.SitnInstceAttribEntityType,t.SitnInstceAttribValue,l);return l.formatValue(e,"string")}).join(", ")};return i.replace(/\{(\d+)\.([^}]+)}/g,r)}s.formatter=f;function m(t){return{parts:[{path:"SitnInstceKey"},{path:`_InstanceText/${t}`}],formatter:f}}s.bindText=m;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/BasicSearch",["sap/fe/core/helpers/ClassSupport","sap/m/SearchField","sap/ui/core/Control"],function(t,e,i){"use strict";var n,a,r,o,l,s,c,u,p,d,f;var m=t.implementInterface;var g=t.event;var h=t.defineUI5Class;var b=t.aggregation;function v(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function P(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;C(t,e)}function C(t,e){C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return C(t,e)}function D(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function $(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let x=(n=h("sap.fe.macros.table.BasicSearch"),a=m("sap.ui.mdc.IFilter"),r=g(),o=g(),l=b({type:"sap.ui.core.Control",multiple:false}),n(s=(c=function(t){P(i,t);function i(){var e;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}e=t.call(this,...n)||this;v(e,"__implements__sap_ui_mdc_IFilter",u,y(e));e.__implements__sap_ui_mdc_IFilterSource=true;v(e,"filterChanged",p,y(e));v(e,"search",d,y(e));v(e,"filter",f,y(e));return e}var n=i.prototype;n.init=function t(){this.setAggregation("filter",new e({placeholder:"{sap.fe.i18n>M_FILTERBAR_SEARCH}",search:()=>{this.fireEvent("search")}}))};n.getConditions=function t(){return undefined};n.getSearch=function t(){return this.filter.getValue()};n.validate=function t(){return Promise.resolve()};i.render=function t(e,i){e.openStart("div",i);e.openEnd();e.renderControl(i.filter);e.close("div")};return i}(i),u=D(c.prototype,"__implements__sap_ui_mdc_IFilter",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),p=D(c.prototype,"filterChanged",[r],{configurable:true,enumerable:true,writable:true,initializer:null}),d=D(c.prototype,"search",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=D(c.prototype,"filter",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||s);return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/QuickFilterContainer",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/StableIdHelper","sap/fe/macros/chart/ChartUtils","sap/fe/macros/DelegateUtil","sap/fe/macros/table/Utils","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/Select","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/Item","sap/ui/model/json/JSONModel"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f){"use strict";var m,g,h,b,v,y,P,C,D,$,x,T,F;var O=n.generate;var I=i.property;var M=i.defineUI5Class;var A=i.aggregation;function E(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function S(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;L(t,e)}function L(t,e){L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return L(t,e)}function _(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function B(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const V="quickFilterKey";const j="filters";let R=(m=M("sap.fe.macros.table.QuickFilterContainer",{interfaces:["sap.m.IOverflowToolbarContent"]}),g=I({type:"boolean"}),h=I({type:"string"}),b=I({type:"string"}),v=I({type:"string",defaultValue:"$auto"}),y=A({type:"sap.ui.core.Control",multiple:false,isDefault:true}),m(P=(C=function(i){S(n,i);function n(){var t;for(var e=arguments.length,n=new Array(e),a=0;a<e;a++){n[a]=arguments[a]}t=i.call(this,...n)||this;E(t,"showCounts",D,w(t));E(t,"entitySet",$,w(t));E(t,"parentEntityType",x,w(t));E(t,"batchGroupId",T,w(t));E(t,"selector",F,w(t));t._attachedToView=false;return t}n.render=function t(e,i){const n=p.getLibraryResourceBundle("sap.fe.macros");e.renderControl(i.selector);e.attr("aria-label",n.getText("M_TABLE_QUICKFILTER_ARIA"))};var u=n.prototype;u.init=function t(){i.prototype.init.call(this);this._attachedToView=false;this.attachEvent("modelContextChange",this._initControl);const e={onBeforeRendering:()=>{this._createControlSideEffects();this._attachedToView=true;this.removeEventDelegate(e)}};this.addEventDelegate(e,this)};u._initControl=function t(e){if(this.getModel()){this.detachEvent(e.getId(),this._initControl);this._manageTable();this._createContent()}};u._manageTable=function t(){var e,i;let n=this.getParent();const a=this._getFilterModel(),o=a.getObject("/paths"),l=Array.isArray(o)&&o.length>0?o[0].annotationPath:undefined;while(n&&!n.isA("sap.ui.mdc.Table")){n=n.getParent()}this._oTable=n;const s=p.byId(this._oTable.getFilter());if(s&&s.isA("sap.ui.mdc.FilterBar")){s.attachFiltersChanged(this._onFiltersChanged.bind(this))}(e=this._oTable)===null||e===void 0?void 0:(i=e.getParent())===null||i===void 0?void 0:i.attachEvent("internalDataRequested",this._onTableDataRequested.bind(this));r.setCustomData(n,V,l)};u._onFiltersChanged=function t(e){if(e.getParameter("conditionsBased")){this.selector.setProperty("enabled",false)}};u._onTableDataRequested=function t(){this.selector.setProperty("enabled",true);if(this.showCounts){this._updateCounts()}};u.setSelectorKey=function t(e){const i=this.selector;if(i&&i.getSelectedKey()!==e){i.setSelectedKey(e);r.setCustomData(this._oTable,V,e);const t=this._oTable.getFilter&&this._oTable.getFilter();const n=t&&p.byId(t);const a=n&&n.getSuspendSelection&&n.getSuspendSelection();if(!a){this._oTable.rebind()}}};u.getSelectorKey=function t(){const e=this.selector;return e?e.getSelectedKey():null};u.getDomRef=function t(e){const i=this.selector;return i?i.getDomRef(e):null};u._getFilterModel=function t(){let e=this.getModel(j);if(!e){const t=r.getCustomData(this,j);e=new f(t);this.setModel(e,j)}return e};u._createContent=function t(){const e=this._getFilterModel(),i=e.getObject("/paths"),n=i.length>3,a={id:O([this._oTable.getId(),"QuickFilter"]),enabled:e.getObject("/enabled"),items:{path:`${j}>/paths`,factory:(t,e)=>{const i={key:e.getObject().annotationPath,text:this._getSelectorItemText(e)};return n?new d(i):new s(i)}}};if(n){a.autoAdjustWidth=true}a[n?"change":"selectionChange"]=this._onSelectionChange.bind(this);this.selector=n?new c(a):new l(a)};u.getOverflowToolbarConfig=function t(){return{canOverflow:true}};u._createControlSideEffects=function t(){const i=this.selector,n=i.getItems(),a=r.getCustomData(this._oTable,"navigationPath");if(a){var o;const t=[];for(const i in n){const r=n[i].getKey(),o=e.getFiltersInfoForSV(this._oTable,r);o.properties.forEach(function(e){const i=`${a}/${e}`;if(!t.includes(i)){t.push(i)}})}(o=this._getSideEffectController())===null||o===void 0?void 0:o.addControlSideEffects(this.parentEntityType,{sourceProperties:t,targetEntities:[{$NavigationPropertyPath:a}],sourceControlId:this.getId()})}};u._getSelectorItemText=function t(e){const i=e.getObject().annotationPath,n=e.getPath(),a=this.getModel().getMetaModel(),r=a.getObject(`${this.entitySet}/${i}`);return r.Text+(this.showCounts?` ({${j}>${n}/count})`:"")};u._getSideEffectController=function t(){const e=this._getViewController();return e?e._sideEffects:undefined};u._getViewController=function t(){const i=e.getTargetView(this);return i&&i.getController()};u._updateCounts=function i(){const n=this._oTable,l=this._getViewController(),s=this.selector,c=s.getItems(),u=this._getFilterModel(),p=[],d=[];let f=[];let m=[];const g=r.getCustomData(n,V);if(l&&l.getChartControl){const t=l.getChartControl();if(t){const i=a.getAllFilterInfo(t);if(i&&i.filters.length){m=e.getChartPropertiesWithoutPrefixes(i.filters)}}f=a.getChartSelectionsExist(t,n)?f.concat(o.getHiddenFilters(n)).concat(m):f.concat(o.getHiddenFilters(n))}for(const t in c){const i=c[t].getKey(),a=e.getFiltersInfoForSV(n,i);d.push(a.text);u.setProperty(`/paths/${t}/count`,"...");p.push(o.getListBindingForCount(n,n.getBindingContext(),{batchGroupId:i===g?this.batchGroupId:"$auto",additionalFilters:f.concat(a.filters)}))}Promise.all(p).then(function(t){for(const e in t){u.setProperty(`/paths/${e}/count`,o.getCountFormatted(t[e]))}}).catch(function(e){t.error("Error while retrieving the binding promises",e)})};u._onSelectionChange=function t(e){const i=e.getSource();r.setCustomData(this._oTable,V,i.getSelectedKey());this._oTable.rebind();const n=this._getViewController();if(n&&n.getExtensionAPI&&n.getExtensionAPI().updateAppState){n.getExtensionAPI().updateAppState()}};u.destroy=function t(e){if(this._attachedToView){const t=this._getSideEffectController();if(t){t.removeControlSideEffects(this)}}delete this._oTable;i.prototype.destroy.call(this,e)};return n}(u),D=_(C.prototype,"showCounts",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),$=_(C.prototype,"entitySet",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),x=_(C.prototype,"parentEntityType",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),T=_(C.prototype,"batchGroupId",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),F=_(C.prototype,"selector",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),C))||P);return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/Table.block",["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/CommonUtils","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/internal/helpers/TableTemplating","sap/ui/core/library","../CommonHelper","../internal/helpers/ActionHelper","../MacroAPI","./TableHelper"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b){"use strict";var v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V,j,R,U,k,N,H,z,W,q,G,Q,X,K,J,Y,Z,tt,et,it,nt,at,rt,ot,lt,st,ct,ut,pt,dt,ft,mt,gt,ht,bt,vt,yt,Pt,Ct,Dt,$t,xt,Tt,Ft,Ot,It,Mt,At,Et,wt,St,Lt,_t,Bt,Vt,jt,Rt,Ut,kt,Nt,Ht,zt,Wt,qt,Gt,Qt,Xt,Kt,Jt,Yt,Zt,te,ee,ie,ne,ae,re,oe,le,se,ce,ue,pe,de,fe,me,ge,he,be,ve,ye,Pe,Ce,De,$e,xe,Te,Fe,Oe,Ie,Me,Ae,Ee,we,Se,Le,_e,Be,Ve,je,Re,Ue;var ke={};var Ne=f.TitleLevel;var He=d.buildExpressionForHeaderVisible;var ze=p.getContextRelativeTargetObjectPath;var We=u.isSingleton;var qe=c.generate;var Ge=s.getInvolvedDataModelObjects;var Qe=l.CreationMode;var Xe=o.getVisualizationsFromPresentationVariant;var Ke=o.getDataVisualizationConfiguration;var Je=r.isDataFieldForAnnotation;var Ye=n.xml;var Ze=i.defineBuildingBlock;var ti=i.blockEvent;var ei=i.blockAttribute;var ii=i.blockAggregation;function ni(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function ai(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ri(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;oi(t,e)}function oi(t,e){oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return oi(t,e)}function li(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function si(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const ci=function(t){var e;let i=null;const n=t;let a=[];const r=(e=n.getAttribute("key"))===null||e===void 0?void 0:e.replace("InlineXML_","");if(n.children.length&&n.localName==="ActionGroup"&&n.namespaceURI==="sap.fe.macros"){const t=Array.prototype.slice.apply(n.children);let e=0;i=t.reduce((t,i)=>{var n;const a=((n=i.getAttribute("key"))===null||n===void 0?void 0:n.replace("InlineXML_",""))||r+"_Menu_"+e;const o={key:a,text:i.getAttribute("text"),__noWrap:true,press:i.getAttribute("press"),requiresSelection:i.getAttribute("requiresSelection")==="true",enabled:i.getAttribute("enabled")===null?true:i.getAttribute("enabled")};t[o.key]=o;e++;return t},{});a=Object.values(i).slice(-n.children.length).map(function(t){return t.key})}return{key:r,text:n.getAttribute("text"),position:{placement:n.getAttribute("placement"),anchor:n.getAttribute("anchor")},__noWrap:true,press:n.getAttribute("press"),requiresSelection:n.getAttribute("requiresSelection")==="true",enabled:n.getAttribute("enabled")===null?true:n.getAttribute("enabled"),menu:a.length?a:null,menuContentActions:i}};const ui=function(t,e){var i,n;e.key=e.key.replace("InlineXML_","");t.setAttribute("key",e.key);return{key:e.key,type:"Slot",width:t.getAttribute("width"),importance:t.getAttribute("importance"),horizontalAlign:t.getAttribute("horizontalAlign"),availability:t.getAttribute("availability"),header:t.getAttribute("header"),template:((i=t.children[0])===null||i===void 0?void 0:i.outerHTML)||"",properties:t.getAttribute("properties")?(n=t.getAttribute("properties"))===null||n===void 0?void 0:n.split(","):undefined,position:{placement:t.getAttribute("placement")||t.getAttribute("positionPlacement"),anchor:t.getAttribute("anchor")||t.getAttribute("positionAnchor")}}};let pi=(v=Ze({name:"Table",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros"}),y=ei({type:"sap.ui.model.Context",isPublic:true,required:true}),P=ei({type:"boolean",isPublic:true}),C=ei({type:"sap.ui.model.Context",isPublic:true}),D=ei({type:"boolean",isPublic:true}),$=ei({type:"boolean",isPublic:true}),x=ei({type:"boolean",isPublic:true}),T=ei({type:"string",isPublic:true}),F=ei({type:"string",isPublic:true}),O=ei({type:"sap.ui.core.TitleLevel",isPublic:true}),I=ei({type:"boolean",isPublic:true}),M=ei({type:"string",isPublic:true}),A=ei({type:"boolean",isPublic:true}),E=ei({type:"string|boolean",isPublic:true}),w=ei({type:"boolean",isPublic:true}),S=ei({type:"string",isPublic:true}),L=ei({type:"boolean",isPublic:true}),_=ei({type:"string",isPublic:true}),B=ei({type:"string",isPublic:true}),V=ei({type:"sap.ui.model.Context",isPublic:false,required:true,expectedTypes:["EntitySet","NavigationProperty","Singleton"]}),j=ei({type:"string"}),R=ei({type:"boolean"}),U=ei({type:"EntitySet|NavigationProperty"}),k=ei({type:"string"}),N=ei({type:"boolean"}),H=ei({type:"string"}),z=ei({type:"string"}),W=ei({type:"string"}),q=ei({type:"string"}),G=ei({type:"string"}),Q=ei({type:"string"}),X=ei({type:"boolean"}),K=ei({type:"boolean"}),J=ei({type:"boolean"}),Y=ei({type:"string"}),Z=ei({type:"string"}),tt=ei({type:"number"}),et=ei({type:"boolean"}),it=ei({type:"boolean"}),nt=ei({type:"boolean"}),at=ei({type:"string"}),rt=ei({type:"string"}),ot=ei({type:"string"}),lt=ei({type:"string"}),st=ei({type:"string"}),ct=ei({type:"string"}),ut=ei({type:"boolean"}),pt=ei({type:"boolean"}),dt=ei({type:"number"}),ft=ei({type:"string"}),mt=ei({type:"object",isPublic:true}),gt=ei({type:"sap.ui.model.Context"}),ht=ei({type:"string"}),bt=ei({type:"string"}),vt=ei({type:"boolean"}),yt=ii({type:"sap.fe.macros.internal.table.Action | sap.fe.macros.internal.table.ActionGroup",isPublic:true,processAggregations:ci}),Pt=ii({type:"sap.fe.macros.internal.table.Column",isPublic:true,hasVirtualNode:true,processAggregations:ui}),Ct=ti(),Dt=ti(),$t=ti(),xt=ti(),Tt=ti(),Ft=ti(),Ot=ti(),It=ti(),v(Mt=(At=function(e){ri(i,e);function i(t,n,r){var o,l;var s;s=e.call(this,t)||this;ni(s,"metaPath",Et,ai(s));ni(s,"busy",wt,ai(s));ni(s,"contextPath",St,ai(s));ni(s,"enableFullScreen",Lt,ai(s));ni(s,"enableExport",_t,ai(s));ni(s,"enablePaste",Bt,ai(s));ni(s,"filterBar",Vt,ai(s));ni(s,"header",jt,ai(s));ni(s,"headerLevel",Rt,ai(s));ni(s,"headerVisible",Ut,ai(s));ni(s,"id",kt,ai(s));ni(s,"isSearchable",Nt,ai(s));ni(s,"personalization",Ht,ai(s));ni(s,"readOnly",zt,ai(s));ni(s,"type",Wt,ai(s));ni(s,"useCondensedLayout",qt,ai(s));ni(s,"selectionMode",Gt,ai(s));ni(s,"variantManagement",Qt,ai(s));ni(s,"collection",Xt,ai(s));ni(s,"_apiId",Kt,ai(s));ni(s,"autoBindOnInit",Jt,ai(s));ni(s,"collectionEntity",Yt,ai(s));ni(s,"columnEditMode",Zt,ai(s));ni(s,"createAtEnd",te,ai(s));ni(s,"createNewAction",ee,ai(s));ni(s,"creationMode",ie,ai(s));ni(s,"createOutbound",ne,ai(s));ni(s,"createOutboundDetail",ae,ai(s));ni(s,"customValidationFunction",re,ai(s));ni(s,"dataStateIndicatorFilter",oe,ai(s));ni(s,"disableAddRowButtonForEmptyData",le,ai(s));ni(s,"enableAutoColumnWidth",se,ai(s));ni(s,"enableAutoScroll",ce,ai(s));ni(s,"fieldMode",ue,ai(s));ni(s,"filterBarId",pe,ai(s));ni(s,"inlineCreationRowCount",de,ai(s));ni(s,"isAlp",fe,ai(s));ni(s,"isCompactType",me,ai(s));ni(s,"isOptimizedForSmallDevice",ge,ai(s));ni(s,"multiSelectMode",he,ai(s));ni(s,"navigationPath",be,ai(s));ni(s,"noDataText",ve,ai(s));ni(s,"rowAction",ye,ai(s));ni(s,"tableType",Pe,ai(s));ni(s,"updatablePropertyPath",Ce,ai(s));ni(s,"useBasicSearch",De,ai(s));ni(s,"searchable",$e,ai(s));ni(s,"selectionLimit",xe,ai(s));ni(s,"showCreate",Te,ai(s));ni(s,"tableDefinition",Fe,ai(s));ni(s,"tableDefinitionContext",Oe,ai(s));ni(s,"tableDelegate",Ie,ai(s));ni(s,"tabTitle",Me,ai(s));ni(s,"visible",Ae,ai(s));ni(s,"actions",Ee,ai(s));ni(s,"columns",we,ai(s));ni(s,"rowPress",Se,ai(s));ni(s,"onContextChange",Le,ai(s));ni(s,"onChange",_e,ai(s));ni(s,"onSegmentedButtonPressed",Be,ai(s));ni(s,"variantSaved",Ve,ai(s));ni(s,"stateChange",je,ai(s));ni(s,"selectionChange",Re,ai(s));ni(s,"variantSelected",Ue,ai(s));s.getTableType=()=>{const t=s.collection.getObject();switch(s.tableType){case"GridTable":return Ye`<mdcTable:GridTableType
                rowCountMode="${s.tableDefinition.control.rowCountMode}"
                rowCount="${s.tableDefinition.control.rowCount}"
                selectionLimit="${s.selectionLimit}"
            />`;case"TreeTable":return Ye`<mdcTable:TreeTableType
                rowCountMode="${s.tableDefinition.control.rowCountMode}"
                rowCount="${s.tableDefinition.control.rowCount}"
            />`;default:const e=t.$kind==="EntitySet"?"Scroll":undefined;return Ye`<mdcTable:ResponsiveTableType
                showDetailsButton="true"
                detailsButtonSetting="{=['Low', 'Medium', 'None']}"
                growingMode="${e}"
            />`}};s.getDependents=()=>{var t;let e=``;if(!s.readOnly&&(t=s.tableDefinition)!==null&&t!==void 0&&t.columns){for(const t of s.tableDefinition.columns){if(t.availability==="Default"&&"annotationPath"in t){e+=s.getValueHelp(t)}}}const i=s.tableDefinition.annotation.standardActions.actions;if(s.tableDefinition.annotation.standardActions.isInsertUpdateTemplated&&i.create.isTemplated==="true"){e+=Ye`<control:CommandExecution
                                execute="${b.pressEventForCreateButton(ai(s),true)}"
                                visible="${i.create.visible}"
                                enabled="${i.create.enabled}"
                                command="Create"
                            />`}if(i.delete.isTemplated==="true"){var n,a,r,o,l;const t=(n=((o=s.collectionEntity)===null||o===void 0?void 0:o.entityType)||((l=s.collectionEntity)===null||l===void 0?void 0:l.targetType))===null||n===void 0?void 0:(a=n.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:r.HeaderInfo;e+=Ye`<control:CommandExecution
                        execute="${b.pressEventForDeleteButton(ai(s),s.collectionEntity.name,t,s.contextObjectPath)}"
                        visible="${i.delete.visible}"
                        enabled="${i.delete.enabled}"
                        command="DeleteEntry"
                        />`}for(const t in s.tableDefinition.commandActions){const i=s.tableDefinition.commandActions[t];e+=`${s.getActionCommand(t,i)}`}e+=`<control:CommandExecution execute="TableRuntime.displayTableSettings" command="TableSettings" />`;if(s.variantManagement==="None"){e+=`\x3c!-- Persistence provider offers persisting personalization changes without variant management --\x3e\n\t\t\t<p13n:PersistenceProvider id="${qe([s.id,"PersistenceProvider"])}" for="${s.id}" />`}return Ye`${e}`};s.getActions=()=>{let t="";if(s.onSegmentedButtonPressed){t=`<mdcat:ActionToolbarAction\n            layoutInformation="{\n                    aggregationName: 'end',\n                    alignment: 'End'\n                }"\n            visible="{= \${pageInternal>alpContentView} === 'Table' }"\n        >\n            <SegmentedButton\n                id="${qe([s.id,"SegmentedButton","TemplateContentView"])}"\n                select="${s.onSegmentedButtonPressed}"\n                selectedKey="{pageInternal>alpContentView}"\n            >\n                <items>`;if(m.isDesktop()){t+=`<SegmentedButtonItem\n                            tooltip="{sap.fe.i18n>M_COMMON_HYBRID_SEGMENTED_BUTTON_ITEM_TOOLTIP}"\n\t\t\t\t\t\t\tkey = "Hybrid"\n\t\t\t\t\t\t\ticon = "sap-icon://chart-table-view"\n\t\t\t\t\t\t\t/>`}t+=`<SegmentedButtonItem\n                        tooltip="{sap.fe.i18n>M_COMMON_CHART_SEGMENTED_BUTTON_ITEM_TOOLTIP}"\n                        key="Chart"\n                        icon="sap-icon://bar-chart"\n                    />\n                    <SegmentedButtonItem\n                        tooltip="{sap.fe.i18n>M_COMMON_TABLE_SEGMENTED_BUTTON_ITEM_TOOLTIP}"\n                        key="Table"\n                        icon="sap-icon://table-view"\n                    />\n                </items>\n            </SegmentedButton>\n        </mdcat:ActionToolbarAction>`}t+=`<core:Fragment fragmentName="sap.fe.macros.table.Actions" type="XML" />`;return Ye`${t}`};const c=Ge(s.metaPath,s.contextPath);s.contextObjectPath=c;const u=r.bindingContexts.converterContext;s.pageTemplateType=u===null||u===void 0?void 0:u.getObject("/templateType");const p=i.setUpTableDefinition(ai(s),r);s.collection=r.models.metaModel.createBindingContext(p.annotation.collection);s.convertedMetaData=s.contextObjectPath.convertedTypes;s.collectionEntity=s.convertedMetaData.resolvePath(s.tableDefinition.annotation.collection).target;s.setUpId();s.selectionMode=s.tableDefinition.annotation.selectionMode;s.enableFullScreen=s.tableDefinition.control.enableFullScreen;s.enableExport=s.tableDefinition.control.enableExport;s.enablePaste=s.tableDefinition.annotation.standardActions.actions.paste.enabled;s.updatablePropertyPath=s.tableDefinition.annotation.standardActions.updatablePropertyPath;s.type=s.tableDefinition.control.type;s.disableAddRowButtonForEmptyData??=s.tableDefinition.control.disableAddRowButtonForEmptyData;s.customValidationFunction??=s.tableDefinition.control.customValidationFunction;s.headerVisible??=s.tableDefinition.control.headerVisible;s.searchable??=s.tableDefinition.annotation.searchable;s.inlineCreationRowCount??=s.tableDefinition.control.inlineCreationRowCount;s.header??=s.tableDefinition.annotation.title;s.selectionLimit??=s.tableDefinition.control.selectionLimit;s.isCompactType??=s.tableDefinition.control.isCompactType;s.creationMode??=s.tableDefinition.annotation.create.mode;s.createAtEnd??=s.tableDefinition.annotation.create.append;s.createOutbound??=s.tableDefinition.annotation.create.outbound;s.createNewAction??=s.tableDefinition.annotation.create.newAction;s.createOutboundDetail??=s.tableDefinition.annotation.create.outboundDetail;s.personalization??=s.tableDefinition.annotation.p13nMode;s.variantManagement??=s.tableDefinition.annotation.variantManagement;s.enableAutoColumnWidth??=true;s.dataStateIndicatorFilter??=s.tableDefinition.control.dataStateIndicatorFilter;s.isOptimizedForSmallDevice??=a.isSmallDevice();s.navigationPath=p.annotation.navigationPath;if(p.annotation.collection.startsWith("/")&&We(c.startingEntitySet)){p.annotation.collection=s.navigationPath}s.convertedMetaData=s.contextObjectPath.convertedTypes;s.setReadOnly();if(s.rowPress){s.rowAction="Navigation"}s.rowPress??=(o=s.tableDefinition.annotation.row)===null||o===void 0?void 0:o.press;s.rowAction??=(l=s.tableDefinition.annotation.row)===null||l===void 0?void 0:l.action;if(s.personalization==="false"){s.personalization=undefined}else if(s.personalization==="true"){s.personalization="Sort,Column,Filter"}switch(s.personalization){case"false":s.personalization=undefined;break;case"true":s.personalization="Sort,Column,Filter";break;default:}if(s.isSearchable===false){s.searchable=false}else{s.searchable=s.tableDefinition.annotation.searchable}let d=false;if(!s.filterBar&&!s.filterBarId&&s.searchable){s.filterBarId=qe([s.id,"StandardAction","BasicSearch"]);d=true}s.useBasicSearch=d;s.tableType=s.type;s.showCreate=s.tableDefinition.annotation.standardActions.actions.create.visible||true;s.autoBindOnInit=s.tableDefinition.annotation.autoBindOnInit;switch(s.readOnly){case true:s.columnEditMode="Display";break;case false:s.columnEditMode="Editable";break;default:s.columnEditMode=undefined}return s}ke=i;i.getVisualizationPath=function e(i,n){const a=ze(i);if(!a){t.error(`Missing meta path parameter for LineItem`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}if(i.targetObject.term==="com.sap.vocabularies.UI.v1.LineItem"){return a}const r=n.getEntityTypeAnnotation(a);let o=[];switch(i.targetObject.term){case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":if(i.targetObject.PresentationVariant){o=Xe(i.targetObject.PresentationVariant,a,r.converterContext,true)}break;case"com.sap.vocabularies.UI.v1.PresentationVariant":o=Xe(i.targetObject,a,r.converterContext,true);break;default:t.error(`Bad metapath parameter for table : ${i.targetObject.term}`)}const l=o.find(t=>t.visualization.term==="com.sap.vocabularies.UI.v1.LineItem");if(l){return l.annotationPath}else{t.error(`Bad meta path parameter for LineItem: ${i.targetObject.term}`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}};i.getPresentationPath=function t(e){var i;let n;switch((i=e.targetObject)===null||i===void 0?void 0:i.term){case"com.sap.vocabularies.UI.v1.PresentationVariant":n=ze(e);break;case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":n=ze(e)+"/PresentationVariant";break}return n};i.setUpTableDefinition=function t(e,n){let a=e.tableDefinition;if(!a){var r,o;const t=e.getConverterContext(e.contextObjectPath,(r=e.contextPath)===null||r===void 0?void 0:r.getPath(),n);const s=i.getVisualizationPath(e.contextObjectPath,t);const c=i.getPresentationPath(e.contextObjectPath);const u={};const p={enableExport:e.enableExport,enableFullScreen:e.enableFullScreen,enablePaste:e.enablePaste,selectionMode:e.selectionMode,type:e.type};if(e.actions){var l;(l=Object.values(e.actions))===null||l===void 0?void 0:l.forEach(t=>{e.actions={...e.actions,...t.menuContentActions};delete t.menuContentActions})}u[s]={actions:e.actions||{},columns:e.columns||{},tableSettings:p};const d=e.getConverterContext(e.contextObjectPath,(o=e.contextPath)===null||o===void 0?void 0:o.getPath(),n,u);const f=Ke(s,e.useCondensedLayout,d,undefined,undefined,c,true);a=f.visualizations[0];e.tableDefinition=a}e.tableDefinitionContext=h.createBindingContext(e.tableDefinition,n);return a};var n=i.prototype;n.setUpId=function t(){if(this.id){this._apiId=this.id;this.id=this.getContentId(this.id)}else{const t=this.tableDefinition;this.id??=t.annotation.id;this._apiId=qe([t.annotation.id,"Table"])}};n.setReadOnly=function t(){if(this.readOnly===undefined&&this.tableDefinition.annotation.displayMode===true){this.readOnly=true}};n._getEntityType=function t(){var e,i;return((e=this.collectionEntity)===null||e===void 0?void 0:e.entityType)||((i=this.collectionEntity)===null||i===void 0?void 0:i.targetType)};n.getValueHelpTemplateFromPath=function t(e){return e?`<macros:ValueHelp\n        idPrefix="${qe([this.id,"TableValueHelp"])}"\n        property="${e}/Value"\n    />`:""};n.getValueHelp=function t(e){const i=this.convertedMetaData.resolvePath(e.annotationPath).target;if(Je(i)&&i.Target.$target.term==="com.sap.vocabularies.UI.v1.Chart"){return``}else if(Je(i)&&i.Target.$target.term==="com.sap.vocabularies.UI.v1.FieldGroup"){let t=``;for(const n in i.Target.$target.Data){t+=this.getValueHelpTemplateFromPath(e.annotationPath+"/Target/$AnnotationPath/Data/"+n)}return Ye`${t}`}else{return Ye`${this.getValueHelpTemplateFromPath(e.annotationPath)}`}};n.getActionCommand=function t(e,i){var n,a,r,o,l;const s=i.annotationPath?this.convertedMetaData.resolvePath(i.annotationPath).target:undefined;const c=i.annotationPath?m.getActionContext(this.metaPath.getModel().createBindingContext(i.annotationPath+"/Action")):undefined;const u=s===null||s===void 0?void 0:(n=s.ActionTarget)===null||n===void 0?void 0:n.isBound;const p=(s===null||s===void 0?void 0:(a=s.ActionTarget)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(o=r.Core)===null||o===void 0?void 0:(l=o.OperationAvailable)===null||l===void 0?void 0:l.valueOf())!==false;const d=i.type==="ForAction"?u!==true||p:true;if(d){var f;return Ye`<internalMacro:ActionCommand
							action="{tableDefinition>commandActions/${e}}"
							onExecuteAction="${b.pressEventDataFieldForActionButton(this,s,this.collectionEntity.name,this.tableDefinition.operationAvailableMap,c,i.isNavigable,i.enableAutoScroll,i.defaultValuesExtensionFunction)}"
							onExecuteIBN="${m.getPressHandlerForDataFieldForIBN(s,"${internal>selectedContexts}",!this.tableDefinition.enableAnalytics)}"
							onExecuteManifest="${i.noWrap?i.press:m.buildActionWrapper(i,this)}"
							isIBNEnabled="${i.enabled??b.isDataFieldForIBNEnabled(this,s,!!s.RequiresContext,(f=s.NavigationAvailable)===null||f===void 0?void 0:f.valueOf())}"
							isActionEnabled="${i.enabled??b.isDataFieldForActionEnabled(this,s,!!u,c,i.enableOnSelect)}"
							/>`}return``};n.getCreationRow=function t(){if(this.creationMode==="CreationRow"){const t=this.tableDefinition.annotation.standardActions.actions.creationRow;if(t.isTemplated){return Ye`<mdc:creationRow>
							<mdcTable:CreationRow
								id="${qe([this.id,"CreationRow"])}"
								visible="${t.visible}"
								apply="${b.pressEventForCreateButton(this,false)}"
								applyEnabled="${t.enabled}"
								macrodata:disableAddRowButtonForEmptyData="${this.disableAddRowButtonForEmptyData}"
								macrodata:customValidationFunction="${this.customValidationFunction}"
							/>
					   	   </mdc:creationRow>`}}return""};n.getRowSetting=function t(){var e,i;let n=`<mdcTable:RowSettings\n        navigated="${(e=this.tableDefinition.annotation.row)===null||e===void 0?void 0:e.rowNavigated}"\n        highlight="${(i=this.tableDefinition.annotation.row)===null||i===void 0?void 0:i.rowHighlighting}"\n        >`;if(this.rowAction==="Navigation"){var a;n+=`<mdcTable:rowActions>\n                <mdcTable:RowActionItem\n                    type = "${this.rowAction}"\n                    press = "${this.tableType==="ResponsiveTable"?"":this.rowPress}"\n                    visible = "${(a=this.tableDefinition.annotation.row)===null||a===void 0?void 0:a.visible}"\n                    />\n                </mdcTable:rowActions>`}n+=`</mdcTable:RowSettings>`;return Ye`${n}`};n.getVariantManagement=function t(){if(this.variantManagement==="Control"){return Ye`<mdc:variant>
                        <variant:VariantManagement
                            id="${qe([this.id,"VM"])}"
                            for="{this>id}"
                            showSetAsDefault="true"
                            select="{this>variantSelected}"
                            headerLevel="${this.headerLevel}"
                            save="${this.variantSaved}"
                        />
                    </mdc:variant>`}return""};n.getQuickFilter=function t(){var e;if((e=this.tableDefinition.control.filters)!==null&&e!==void 0&&e.quickFilters){var i;const t=this.tableDefinition.control.filters.quickFilters;return Ye`<template:with path="tableDefinition>control/filters/quickFilters" var="quickFilters">
                        <mdc:quickFilter>
                            <macroTable:QuickFilterContainer
                                id="${qe([this.id,"QuickFilterContainer"])}"
                                entitySet="${m.getContextPath(null,{context:this.collection})}"
                                parentEntityType="{contextPath>$Type}"
                                showCounts="${t.showCounts===true}"
                                macrodata:filters="${b.formatHiddenFilters((i=this.tableDefinition.control.filters)===null||i===void 0?void 0:i.quickFilters)}"
                                batchGroupId="$auto.Workers"
                            />
                        </mdc:quickFilter>
                    </template:with>`}return""};n.getEmptyRowsEnabled=function t(){return this.creationMode===Qe.InlineCreationRows?this.tableDefinition.annotation.standardActions.actions.create.enabled:undefined};n.getTemplate=function t(){var e,i,n,a,r,o,l,s,c,u;const p=He(this);if(this.rowPress){this.rowAction="Navigation"}this.rowPress??=(e=this.tableDefinition.annotation.row)===null||e===void 0?void 0:e.press;const d=(i=this.collectionEntity.annotations.Capabilities)===null||i===void 0?void 0:(n=i.DeleteRestrictions)===null||n===void 0?void 0:(a=n.Deletable)===null||a===void 0?void 0:a.path;const f=b.getUiLineItemObject(this.metaPath,this.convertedMetaData);const h=(r=b.getDelegate)===null||r===void 0?void 0:r.call(b,this.tableDefinition,(o=this.isAlp)===null||o===void 0?void 0:o.toString(),this.tableDefinition.annotation.entityName);const v=`TableRuntime.setContexts(\${$source>/}, '${d}', '${(l=this.collectionEntity.annotations.Common)===null||l===void 0?void 0:l.DraftRoot}', '${this.tableDefinition.operationAvailableMap}', '${b.getNavigationAvailableMap(f)}', '${g.getMultiSelectDisabledActions(f)}', '${this.updatablePropertyPath}')`;const y=this._getEntityType();return Ye`
            <macroTable:TableAPI
                xmlns="sap.m"
                xmlns:mdc="sap.ui.mdc"
                xmlns:plugins="sap.m.plugins"
                xmlns:mdcTable="sap.ui.mdc.table"
                xmlns:macroTable="sap.fe.macros.table"
                xmlns:mdcat="sap.ui.mdc.actiontoolbar"
                xmlns:core="sap.ui.core"
                xmlns:control="sap.fe.core.controls"
                xmlns:dt="sap.ui.dt"
                xmlns:fl="sap.ui.fl"
                xmlns:variant="sap.ui.fl.variants"
                xmlns:p13n="sap.ui.mdc.p13n"
                xmlns:internalMacro="sap.fe.macros.internal"
                xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"
                xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
                id="${this._apiId}"
                tableDefinition="{_pageModel>${this.tableDefinitionContext.getPath()}}"
                entityTypeFullyQualifiedName="${y===null||y===void 0?void 0:y.fullyQualifiedName}"
                metaPath="${(s=this.metaPath)===null||s===void 0?void 0:s.getPath()}"
                contextPath="${(c=this.contextPath)===null||c===void 0?void 0:c.getPath()}"
                stateChange="${this.stateChange}"
                selectionChange="${this.selectionChange}"
                readOnly="${this.readOnly}"
                filterBar="${this.filterBar}"
                macrodata:tableAPILocalId="${this._apiId}"
                emptyRowsEnabled="${this.getEmptyRowsEnabled()}"
                enableAutoColumnWidth="${this.enableAutoColumnWidth}"
                isOptimizedForSmallDevice="${this.isOptimizedForSmallDevice}"
            >
				<template:with path="collection>${m.getTargetCollectionPath(this.collection)}" var="targetCollection">
                <macroTable:layoutData>
                    <FlexItemData maxWidth="100%" />
                </macroTable:layoutData>
                <!-- macrodata has to be an expression binding if it needs to be set as attribute via change handler during templating -->
                    <mdc:Table
                        binding="{internal>controls/${this.id}}"
                        unittest:id="TableMacroFragment"
                        core:require="{TableRuntime: 'sap/fe/macros/table/TableRuntime', API: 'sap/fe/macros/table/TableAPI'}"
                        fl:flexibility="{this>fl:flexibility}"
                        sortConditions="${this.tableDefinition.annotation.sortConditions}"
                        groupConditions="${m.stringifyObject(this.tableDefinition.annotation.groupConditions)}"
                        aggregateConditions="${m.stringifyObject(this.tableDefinition.annotation.aggregateConditions)}"
                        dt:designtime="${this.variantManagement==="None"?"not-adaptable":undefined}"
                        macrodata:kind="${this.collectionEntity._type}"
                        macrodata:navigationPath="${this.navigationPath}"
                        id="${this.id}"
                        busy="${this.busy}"
                        busyIndicatorDelay="0"
                        enableExport="${this.enableExport}"
                        delegate="${h}"
                        rowPress="${this.rowPress}"
                        height="100%"
                        autoBindOnInit="${this.autoBindOnInit&&!this.filterBar}"
                        selectionMode="${this.selectionMode||"None"}"
                        selectionChange="${v}"
                        showRowCount="${this.tableDefinition.control.showRowCount}"
                        ${this.attr("header",this.header)}
                        headerVisible="${p}"
                        headerLevel="${this.headerLevel}"
                        threshold="${this.tableDefinition.annotation.threshold}"
                        noData="${this.noDataText}"
                        p13nMode="${this.personalization}"
                        filter="${this.filterBarId}"
                        paste="API.onPaste($event, $controller)"
                        beforeExport="API.onBeforeExport($event)"
                        class="${this.tableDefinition.control.useCondensedTableLayout===true?"sapUiSizeCondensed":undefined}"
                        multiSelectMode="${this.tableDefinition.control.multiSelectMode}"
                        showPasteButton="${this.tableDefinition.annotation.standardActions.actions.paste.visible}"
                        enablePaste="${this.tableDefinition.annotation.standardActions.actions.paste.enabled}"
                        macrodata:rowsBindingInfo="${b.getRowsBindingInfo(this)}"
                        macrodata:enableAnalytics="${this.tableDefinition.enableAnalytics}"
                        macrodata:creationMode="${this.creationMode}"
                        macrodata:inlineCreationRowCount="${this.inlineCreationRowCount}"
                        macrodata:showCreate="${this.showCreate}"
                        macrodata:createAtEnd="${this.createAtEnd}"
                        macrodata:enableAutoScroll="${this.enableAutoScroll}"
                        macrodata:displayModePropertyBinding="${this.readOnly}"
                        macrodata:tableType="${this.tableType}"
                        macrodata:targetCollectionPath="${m.getContextPath(null,{context:this.collection})}"
                        macrodata:entityType="${m.getContextPath(null,{context:this.collection})+"/"}"
                        macrodata:metaPath="${m.getContextPath(null,{context:this.collection})}"
                        macrodata:onChange="${this.onChange}"
                        macrodata:hiddenFilters="${b.formatHiddenFilters((u=this.tableDefinition.control.filters)===null||u===void 0?void 0:u.hiddenFilters)}"
                        macrodata:requestGroupId="$auto.Workers"
                        macrodata:segmentedButtonId="${qe([this.id,"SegmentedButton","TemplateContentView"])}"
                        macrodata:enablePaste="${this.enablePaste}"
                        macrodata:operationAvailableMap="${m.stringifyCustomData(this.tableDefinition.operationAvailableMap)}"
                        visible="${this.visible}"
                    >
                        <mdc:dataStateIndicator>
                            <plugins:DataStateIndicator
                                filter="${this.dataStateIndicatorFilter}"
                                enableFiltering="true"
                                dataStateChange="API.onDataStateChange"
                            />
                        </mdc:dataStateIndicator>
                        <mdc:type>
                            ${this.getTableType()}
                        </mdc:type>
                        <mdc:dependents>
                            ${this.getDependents()}
                        </mdc:dependents>
                        <mdc:actions>
                            ${this.getActions()}
                        </mdc:actions>
                        <mdc:rowSettings>
                        ${this.getRowSetting()}
                        </mdc:rowSettings>
                        <mdc:columns>
                            <core:Fragment fragmentName="sap.fe.macros.table.Columns" type="XML" />
                        </mdc:columns>
                        ${this.getCreationRow()}
                        ${this.getVariantManagement()}
                        ${this.getQuickFilter()}
                    </mdc:Table>
				</template:with>
            </macroTable:TableAPI>
        `};return i}(e),Et=li(At.prototype,"metaPath",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),wt=li(At.prototype,"busy",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),St=li(At.prototype,"contextPath",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),Lt=li(At.prototype,"enableFullScreen",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),_t=li(At.prototype,"enableExport",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Bt=li(At.prototype,"enablePaste",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),Vt=li(At.prototype,"filterBar",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),jt=li(At.prototype,"header",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),Rt=li(At.prototype,"headerLevel",[O],{configurable:true,enumerable:true,writable:true,initializer:function(){return Ne.Auto}}),Ut=li(At.prototype,"headerVisible",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),kt=li(At.prototype,"id",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),Nt=li(At.prototype,"isSearchable",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),Ht=li(At.prototype,"personalization",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),zt=li(At.prototype,"readOnly",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),Wt=li(At.prototype,"type",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),qt=li(At.prototype,"useCondensedLayout",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),Gt=li(At.prototype,"selectionMode",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),Qt=li(At.prototype,"variantManagement",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),Xt=li(At.prototype,"collection",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),Kt=li(At.prototype,"_apiId",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),Jt=li(At.prototype,"autoBindOnInit",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Yt=li(At.prototype,"collectionEntity",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),Zt=li(At.prototype,"columnEditMode",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),te=li(At.prototype,"createAtEnd",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=li(At.prototype,"createNewAction",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=li(At.prototype,"creationMode",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=li(At.prototype,"createOutbound",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=li(At.prototype,"createOutboundDetail",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),re=li(At.prototype,"customValidationFunction",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=li(At.prototype,"dataStateIndicatorFilter",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),le=li(At.prototype,"disableAddRowButtonForEmptyData",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),se=li(At.prototype,"enableAutoColumnWidth",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=li(At.prototype,"enableAutoScroll",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=li(At.prototype,"fieldMode",[Y],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),pe=li(At.prototype,"filterBarId",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),de=li(At.prototype,"inlineCreationRowCount",[tt],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=li(At.prototype,"isAlp",[et],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),me=li(At.prototype,"isCompactType",[it],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=li(At.prototype,"isOptimizedForSmallDevice",[nt],{configurable:true,enumerable:true,writable:true,initializer:null}),he=li(At.prototype,"multiSelectMode",[at],{configurable:true,enumerable:true,writable:true,initializer:null}),be=li(At.prototype,"navigationPath",[rt],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=li(At.prototype,"noDataText",[ot],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=li(At.prototype,"rowAction",[lt],{configurable:true,enumerable:true,writable:true,initializer:function(){return undefined}}),Pe=li(At.prototype,"tableType",[st],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=li(At.prototype,"updatablePropertyPath",[ct],{configurable:true,enumerable:true,writable:true,initializer:null}),De=li(At.prototype,"useBasicSearch",[ut],{configurable:true,enumerable:true,writable:true,initializer:null}),$e=li(At.prototype,"searchable",[pt],{configurable:true,enumerable:true,writable:true,initializer:null}),xe=li(At.prototype,"selectionLimit",[dt],{configurable:true,enumerable:true,writable:true,initializer:null}),Te=li(At.prototype,"showCreate",[ft],{configurable:true,enumerable:true,writable:true,initializer:null}),Fe=li(At.prototype,"tableDefinition",[mt],{configurable:true,enumerable:true,writable:true,initializer:null}),Oe=li(At.prototype,"tableDefinitionContext",[gt],{configurable:true,enumerable:true,writable:true,initializer:null}),Ie=li(At.prototype,"tableDelegate",[ht],{configurable:true,enumerable:true,writable:true,initializer:null}),Me=li(At.prototype,"tabTitle",[bt],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),Ae=li(At.prototype,"visible",[vt],{configurable:true,enumerable:true,writable:true,initializer:null}),Ee=li(At.prototype,"actions",[yt],{configurable:true,enumerable:true,writable:true,initializer:null}),we=li(At.prototype,"columns",[Pt],{configurable:true,enumerable:true,writable:true,initializer:null}),Se=li(At.prototype,"rowPress",[Ct],{configurable:true,enumerable:true,writable:true,initializer:null}),Le=li(At.prototype,"onContextChange",[Dt],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=li(At.prototype,"onChange",[$t],{configurable:true,enumerable:true,writable:true,initializer:null}),Be=li(At.prototype,"onSegmentedButtonPressed",[xt],{configurable:true,enumerable:true,writable:true,initializer:null}),Ve=li(At.prototype,"variantSaved",[Tt],{configurable:true,enumerable:true,writable:true,initializer:null}),je=li(At.prototype,"stateChange",[Ft],{configurable:true,enumerable:true,writable:true,initializer:null}),Re=li(At.prototype,"selectionChange",[Ot],{configurable:true,enumerable:true,writable:true,initializer:null}),Ue=li(At.prototype,"variantSelected",[It],{configurable:true,enumerable:true,writable:true,initializer:null}),At))||Mt);ke=pi;return ke},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/TableAPI",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/PasteHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/filter/FilterUtils","sap/fe/macros/table/Utils","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/message/Message","../MacroAPI"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m){"use strict";var g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V,j,R,U,k,N,H,z,W,q,G,Q,X,K,J,Y,Z,tt,et,it,nt,at,rt,ot,lt,st,ct,ut,pt,dt,ft,mt,gt,ht,bt,vt,yt,Pt,Ct,Dt,$t,xt,Tt,Ft,Ot,It,Mt,At,Et,wt,St,Lt;var _t=s.getResourceModel;var Bt=s.getLocalizedText;var Vt=o.xmlEventHandler;var jt=o.property;var Rt=o.event;var Ut=o.defineUI5Class;var kt=o.aggregation;var Nt=r.convertTypes;var Ht=a.CreationMode;function zt(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Wt(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function qt(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;Gt(t,e)}function Gt(t,e){Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return Gt(t,e)}function Qt(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function Xt(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let Kt=(g=Ut("sap.fe.macros.table.TableAPI"),h=jt({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]}),b=jt({type:"object"}),v=jt({type:"string"}),y=jt({type:"boolean"}),P=jt({type:"string"}),C=jt({type:"boolean",defaultValue:false}),D=jt({type:"string",defaultValue:"ResponsiveTable",allowedValues:["GridTable","ResponsiveTable"]}),$=jt({type:"boolean",defaultValue:true}),x=jt({type:"boolean",defaultValue:false}),T=jt({type:"boolean",defaultValue:false}),F=jt({type:"string"}),O=jt({type:"string",allowedValues:["None","Single","Multi","Auto"]}),I=jt({type:"string"}),M=jt({type:"boolean",defaultValue:true}),A=jt({type:"boolean",defaultValue:false}),E=jt({type:"boolean",defaultValue:true}),w=kt({type:"sap.fe.macros.table.Action"}),S=kt({type:"sap.fe.macros.table.Column"}),L=jt({type:"boolean",defaultValue:false}),_=jt({type:"boolean",defaultValue:false}),B=jt({type:"boolean",defaultValue:false}),V=jt({type:"boolean",defaultValue:false}),j=jt({type:"boolean",defaultValue:false}),R=Rt(),U=Rt(),k=Rt(),N=jt({type:"boolean | string",defaultValue:true}),H=jt({type:"string",allowedValues:["Control"]}),z=jt({type:"string"}),W=jt({type:"boolean",defaultValue:true}),q=Rt(),G=Vt(),Q=Vt(),X=Vt(),K=Vt(),J=Vt(),Y=Vt(),Z=Vt(),tt=Vt(),et=Vt(),g(it=(nt=function(a){qt(r,a);function r(t){var e;for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++){n[r-1]=arguments[r]}e=a.call(this,t,...n)||this;zt(e,"metaPath",at,Wt(e));zt(e,"tableDefinition",rt,Wt(e));zt(e,"entityTypeFullyQualifiedName",ot,Wt(e));zt(e,"readOnly",lt,Wt(e));zt(e,"id",st,Wt(e));zt(e,"busy",ct,Wt(e));zt(e,"type",ut,Wt(e));zt(e,"enableExport",pt,Wt(e));zt(e,"enablePaste",dt,Wt(e));zt(e,"enableFullScreen",ft,Wt(e));zt(e,"filterBar",mt,Wt(e));zt(e,"selectionMode",gt,Wt(e));zt(e,"header",ht,Wt(e));zt(e,"enableAutoColumnWidth",bt,Wt(e));zt(e,"isOptimizedForSmallDevice",vt,Wt(e));zt(e,"headerVisible",yt,Wt(e));zt(e,"actions",Pt,Wt(e));zt(e,"columns",Ct,Wt(e));zt(e,"dataInitialized",Dt,Wt(e));zt(e,"bindingSuspended",$t,Wt(e));zt(e,"outDatedBinding",xt,Wt(e));zt(e,"pendingRequest",Tt,Wt(e));zt(e,"emptyRowsEnabled",Ft,Wt(e));zt(e,"rowPress",Ot,Wt(e));zt(e,"stateChange",It,Wt(e));zt(e,"internalDataRequested",Mt,Wt(e));zt(e,"personalization",At,Wt(e));zt(e,"variantManagement",Et,Wt(e));zt(e,"menu",wt,Wt(e));zt(e,"isSearchable",St,Wt(e));zt(e,"selectionChange",Lt,Wt(e));e.updateFilterBar();if(e.content){e.content.attachEvent("selectionChange",{},e.onTableSelectionChange,Wt(e))}return e}var o=r.prototype;o.getSelectedContexts=function t(){return this.content.getSelectedContexts()};o.addMessage=function t(e){const i=this._getMessageManager();const n=this.content;const a=new f({target:n.getRowBinding().getResolvedPath(),type:e.type,message:e.message,processor:n.getModel(),description:e.description,persistent:e.persistent});i.addMessages(a);return a.getId()};o.removeMessage=function t(e){const i=this._getMessageManager();const n=i.getMessageModel().getData();const a=n.find(t=>t.id===e);if(a){i.removeMessages(a)}};o._getMessageManager=function t(){return sap.ui.getCore().getMessageManager()};o._getRowBinding=function t(){const e=this.getContent();return e.getRowBinding()};o.getCounts=function t(){const e=this.getContent();return u.getListBindingForCount(e,e.getBindingContext(),{batchGroupId:!this.getProperty("bindingSuspended")?e.data("batchGroupId"):"$auto",additionalFilters:u.getHiddenFilters(e)}).then(t=>u.getCountFormatted(t)).catch(()=>"0")};o.onTableRowPress=function t(e,i,a,r){if(a&&a.isInactive()&&a.isTransient()){return false}if(this.getTableDefinition().enableAnalytics&&a&&a.isA("sap.ui.model.odata.v4.Context")&&typeof a.getProperty("@$ui5.node.isExpanded")==="boolean"){return false}else{const t=Object.assign({},r,{reason:n.RowPress});i._routing.navigateForwardToContext(a,t)}};o.onInternalDataReceived=function t(e){if(e.getParameter("error")){this.getController().messageHandler.showMessageDialog()}};o.onInternalDataRequested=function t(e){this.setProperty("dataInitialized",true);this.fireEvent("internalDataRequested",e.getParameters())};o.onPaste=function t(e,i){if(!this.tableDefinition.control.enablePaste||!this.getModel("ui").getProperty("/isEditable")){return}const n=e.getParameter("data"),a=e.getSource();if(a.getEnablePaste()===true){l.pasteData(n,a,i)}else{const t=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");p.error(t.getText("T_OP_CONTROLLER_SAPFE_PASTE_DISABLED_MESSAGE"),{title:t.getText("C_COMMON_SAPFE_ERROR")})}};o.onBeforeExport=function t(e){const i=e.getParameter("userExportSettings").splitCells,n=e.getSource(),a=e.getParameter("exportSettings"),o=this.getTableDefinition();r.updateExportSettings(a,o,n,i)};r.dataStateIndicatorFilter=function t(e,i){var n;const a=(n=i.getBindingContext())===null||n===void 0?void 0:n.getPath();const r=(a?`${a}/`:"")+i.getRowBinding().getPath();return r===e.getTarget()?true:false};o.onDataStateChange=function t(e){const i=e.getSource();const n=e.getParameter("filteredMessages");if(n){const t=i.getModel("internal");t.setProperty("filteredMessages",n,i.getBindingContext("internal"))}};r.updateExportSettings=function t(e,i,n,a){const r=i.columns;if(!i.enableAnalytics&&(i.control.type==="ResponsiveTable"||i.control.type==="GridTable")){e.dataSource.sizeLimit=1e3}const o=e.workbook.columns;for(let t=o.length-1;t>=0;t--){const e=o[t];const i=d.getLibraryResourceBundle("sap.fe.macros");e.label=Bt(e.label,n);if(e.type==="Boolean"){e.falseValue=i.getText("no");e.trueValue=i.getText("yes")}const l=r===null||r===void 0?void 0:r.find(t=>{if(a){return this.columnWithTargetValueToBeAdded(t,e)}else{return false}});if(l){const n={label:i.getText("TargetValue"),property:Array.isArray(e.property)?e.property:[e.property],template:l.exportDataPointTargetValue};o.splice(t+1,0,n)}}return e};r.columnWithTargetValueToBeAdded=function t(e,i){var n;let a=false;if(e.exportDataPointTargetValue&&((n=e.propertyInfos)===null||n===void 0?void 0:n.length)===1){if(e.relativePath===i.property||i.property[0]===e.propertyInfos[0]||i.property.includes(e.relativePath)||i.property.includes(e.name)){delete i.template;a=true}}return a};o.resumeBinding=function t(e){this.setProperty("bindingSuspended",false);if(e&&!this.getDataInitialized()||this.getProperty("outDatedBinding")){var i;this.setProperty("outDatedBinding",false);(i=this.getContent())===null||i===void 0?void 0:i.rebind()}};o.refreshNotApplicableFields=function t(e){const i=this.getContent();return c.getNotApplicableFilters(e,i)};o.suspendBinding=function t(){this.setProperty("bindingSuspended",true)};o.invalidateContent=function t(){this.setProperty("dataInitialized",false);this.setProperty("outDatedBinding",false)};o.onMassEditButtonPressed=function e(i,n){const a=this.content;if(n&&n.massEdit){n.massEdit.openMassEditDialog(a)}else{t.warning("The Controller is not enhanced with Mass Edit functionality")}};o.onTableSelectionChange=function t(e){this.fireEvent("selectionChange",e.getParameters())};o.onActionPress=async function e(n,a,r,o){o.model=n.getSource().getModel();let l=true;if(o.notApplicableContexts&&o.notApplicableContexts.length>0){const t=Nt(o.model.getMetaModel());const e=t.resolvePath(this.entityTypeFullyQualifiedName,true).target;const n=new i({entityType:e,notApplicableContexts:o.notApplicableContexts,title:o.label,resourceModel:_t(this)});o.contexts=o.applicableContexts;l=await n.open(this)}if(l){try{return await a.editFlow.invokeAction(r,o)}catch(e){t.info(e)}}};o.getTableDefinition=function t(){return this.tableDefinition};o.updateFilterBar=function t(){const e=this.getContent();const i=this.getFilterBar();if(e&&i&&e.getFilter()!==i){this._setFilterBar(i)}};o._setFilterBar=function t(i){var n;const a=this.getContent();const r=this===null||this===void 0?void 0:this.getId();const o=this.data("tableAPILocalId");const l=o&&i&&r&&r.replace(new RegExp(o+"$"),i);const s=((n=e.getTargetView(this))===null||n===void 0?void 0:n.byId(i))||d.byId(i)||d.byId(l);if(s){if(s.isA("sap.fe.macros.filterBar.FilterBarAPI")){a.setFilter(`${s.getId()}-content`)}else if(s.isA("sap.ui.mdc.FilterBar")){a.setFilter(s.getId())}}};o.checkIfColumnExists=function t(e,i){return e.some(function(t){if((t===null||t===void 0?void 0:t.columnName)===i&&t!==null&&t!==void 0&&t.sColumnNameVisible||(t===null||t===void 0?void 0:t.sTextArrangement)!==undefined&&(t===null||t===void 0?void 0:t.sTextArrangement)===i){return i}})};o.getIdentifierColumn=function t(){const e=this.getContent();const i=this.getTableDefinition().headerInfoTitle;const n=e&&e.getModel().getMetaModel(),a=e.data("metaPath");const r=n.getObject(`${a}/$Type/$Key`);const o=[];if(r&&r.length>0){r.forEach(function(t){if(t!=="IsActiveEntity"){o.push(t)}})}const l=this.getTableDefinition().semanticKeys;const s=[];const c=[];const u=e.getColumns();u.forEach(function(t){const e=t===null||t===void 0?void 0:t.getDataProperty();s.push(e)});s.forEach(function(t){var e,i;const r=n.getObject(`${a}/$Type/${t}@`);const o=r&&((e=r["@com.sap.vocabularies.Common.v1.Text"])===null||e===void 0?void 0:e.$Path);const l=r&&((i=r["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"])===null||i===void 0?void 0:i.$EnumMember);c.push({columnName:t,sTextArrangement:o,sColumnNameVisible:!(l==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly")})});let p;if(i!==undefined&&this.checkIfColumnExists(c,i)){p=i}else if(l!==undefined&&l.length===1&&this.checkIfColumnExists(c,l[0])){p=l[0]}else if(o!==undefined&&o.length===1&&this.checkIfColumnExists(c,o[0])){p=o[0]}return p};o.setEmptyRowsEnabled=function t(e){this.setProperty("emptyRowsEnabled",e);if(e){this.setUpEmptyRows(this.content)}else{this.deleteEmptyRows(this.content)}};o.setUpEmptyRows=async function t(e){var i,n,a;let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(((i=this.tableDefinition.control)===null||i===void 0?void 0:i.creationMode)!==Ht.InlineCreationRows){return}if((n=this.tableDefinition.control)!==null&&n!==void 0&&n.inlineCreationRowsHiddenInEditMode&&!((a=e.getBindingContext("ui"))!==null&&a!==void 0&&a.getProperty("createMode"))&&!r){return}if(!this.emptyRowsEnabled){return}const o=new Promise(t=>{if(e.getDomRef()){t()}else{const i={onAfterRendering:function(){e.removeEventDelegate(i);t()}};e.addEventDelegate(i,this)}});await o;const l=e.getModel("ui");if(l.getProperty("/isEditablePending")){const t=l.bindProperty("/isEditablePending");await new Promise(e=>{const i=()=>{t.detachChange(i);t.destroy();e()};t.attachChange(i)})}const s=l.getProperty("/isEditable");if(!s){return}const c=e.getRowBinding();if(c.isResolved()&&c.isLengthFinal()){const t=c.getContext().getPath();const i=c.getAllCurrentContexts().find(function(e){return e.isInactive()&&e.getPath().startsWith(t)});if(!i){await this._createEmptyRow(c,e)}}};o.deleteEmptyRows=function t(e){const i=e.getRowBinding();if(i!==null&&i!==void 0&&i.isResolved()&&i!==null&&i!==void 0&&i.isLengthFinal()){const t=i.getContext().getPath();for(const e of i.getAllCurrentContexts()){if(e.isInactive()&&e.getPath().startsWith(t)){e.delete()}}}};o._createEmptyRow=async function i(n,a){var r;const o=((r=this.tableDefinition.control)===null||r===void 0?void 0:r.inlineCreationRowCount)||2;const l=[];for(let t=0;t<o;t+=1){l.push({})}const s=a.data("tableType")!=="ResponsiveTable";const c=true;const u=e.getTargetView(a);const p=u.getController();const d=p.editFlow;if(!this.creatingEmptyRows){this.creatingEmptyRows=true;try{const t=await d.createMultipleDocuments(n,l,s,false,p.editFlow.onBeforeCreate,c);t===null||t===void 0?void 0:t.forEach(function(t){t.created().catch(function(t){if(!t.canceled){throw t}})})}catch(e){t.error(e)}finally{this.creatingEmptyRows=false}}};return r}(m),at=Qt(nt.prototype,"metaPath",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=Qt(nt.prototype,"tableDefinition",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),ot=Qt(nt.prototype,"entityTypeFullyQualifiedName",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),lt=Qt(nt.prototype,"readOnly",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),st=Qt(nt.prototype,"id",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),ct=Qt(nt.prototype,"busy",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=Qt(nt.prototype,"type",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=Qt(nt.prototype,"enableExport",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=Qt(nt.prototype,"enablePaste",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),ft=Qt(nt.prototype,"enableFullScreen",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),mt=Qt(nt.prototype,"filterBar",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),gt=Qt(nt.prototype,"selectionMode",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=Qt(nt.prototype,"header",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),bt=Qt(nt.prototype,"enableAutoColumnWidth",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),vt=Qt(nt.prototype,"isOptimizedForSmallDevice",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),yt=Qt(nt.prototype,"headerVisible",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),Pt=Qt(nt.prototype,"actions",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),Ct=Qt(nt.prototype,"columns",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),Dt=Qt(nt.prototype,"dataInitialized",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),$t=Qt(nt.prototype,"bindingSuspended",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),xt=Qt(nt.prototype,"outDatedBinding",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),Tt=Qt(nt.prototype,"pendingRequest",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),Ft=Qt(nt.prototype,"emptyRowsEnabled",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),Ot=Qt(nt.prototype,"rowPress",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),It=Qt(nt.prototype,"stateChange",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),Mt=Qt(nt.prototype,"internalDataRequested",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),At=Qt(nt.prototype,"personalization",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Et=Qt(nt.prototype,"variantManagement",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),wt=Qt(nt.prototype,"menu",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),St=Qt(nt.prototype,"isSearchable",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),Lt=Qt(nt.prototype,"selectionChange",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),Qt(nt.prototype,"onTableRowPress",[G],Object.getOwnPropertyDescriptor(nt.prototype,"onTableRowPress"),nt.prototype),Qt(nt.prototype,"onInternalDataReceived",[Q],Object.getOwnPropertyDescriptor(nt.prototype,"onInternalDataReceived"),nt.prototype),Qt(nt.prototype,"onInternalDataRequested",[X],Object.getOwnPropertyDescriptor(nt.prototype,"onInternalDataRequested"),nt.prototype),Qt(nt.prototype,"onPaste",[K],Object.getOwnPropertyDescriptor(nt.prototype,"onPaste"),nt.prototype),Qt(nt.prototype,"onBeforeExport",[J],Object.getOwnPropertyDescriptor(nt.prototype,"onBeforeExport"),nt.prototype),Qt(nt.prototype,"onDataStateChange",[Y],Object.getOwnPropertyDescriptor(nt.prototype,"onDataStateChange"),nt.prototype),Qt(nt.prototype,"onMassEditButtonPressed",[Z],Object.getOwnPropertyDescriptor(nt.prototype,"onMassEditButtonPressed"),nt.prototype),Qt(nt.prototype,"onTableSelectionChange",[tt],Object.getOwnPropertyDescriptor(nt.prototype,"onTableSelectionChange"),nt.prototype),Qt(nt.prototype,"onActionPress",[et],Object.getOwnPropertyDescriptor(nt.prototype,"onActionPress"),nt.prototype),nt))||it);return Kt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/TableFullScreenDialog.block",["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/ClassSupport","sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Page","sap/m/Panel","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/util/reflection/JsControlTreeModifier","sap/fe/core/jsx-runtime/jsx"],function(t,e,i,n,a,r,o,l,s,c,u,p){"use strict";var d,f,m,g,h,b,v;var y={};var P=i.defineReference;var C=t.defineBuildingBlock;var D=t.blockAttribute;function $(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function T(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;F(t,e)}function F(t,e){F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return F(t,e)}function O(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function I(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const M=r.ButtonType;let A=(d=C({name:"TableFullScreenDialog",namespace:"sap.fe.macros.table"}),f=D({type:"string",isPublic:true,required:true}),m=P(),d(g=(h=function(t){T(e,t);function e(e){var i;i=t.call(this,e)||this;$(i,"id",b,x(i));$(i,"fullScreenButton",v,x(i));i.fullScreenDialogContentPage=new o;i.enteringFullScreen=false;i.messageBundle=c.getLibraryResourceBundle("sap.fe.macros");return i}y=e;var i=e.prototype;i.onFullScreenToggle=async function t(){this.enteringFullScreen=!this.enteringFullScreen;this.tableAPI=this.getTableAPI();if(!this.tablePlaceHolderPanel){this.tablePlaceHolderPanel=this.createTablePlaceHolderPanel()}if(this.enteringFullScreen){var e,i;(e=this.fullScreenButton.current)===null||e===void 0?void 0:e.setIcon("sap-icon://exit-full-screen");(i=this.fullScreenButton.current)===null||i===void 0?void 0:i.setTooltip(this.messageBundle.getText("M_COMMON_TABLE_FULLSCREEN_MINIMIZE"));this.nonFullScreenTableParent=this.tableAPI.getParent();this._originalAggregationName=await u.getParentAggregationName(this.tableAPI);this.nonFullScreenTableParent.setAggregation(this._originalAggregationName,this.tablePlaceHolderPanel);this.createDialog();this.fullScreenDialogContentPage.addContent(this.tableAPI);this.fullScreenDialog.open()}else{var n,a;(n=this.fullScreenButton.current)===null||n===void 0?void 0:n.setIcon("sap-icon://full-screen");(a=this.fullScreenButton.current)===null||a===void 0?void 0:a.setTooltip(this.messageBundle.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"));this.nonFullScreenTableParent.setAggregation(this._originalAggregationName,this.tableAPI);this.fullScreenDialog.close()}};i.getTableAPI=function t(){let e=this.fullScreenButton.current;do{e=e.getParent()}while(!e.isA("sap.fe.macros.table.TableAPI"));return e};i.createTablePlaceHolderPanel=function t(){const e=new l({});e.data("tableAPIreference",this.tableAPI);e.data("FullScreenTablePlaceHolder",true);return e};i.createDialog=function t(){if(!this.fullScreenDialog){this.fullScreenDialog=new a({showHeader:false,stretch:true,afterOpen:()=>{this.afterDialogOpen()},beforeClose:()=>{this.beforeDialogClose()},afterClose:()=>{this.afterDialogClose()},endButton:this.getEndButton(),content:this.fullScreenDialogContentPage});this.fullScreenDialog.data("FullScreenDialog",true)}};i.getEndButton=function t(){return new n({text:this.messageBundle.getText("M_COMMON_TABLE_FULLSCREEN_CLOSE"),type:M.Transparent,press:()=>{this.fullScreenDialog.close()}})};i.afterDialogOpen=function t(){var e;(e=this.fullScreenButton.current)===null||e===void 0?void 0:e.focus()};i.beforeDialogClose=function t(){if(this.tableAPI&&this.enteringFullScreen){this.onFullScreenToggle()}};i.afterDialogClose=function t(){var e;const i=s.getOwnerComponentFor(this.tableAPI);const n=s.getOwnerComponentFor(i);(e=this.fullScreenButton.current)===null||e===void 0?void 0:e.focus();n.getRootViewController().getView().getController()._scrollTablesToLastNavigatedItems()};i.getContent=function t(){return p(n,{ref:this.fullScreenButton,id:this.id,tooltip:this.messageBundle.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"),icon:"sap-icon://full-screen",press:()=>this.onFullScreenToggle(),type:"Transparent",visible:true,enabled:true})};return e}(e),b=O(h.prototype,"id",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),v=O(h.prototype,"fullScreenButton",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||g);y=A;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/TableHelper",["sap/base/Log","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/TableFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/SizeHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/ActionHelper","sap/fe/macros/table/TableSizeHelper","sap/ui/mdc/enum/EditMode"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h){"use strict";var b=f.formatValueRecursively;var v=p.getEditMode;var y=u.isImageURL;var P=u.hasText;var C=c.getTargetObjectPath;var D=c.getContextRelativeTargetObjectPath;var $=l.isPathAnnotationExpression;var x=o.generate;var T=a.ref;var F=a.pathInModel;var O=a.isPathInModelExpression;var I=a.isConstant;var M=a.ifElse;var A=a.getExpressionFromAnnotation;var E=a.formatResult;var w=a.fn;var S=a.constant;var L=a.compileExpression;var _=i.getInvolvedDataModelObjects;var B=e.getUiControl;const V=s.CreationMode;const j={_isStaticAction:function(t,e){let i;if(t){if(Array.isArray(t)){const n=this._getActionOverloadEntityType(e);if(n){i=t.find(function(t){return t.$IsBound&&t.$Parameter[0].$Type===n})}else{i=t[0]}}else{i=t}}return!!i&&i.$IsBound&&i.$Parameter[0].$isCollection},_getActionOverloadEntityType:function(t){if(t&&t.indexOf("(")>-1){const e=t.split("(");return e[e.length-1].replaceAll(")","")}return undefined},_isActionOverloadOnDifferentType:function(t,e){const i=this._getActionOverloadEntityType(t);return!!i&&e!==i},getFieldsRequestedByPresentationVariant:function(t){var e;return((e=t.RequestAtLeast)===null||e===void 0?void 0:e.map(t=>t.value))||[]},getNavigationAvailableFieldsFromLineItem:function(t){const e=[];(t.getObject()||[]).forEach(function(t){var i;if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!t.Inline&&!t.Determining&&(i=t.NavigationAvailable)!==null&&i!==void 0&&i.$Path){e.push(t.NavigationAvailable.$Path)}});return e},getNavigationAvailableMap:function(t){const e={};t===null||t===void 0?void 0:t.forEach(t=>{if("SemanticObject"in t){const i=`${t.SemanticObject}-${t.Action}`;if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!t.Inline&&t.RequiresContext){if(t.NavigationAvailable!==undefined){e[i]=$(t.NavigationAvailable)?t.NavigationAvailable.path:t.NavigationAvailable}}}});return JSON.stringify(e)},getUiLineItem:function(t){return B(t,`@${"com.sap.vocabularies.UI.v1.LineItem"}`)},getUiLineItemObject:function(t,e){var i;const n=e.resolvePath(t.getPath()).target;if(!n)return undefined;const a=e.resolvePath(t.getPath()).target.Visualizations;const r=a?a===null||a===void 0?void 0:(i=a.find(t=>t.value.indexOf("@"+"com.sap.vocabularies.UI.v1.LineItem")===0))===null||i===void 0?void 0:i.$target:n;return(r===null||r===void 0?void 0:r.term)==="com.sap.vocabularies.UI.v1.LineItem"?r:undefined},create$Select:function(t){const e=[];const i=j.getUiLineItem(t.metaPath);function n(t){if(t&&!e.includes(t)&&t.indexOf("/")!==0){e.push(t)}}function a(t){if(t!==null&&t!==void 0&&t.length){t.forEach(n)}}const r=t.tableDefinition.columns;const o=this.getPropertiesFromCustomColumns(r);if(o!==null&&o!==void 0&&o.length){a(o)}if(i.getPath().indexOf(`@${"com.sap.vocabularies.UI.v1.LineItem"}`)>-1){var l,s,c,u,p,d,f,m,g,h,b;const e=_(t.metaPath).targetObject;const r=(t.tableDefinition.operationAvailableProperties||"").split(",");const o=j._filterNonApplicableProperties(r,t.collection);const v=t.collectionEntity.entityType||t.collectionEntity.targetType;const y=(((l=v.annotations.Common)===null||l===void 0?void 0:l.SemanticKey)||[]).map(t=>t.value);if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.PresentationVariantType"){a(j.getFieldsRequestedByPresentationVariant(e))}a(j.getNavigationAvailableFieldsFromLineItem(i));a(o);a(y);n((s=t.contextObjectPath.targetEntitySet)===null||s===void 0?void 0:(c=s.annotations)===null||c===void 0?void 0:(u=c.Capabilities)===null||u===void 0?void 0:(p=u.DeleteRestrictions)===null||p===void 0?void 0:(d=p.Deletable)===null||d===void 0?void 0:d.path);n((f=t.contextObjectPath.targetEntitySet)===null||f===void 0?void 0:(m=f.annotations)===null||m===void 0?void 0:(g=m.Capabilities)===null||g===void 0?void 0:(h=g.UpdateRestrictions)===null||h===void 0?void 0:(b=h.Updatable)===null||b===void 0?void 0:b.path)}return e.join(",")},getColumnWidth:function(t,e,i,a,r,o,l){if(e.width){return e.width}if(t.enableAutoColumnWidth===true){let s;s=this.getColumnWidthForImage(r)||this.getColumnWidthForDataField(t,e,i,a,r,l)||undefined;if(s){return o?`${s}rem`:s}s=L(E([F("/editMode","ui"),F("tablePropertiesAvailable","internal"),e.name,o],n.getColumnWidth));return s}return undefined},getColumnWidthForImage:function(t){var e,i,n,a,r,o,l,s,c,u,p,d;let f=null;const m=(e=t.targetObject)===null||e===void 0?void 0:(i=e.Value)===null||i===void 0?void 0:(n=i.$target)===null||n===void 0?void 0:n.annotations;const g=(a=t.targetObject)===null||a===void 0?void 0:(r=a.Value)===null||r===void 0?void 0:(o=r.$target)===null||o===void 0?void 0:o.type;if((l=t.targetObject)!==null&&l!==void 0&&l.Value&&v((s=t.targetObject.Value)===null||s===void 0?void 0:s.$target,t,false,false,t.targetObject)===h.Display){var b,C;const e=P(t.targetObject.Value.$target);if(g==="Edm.Stream"&&!e&&m!==null&&m!==void 0&&(b=m.Core)!==null&&b!==void 0&&(C=b.MediaType)!==null&&C!==void 0&&C.includes("image/")){f=6.2}}else if(m&&(y((c=t.targetObject)===null||c===void 0?void 0:(u=c.Value)===null||u===void 0?void 0:u.$target)||m!==null&&m!==void 0&&(p=m.Core)!==null&&p!==void 0&&(d=p.MediaType)!==null&&d!==void 0&&d.includes("image/"))){f=6.2}return f},getColumnWidthForDataField:function(t,e,i,n,a,o){var l,s;const c=(l=a.targetObject)===null||l===void 0?void 0:l.annotations;const u=(s=a.targetObject)===null||s===void 0?void 0:s.$Type;let p=null;if(u==="com.sap.vocabularies.UI.v1.DataFieldForAction"||u==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||u==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i.Target.$AnnotationPath.indexOf(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`)===-1){var d;let l;l=r.getButtonWidth(n)||r.getButtonWidth(i===null||i===void 0?void 0:(d=i.Label)===null||d===void 0?void 0:d.toString())||r.getButtonWidth(c===null||c===void 0?void 0:c.Label);const s=g.getWidthForDataFieldForAnnotation(a.targetObject).propertyWidth;if(s>l){p=s}else if(n||c&&(c.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||c.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction")){l+=1.8;p=l}p=p||this.getColumnWidthForChart(t,e,i,l,o)}return p},getColumnWidthForChart(t,e,i,n,a){var o,l;let s,c=null;if(((o=i.Target)===null||o===void 0?void 0:(l=o.$AnnotationPath)===null||l===void 0?void 0:l.indexOf(`@${"com.sap.vocabularies.UI.v1.Chart"}`))!==-1){switch(this.getChartSize(t,e)){case"XS":s=4.4;break;case"S":s=4.6;break;case"M":s=5.5;break;case"L":s=6.9;break;default:s=5.3}n+=1.8;if(!this.getShowOnlyChart(t,e)&&a&&(a.Title.length||a.Description.length)){const t=a.Title.length>a.Description.length?a.Title:a.Description;const e=r.getButtonWidth(t)+7;const i=e>n?e:n;c=i}else if(n>s){c=n}else{c=s}}return c},getMarginClass:function(t,e,i,n){let a,r="";if(JSON.stringify(t[t.length-1])==JSON.stringify(e)){if(i=="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){r="sapUiNoMarginBottom sapUiNoMarginTop"}}else if(i==="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){r="sapUiNoMarginTop"}else{r="sapUiTinyMarginBottom"}if(n&&n!=="true"&&n!=="false"){const t=n.substring(n.indexOf("{=")+2,n.lastIndexOf("}"));a="{= "+t+" ? '"+r+"' : "+"''"+" }";return a}else{return r}},getVBoxVisibility:function(t,e,i){let a=true;const r=[];if(i[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]){return e}for(const i of t){const t=i[`@${"com.sap.vocabularies.UI.v1.Hidden"}`];if(t===undefined||t===false){r.push(false);continue}if(t===true){r.push(true);continue}if(t.$Path){r.push(F(t.$Path));a=false;continue}if(typeof t==="object"){return e}}const o=S(r.length>0&&a!==true);const l=S(r.length>0&&r.indexOf(false)===-1&&a);return L(M(o,E(r,n.getVBoxVisibility),M(l,S(false),S(true))))},formatHiddenFilters:function(t){if(t){try{return JSON.stringify(t)}catch(t){return undefined}}return undefined},getElementStableId:function(t,e,i){var n;if(!t){return undefined}const a=i.targetObject;let r;switch(a.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":r=a.Target.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":r=a;break;default:r=((n=a.Value)===null||n===void 0?void 0:n.path)??"";break}return x([t,e,r])},getColumnStableId:function(t,e){return j.getElementStableId(t,"C",e)},getFieldGroupLabelStableId:function(t,e){return j.getElementStableId(t,"FGLabel",e)},_filterNonApplicableProperties:function(t,e){return t&&t.filter(function(t){return e.getObject(`./${t}`)})},getPropertiesFromCustomColumns:function(t){if(!(t!==null&&t!==void 0&&t.length)){return}const e=[];for(const n of t){var i;if("properties"in n&&(i=n.properties)!==null&&i!==void 0&&i.length){for(const t of n.properties){if(e.indexOf(t)===-1){e.push(t)}}}}return e},getRowsBindingInfo:function(t){const e=_(t.collection,t.contextPath);const i=D(e)||C(e);const n={ui5object:true,suspended:false,path:d.addSingleQuotes(i),parameters:{$count:true},events:{}};if(t.tableDefinition.enable$select){const e=j.create$Select(t);if(e){n.parameters.$select=`'${e}'`}}if(t.tableDefinition.enable$$getKeepAliveContext){n.parameters.$$getKeepAliveContext=true}n.parameters.$$groupId=d.addSingleQuotes("$auto.Workers");n.parameters.$$updateGroupId=d.addSingleQuotes("$auto");n.parameters.$$ownRequest=true;n.parameters.$$patchWithoutSideEffects=true;n.events.patchSent=d.addSingleQuotes(".editFlow.handlePatchSent");n.events.dataReceived=d.addSingleQuotes("API.onInternalDataReceived");n.events.dataRequested=d.addSingleQuotes("API.onInternalDataRequested");n.events.createActivate=d.addSingleQuotes(".editFlow.handleCreateActivate");if(t.onContextChange){n.events.change=d.addSingleQuotes(t.onContextChange)}return d.objectToString(n)},validateCreationRowFields:function(t){if(!t){return false}return Object.keys(t).length>0&&Object.keys(t).every(function(e){return t[e]["validity"]})},pressEventDataFieldForActionButton:function(t,e,i,n,a){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let o=arguments.length>6?arguments[6]:undefined;let l=arguments.length>7?arguments[7]:undefined;if(!e)return undefined;const s=e.Action,c=t.contextObjectPath.targetEntityType.fullyQualifiedName,u=this._isStaticAction(a,s)||this._isActionOverloadOnDifferentType(s,c),p={contexts:!u?F("selectedContexts","internal"):null,bStaticAction:u?u:undefined,entitySetName:i,applicableContexts:!u?F(`dynamicActions/${e.Action}/aApplicable/`,"internal"):null,notApplicableContexts:!u?F(`dynamicActions/${e.Action}/aNotApplicable/`,"internal"):null,isNavigable:r,enableAutoScroll:o,defaultValuesExtensionFunction:l};p.invocationGrouping=(e.InvocationGrouping&&e.InvocationGrouping.$EnumMember)==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";p.controlId=t.id;p.operationAvailableMap=n;p.label=e.Label;return L(w("API.onActionPress",[T("$event"),T("$controller"),e.Action,p]))},isDataFieldForActionEnabled:function(t,e,i,n,a){const r=e.Action,o=t===null||t===void 0?void 0:t.collection.getObject("$Type"),l=this._isStaticAction(n,r);if(this._isActionOverloadOnDifferentType(r,o)){const e=t.tableDefinition&&JSON.parse(t.tableDefinition.operationAvailableMap);if(e!==null&&e!==void 0&&e.hasOwnProperty(r)){return`{= \${internal>dynamicActions/${r}/bEnabled} }`}return true}if(!i||l){return true}let s="";const c=m.getNumberOfContextsExpression(a??"multiselect");const u=`\${internal>dynamicActions/${e.Action}/bEnabled}`;s=c+" && "+u;return"{= "+s+"}"},isDataFieldForIBNEnabled:function(e,i,n,a){var r;const o=e===null||e===void 0?void 0:(r=e.tableDefinition)===null||r===void 0?void 0:r.enableAnalytics;if(!n){var l;const n=e.collection.getPath();const r=e.collection.getModel();if(a==="false"&&!o){t.warning("NavigationAvailable as false is incorrect usage");return false}else if(a&&!o&&i!==null&&i!==void 0&&(l=i.NavigationAvailable)!==null&&l!==void 0&&l.$Path&&r.getObject(n+"/$Partner")===i.NavigationAvailable.$Path.split("/")[0]){return`{= \${${a.substring(a.indexOf("/")+1,a.length)}}`}return true}let s="",c,u;if(a==="true"||o){s="%{internal>numberOfSelectedContexts} >= 1"}else if(a==="false"){t.warning("NavigationAvailable as false is incorrect usage");return false}else{c="%{internal>numberOfSelectedContexts} >= 1";u=`\${internal>ibn/${i.SemanticObject}-${i.Action}/bEnabled}`;s=c+" && "+u}return`{= ${s}}`},pressEventForCreateButton:function(t,e){const i=t.creationMode;let n;const a=e?"${$source>}.getParent()":"${$source>}.getParent().getParent().getParent()";let r=a+".getRowBinding() || "+a+".data('rowsBindingInfo').path";switch(i){case V.External:n={creationMode:d.addSingleQuotes(V.External),outbound:d.addSingleQuotes(t.createOutbound)};break;case V.CreationRow:n={creationMode:d.addSingleQuotes(V.CreationRow),creationRow:"${$source>}",createAtEnd:t.createAtEnd!==undefined?t.createAtEnd:false};r="${$source>}.getParent().getRowBinding()";break;case V.NewPage:case V.Inline:n={creationMode:d.addSingleQuotes(i),createAtEnd:t.createAtEnd!==undefined?t.createAtEnd:false,tableId:d.addSingleQuotes(t.id)};if(t.createNewAction){n.newAction=d.addSingleQuotes(t.createNewAction)}break;case V.InlineCreationRows:return d.generateFunction(".editFlow.createEmptyRowsAndFocus",a);default:return undefined}return d.generateFunction(".editFlow.createDocument",r,d.objectToString(n))},getIBNData:function(t){const e=t.createOutboundDetail;if(e){const t={semanticObject:d.addSingleQuotes(e.semanticObject),action:d.addSingleQuotes(e.action)};return d.objectToString(t)}},_getExpressionForDeleteButton:function(t,e){if(typeof t==="string"){return d.addSingleQuotes(t,true)}else{const i=A(t);if(I(i)||O(i)){const t=b(i,e);return L(t)}}},pressEventForDeleteButton:function(t,e,i,n){const a="${internal>deletableContexts}";let r,o;if(i!==null&&i!==void 0&&i.Title){r=this._getExpressionForDeleteButton(i.Title.Value,n)}if(i!==null&&i!==void 0&&i.Description){o=this._getExpressionForDeleteButton(i.Description.Value,n)}const l={id:d.addSingleQuotes(t.id),entitySetName:d.addSingleQuotes(e),numberOfSelectedContexts:"${internal>selectedContexts}.length",unSavedContexts:"${internal>unSavedContexts}",lockedContexts:"${internal>lockedContexts}",createModeContexts:"${internal>createModeContexts}",draftsWithDeletableActive:"${internal>draftsWithDeletableActive}",draftsWithNonDeletableActive:"${internal>draftsWithNonDeletableActive}",controlId:"${internal>controlId}",title:r,description:o,selectedContexts:"${internal>selectedContexts}"};return d.generateFunction(".editFlow.deleteMultipleDocuments",a,d.objectToString(l))},setHeaderLabelVisibility:function(t,e){if(!e){if(t.$Type.indexOf("DataFieldForAction")>-1&&t.Inline){return false}if(t.$Type.indexOf("DataFieldForIntentBasedNavigation")>-1&&t.Inline){return false}return true}return e.some(function(t){if((t.$Type==="com.sap.vocabularies.UI.v1.DataField"||t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&t[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]!==true){return true}})},getTextOnActionField:function(t,e){if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return t.Label}if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.context.getObject("Target/$AnnotationPath").indexOf("@"+"com.sap.vocabularies.UI.v1.FieldGroup")>-1){const t="Target/$AnnotationPath/Data/";const i=[];for(const n in e.context.getObject(t)){if(e.context.getObject(`${t+n}/$Type`)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.context.getObject(`${t+n}/$Type`)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){i.push(e.context.getObject(`${t+n}/Label`))}}if(i.length>1){return i.reduce(function(t,e){return t.length>e.length?t:e})}else{return i.length===0?undefined:i.toString()}}return undefined},_getResponsiveTableColumnSettings:function(t,e){if(t.tableType==="ResponsiveTable"){return e.settings}return null},getChartSize:function(t,e){const i=this._getResponsiveTableColumnSettings(t,e);if(i&&i.microChartSize){return i.microChartSize}return"XS"},getShowOnlyChart:function(t,e){const i=this._getResponsiveTableColumnSettings(t,e);if(i&&i.showMicroChartLabel){return!i.showMicroChartLabel}return true},getDelegate:function(t,e,i){let n;if(e==="true"){if(t.control.type==="TreeTable"){throw new Error("TreeTable not supported in Analytical ListPage")}n={name:"sap/fe/macros/table/delegates/ALPTableDelegate",payload:{collectionName:i}}}else if(t.control.type==="TreeTable"){n={name:"sap/fe/macros/table/delegates/TreeTableDelegate",payload:{hierarchyQualifier:t.control.hierarchyQualifier,initialExpansionLevel:t.annotation.initialExpansionLevel}}}else{n={name:"sap/fe/macros/table/delegates/TableDelegate"}}return JSON.stringify(n)},setIBNEnablement:function(t,e,i){for(const n in e){t.setProperty(`ibn/${n}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});const a=[],r=[];const o=e[n];for(let e=0;e<i.length;e++){const l=i[e];if(l.getObject(o)){t.getModel().setProperty(`${t.getPath()}/ibn/${n}/bEnabled`,true);a.push(l)}else{r.push(l)}}t.getModel().setProperty(`${t.getPath()}/ibn/${n}/aApplicable`,a);t.getModel().setProperty(`${t.getPath()}/ibn/${n}/aNotApplicable`,r)}},enableFastCreationRow:async function(e,i,n,a,r){let o,l;if(e){try{await r;if(e.getModel("ui").getProperty("/isEditable")&&!n.isDeleted()){o=a.bindList(i,n,[],[],{$$updateGroupId:"doNotSubmit",$$groupId:"doNotSubmit"});o.refreshInternal=function(){};l=o.create();e.setBindingContext(l);try{await l.created()}catch(e){t.trace("transient fast creation context deleted")}}}catch(e){t.error("Error while computing the final UI state",e)}}}};j.getNavigationAvailableMap.requiresIContext=true;j.getTextOnActionField.requiresIContext=true;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/TableRuntime",["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/DeleteHelper","sap/fe/core/library","sap/fe/macros/field/FieldRuntime","sap/fe/macros/table/TableHelper"],function(t,e,i,n,a,r,o,l){"use strict";const s=r.CreationMode;const c={displayTableSettings:function(t){const e=t.getSource().getParent(),n=sap.ui.getCore().byId(`${e.getId()}-settings`);i.fireButtonPress(n)},executeConditionalActionShortcut:function(t,e){const n=e.getParent();if(t!==s.CreationRow){const e=n.getActions().reduce(function(t,e){return t.concat(e.getAction())},[]).find(function(e){return e.getId().endsWith(t)});i.fireButtonPress(e)}else{const t=n.getAggregation("creationRow");if(t&&t.getApplyEnabled()&&t.getVisible()){t.fireApply()}}},setContexts:function(e,i,a,r,o,l,s){n.lock(e);return c.setContextsAsync(e,i,a,r,o,l,s).then(()=>{t.info("Selections updated")}).catch(e=>{t.error(e)}).finally(()=>{n.unlock(e)})},setContextsAsync:async function(t,i,n,r,o,s,c){const u=s?s.split(","):[];const p=JSON.parse(r);const d=o&&o!=="undefined"&&JSON.parse(o);let f=t.getSelectedContexts();const m=[];const g=t.data("displayModePropertyBinding")==="true"&&n!=="undefined";const h=[];const b={};const v={};const y=t.getBindingContext("internal");if(!y){return}f=f.filter(function(t){return!t.isInactive()});const P=Object.assign(y.getObject()||{},{selectedContexts:f,numberOfSelectedContexts:f.length,dynamicActions:b,ibn:v,deleteEnabled:true,deletableContexts:m,unSavedContexts:[],lockedContexts:[],draftsWithNonDeletableActive:[],draftsWithDeletableActive:[],createModeContexts:[],controlId:"",updatableContexts:h,semanticKeyHasDraftIndicator:y.getProperty("semanticKeyHasDraftIndicator")?y.getProperty("semanticKeyHasDraftIndicator"):undefined});for(const t of f){const e=t.getObject();for(const t in e){if(t.indexOf("#")===0){let e=t;e=e.substring(1,e.length);P.dynamicActions[e]={enabled:true};y.setProperty("",P)}}const i=c.length===0||!!t.getProperty(c);const n=!g||e.IsActiveEntity;if(i&&n){h.push(t)}}a.updateDeleteInfoForSelectedContexts(y,f);if(!t.data("enableAnalytics")){l.setIBNEnablement(y,d,f)}if(f.length>1){this.disableAction(u,b)}if(P){P["updatableContexts"]=h;P["controlId"]=t.getId();y.setProperty("",P)}return e.setActionEnablement(y,p,f,"table")},disableAction:function(t,e){t.forEach(function(t){e[t]={bEnabled:false}})},onFieldChangeInCreationRow:function(t,e){const i=o.getFieldStateOnChange(t),n=i.field,a=n.getId();const r=n.getBindingContext("internal"),l=r.getProperty("creationRowFieldValidity"),s=Object.assign({},l);s[a]=i.state;r.setProperty("creationRowFieldValidity",s);if(e){const t=r.getProperty("creationRowCustomValidity"),e=Object.assign({},t);e[n.getBinding("value").getPath()]={fieldId:n.getId()};r.setProperty("creationRowCustomValidity",e);const i=sap.ui.getCore().getMessageManager();const a=`${n.getBindingContext().getPath()}/${n.getBindingPath("value")}`;i.getMessageModel().getData().forEach(function(t){if(t.target===a){i.removeMessages(t)}})}}};return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/TableSizeHelper",["sap/base/Log","sap/fe/core/helpers/SizeHelper","sap/fe/core/templating/DisplayModeFormatter","sap/m/table/Util"],function(t,e,i,n){"use strict";var a=i.getDisplayMode;const r={getMDCColumnWidthFromDataField:function(t,e,i){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=e.find(e=>{var n,a;return e.metadataPath&&((n=i.resolvePath(e.metadataPath))===null||n===void 0?void 0:(a=n.target)===null||a===void 0?void 0:a.fullyQualifiedName)===t.fullyQualifiedName});return a?this.getMDCColumnWidthFromProperty(a,e,n):0},getMDCColumnWidthFromProperty:function(e,i){var a,r,o;let l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const s=Object.assign({gap:0,truncateLabel:!l,excludeProperties:[]},(a=e.visualSettings)===null||a===void 0?void 0:a.widthCalculation);let c;if((r=e.propertyInfos)!==null&&r!==void 0&&r.length){c=e.propertyInfos.map(t=>{var e;const n=i.find(e=>e.name===t);return n===null||n===void 0?void 0:(e=n.typeConfig)===null||e===void 0?void 0:e.typeInstance}).filter(t=>t)}else if(e!==null&&e!==void 0&&(o=e.typeConfig)!==null&&o!==void 0&&o.typeInstance){c=[e===null||e===void 0?void 0:e.typeConfig.typeInstance]}const u=c?n.calcColumnWidth(c,e.label,s):null;if(!u){t.error(`Cannot compute the column width for property: ${e.name}`)}return u?parseFloat(u.replace("Rem","")):0},getWidthForDataFieldForAnnotation:function(t,i,n){var a;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=t===null||t===void 0?void 0:(a=t.Target)===null||a===void 0?void 0:a.$target;let l=0,s=0;if(o!==null&&o!==void 0&&o.Visualization){switch(o.Visualization){case"UI.VisualizationType/Rating":const t=o.TargetValue;l=parseInt(t,10)*1.375;break;case"UI.VisualizationType/Progress":default:l=5}const i=o?o.label:t.Label||"";s=r&&i?e.getButtonWidth(i):0}else if(n&&i&&(o===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.Communication.v1.ContactType"){l=this.getMDCColumnWidthFromDataField(o.fn.$target,i,n,false)}return{labelWidth:s,propertyWidth:l}},getWidthForDataField:function(i,n,r,o){var l,s,c,u;const p=(l=i.Value)===null||l===void 0?void 0:l.$target,d=p===null||p===void 0?void 0:(s=p.annotations)===null||s===void 0?void 0:(c=s.Common)===null||c===void 0?void 0:c.Text,f=a((u=i.Value)===null||u===void 0?void 0:u.$target);let m=0,g=0;if(p){switch(f){case"Description":m=this.getMDCColumnWidthFromDataField(d.$target,r,o,false)-1;break;case"DescriptionValue":case"ValueDescription":case"Value":default:m=this.getMDCColumnWidthFromDataField(p,r,o,false)-1}const t=i.Label?i.Label:p.label;g=n&&t?e.getButtonWidth(t):0}else{t.error(`Cannot compute width for type object: ${i.$Type}`)}return{labelWidth:g,propertyWidth:m}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/Utils",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/DelegateUtil","sap/fe/macros/field/FieldRuntime","sap/fe/macros/filter/FilterUtils","sap/ui/core/Component","sap/ui/core/format/NumberFormat","sap/ui/model/Filter"],function(t,e,i,n,a,r,o,l,s){"use strict";var c=i.pathInModel;var u=i.compileExpression;function p(t){let i=[];const n=t.data("hiddenFilters");if(n&&Array.isArray(n.paths)){n.paths.forEach(function(n){const a=e.getFiltersInfoForSV(t,n.annotationPath);i=i.concat(a.filters)})}return i}function d(t){let i=[];const a=n.getCustomData(t,"quickFilterKey");if(a){i=i.concat(e.getFiltersInfoForSV(t,a).filters)}return i}function f(t){return d(t).concat(p(t))}function m(t,e,i){let n;const a=t.data("rowsBindingInfo"),r=t.getModel();const o=i.batchGroupId||"",l=h(t);let c=Array.isArray(i.additionalFilters)?i.additionalFilters:[];const u=l.bindingPath?l.bindingPath:a.path;c=c.concat(l.filters).concat(b(t));const p=new s({filters:c,and:true});const d=r.bindList((e?`${e.getPath()}/`:"")+u,t.getBindingContext(),[],p);return d.fetchFilter(d.getContext()).then(function(t){n=r.bindProperty(`${d.getPath()}/$count`,d.getContext(),{$$groupId:o||"$auto",$filter:t[0],$search:l.search});return n.requestValue()}).then(function(t){n.destroy();d.destroy();return t})}function g(t){const e=l.getIntegerInstance({groupingEnabled:true});return e.format(t)}function h(t){const e=t.getParent().getTableDefinition();let i=[];function n(t){const e=t.getParent().getTableDefinition().aggregates;return Object.keys(e).map(function(t){return e[t].relativePath})}if(e.enableAnalytics){i=i.concat(n(t));if(!e.enableBasicSearch){i=i.concat(["search"])}}return r.getFilterInfo(t.getFilter(),{ignoredProperties:i,targetControl:t})}function b(t){const e=t.getP13nMode();if(e&&e.indexOf("Filter")>-1){const e=(n.getCustomData(t,"sap_fe_ControlDelegate_propertyInfoMap")||[]).filter(function(t){return t&&!(t.filterable===false)}),i=r.getFilterInfo(t,{propertiesMetadata:e});if(i&&i.filters){return i.filters}}return[]}function v(t){const e=h(t);return{filters:e.filters.concat(f(t),b(t)),search:e.search,bindingPath:e.bindingPath}}function y(t){return C(t).promise}function P(t){const e=C(t);if(e.resolve){e.resolve(t);t.data("boundPromiseResolve",null)}}function C(t){if(!t.data("boundPromise")){let e;t.data("boundPromise",new Promise(function(t){e=t}));if(t.isBound()){e(t)}else{t.data("boundPromiseResolve",e)}}return{promise:t.data("boundPromise"),resolve:t.data("boundPromiseResolve")}}function D(i,r){const l=i.getView();const s=l.getBindingContext("internal");if(s){const p=n.getCustomData(r,"targetCollectionPath");if(p){const n=i.getOwnerComponent();const d=o.getOwnerComponentFor(n);const f=d.getMetaModel();const m=d.getShellServices();const g=a._fnFixHashQueryString(m.getHash());const h=r.getParent().getTableDefinition().columns;const b=[];const v=[];const y=[];let P="",C,D;let $;const x=[];let T,F;for(let t=0;t<h.length;t++){C=h[t].annotationPath;if(C){D=f.getObject(C);if(D&&D.$kind==="Property"){P=h[t].annotationPath}else if(D&&D.$Type==="com.sap.vocabularies.UI.v1.DataField"){P=`${p}/${f.getObject(`${C}/Value/$Path`)}`}}if(P!==""){const t=Object.keys(f.getObject(P+"@"));for(let i=0;i<t.length;i++){if(!y.includes(P)&&t[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObject"}`)===0&&t[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`)===-1&&t[i].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)===-1){F=/#(.*)/.exec(t[i]);T=F?F[1]:"";x.push(e.getSemanticObjectPromise(d,l,f,P,T));y.push(P)}}}P=""}if(x.length===0){return Promise.resolve()}else{Promise.all(x).then(function(t){const i=[];let n;const a=t.filter(function(t){if(t.semanticObject&&typeof t.semanticObject.semanticObject==="object"){n=u(c(t.semanticObject.semanticObject.$Path));t.semanticObject.semanticObject=n;t.semanticObjectForGetLinks[0].semanticObject=n;return true}else if(t){return t.semanticObject!==undefined}else{return false}});for(let t=0;t<a.length;t++){$=a[t];if($&&$.semanticObject&&!($.semanticObject.semanticObject.indexOf("{")===0)){b.push($.semanticObjectForGetLinks);v.push({semanticObject:$.semanticObject&&$.semanticObject.semanticObject,unavailableActions:$.unavailableActions,path:a[t].semanticObjectPath});i.push(m.getLinksWithCache([$.semanticObjectForGetLinks]))}}return e.updateSemanticTargets(i,v,s,g)}).catch(function(e){t.error("fnGetSemanticTargetsFromTable: Cannot get Semantic Objects",e)})}}}}function $(t){t.clearSelection();const e=t.getBindingContext("internal");if(e){e.setProperty("deleteEnabled",false);e.setProperty("numberOfSelectedContexts",0);e.setProperty("selectedContexts",[]);e.setProperty("deletableContexts",[])}}const x={getCountFormatted:g,getHiddenFilters:p,getTableFilters:f,getListBindingForCount:m,getFilterInfo:h,getP13nFilters:b,getAllFilterInfo:v,whenBound:y,onTableBound:P,getSemanticTargetsFromTable:D,clearSelection:$};return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/delegates/ALPTableDelegate",["sap/base/util/deepClone","sap/fe/core/CommonUtils","sap/fe/macros/chart/ChartUtils","sap/fe/macros/DelegateUtil","sap/fe/macros/table/delegates/TableDelegate","sap/fe/macros/table/Utils","sap/ui/model/Filter"],function(t,e,i,n,a,r,o){"use strict";const l=Object.assign({},a,{_internalUpdateBindingInfo:function(a,s){var c,u;let p;let d={},f={};let m;Object.assign(s,t(n.getCustomData(a,"rowsBindingInfo")));if(a.getRowBinding()){s.suspended=false}const g=e.getTargetView(a);const h=(c=(u=g.getController()).getChartControl)===null||c===void 0?void 0:c.call(u);const b=i.getChartSelectionsExist(h,a);f=r.getAllFilterInfo(a);const v=f&&f.filters;p=f;if(b){d=i.getAllFilterInfo(h);m=d&&d.filters?e.getChartPropertiesWithoutPrefixes(d.filters):null;p=d}const y=(v&&m?v.concat(m):m||v)||[];const P=y.length>0&&new o({filters:y,and:true});if(p.bindingPath){s.path=p.bindingPath}l.updateBindingInfoWithSearchQuery(s,p,P)},rebind:function(t,e){const i=t.getBindingContext("pageInternal");const n=i===null||i===void 0?void 0:i.getProperty(`${i.getPath()}/alpContentView`);if(n!=="Chart"){a.rebind(t,e)}}});return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/delegates/TableDelegate",["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/ExcelFormatHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SizeHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/type/EDM","sap/fe/core/type/TypeUtil","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filterBar/FilterBarDelegate","sap/fe/macros/table/TableSizeHelper","sap/fe/macros/table/Utils","sap/ui/core/Fragment","sap/ui/mdc/odata/v4/TableDelegate","sap/ui/model/Filter","sap/ui/model/json/JSONModel","../TableHelper"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T){"use strict";var F=m.isTypeFilterable;var O=f.isMultipleNavigationProperty;var I=p.getResourceModel;var M=p.getLocalizedText;var A=o.getInvolvedDataModelObjects;const E="/semanticKeyHasDraftIndicator";return Object.assign({},D,{_computeVisualSettingsForFieldGroup:function(t,e,i){if(e.name.indexOf("DataFieldForAnnotation::FieldGroup::")===0){const a=t.getColumns().find(function(t){return t.getDataProperty()===e.name});const r=a?a.data("showDataFieldsLabel")==="true":false;const o=t.getModel().getMetaModel();const l=A(o.getContext(e.metadataPath));const s=l.convertedTypes;const c=l.targetObject;const u=c.Target.$target;const p=[];u.Data.forEach(function(t){let e;switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":e=y.getWidthForDataFieldForAnnotation(t,i,s,r);break;case"com.sap.vocabularies.UI.v1.DataField":e=y.getWidthForDataField(t,r,i,s);break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":e={labelWidth:0,propertyWidth:d.getButtonWidth(t.Label)};break;default:}if(e){p.push(e.labelWidth+e.propertyWidth)}});const f=p.reduce(function(t,e){return Math.max(t,e)},0);e.visualSettings=n(e.visualSettings,{widthCalculation:{verticalArrangement:true,minWidth:Math.ceil(f)}})}},_computeVisualSettingsForPropertyWithValueHelp:function(t,e){const i=t.getParent();if(!e.propertyInfos){const a=t.getModel().getMetaModel();if(e.metadataPath&&a){const t=a.getObject(`${e.metadataPath}@`);if(t&&t["@com.sap.vocabularies.Common.v1.ValueList"]){e.visualSettings=n(e.visualSettings||{},{widthCalculation:{gap:i.getProperty("readOnly")?0:4}})}}}},_computeVisualSettingsForPropertyWithUnit:function(t,e,i,a,r){const o=t?t.getParent():null;const l=a||r;if(l){e.visualSettings=n(e.visualSettings,{widthCalculation:{gap:Math.ceil(d.getButtonWidth(l))}})}if(i){e.visualSettings=n(e.visualSettings,{widthCalculation:{gap:o&&o.getReadOnly()?0:6}})}},_computeLabel:function(t,e){if(t.label){var i;const n=e[t.label];if((n===null||n===void 0?void 0:n.length)>1&&(i=t.path)!==null&&i!==void 0&&i.includes("/")&&t.additionalLabels){t.label=t.label+" ("+t.additionalLabels.join(" / ")+")"}delete t.additionalLabels}},_updatePropertyInfo:function(t,e){const i={};const a=t.getP13nMode();e.forEach(t=>{if(!t.propertyInfos&&t.label){if((a===null||a===void 0?void 0:a.indexOf("Sort"))>-1&&t.sortable||(a===null||a===void 0?void 0:a.indexOf("Filter"))>-1&&t.filterable||(a===null||a===void 0?void 0:a.indexOf("Group"))>-1&&t.groupable){i[t.label]=i[t.label]!==undefined?i[t.label].concat([t]):[t]}}});e.forEach(a=>{this._computeVisualSettingsForFieldGroup(t,a,e);this._computeVisualSettingsForPropertyWithValueHelp(t,a);a.typeConfig=n(a.typeConfig,{});this._computeLabel(a,i)});return e},getColumnsFor:function(t){return t.getParent().getTableDefinition().columns},_getAggregatedPropertyMap:function(t){return t.getParent().getTableDefinition().aggregates},fetchExportCapabilities:function(e){const i={XLSX:{}};let n;return b.fetchModel(e).then(function(t){n=t;return n.getMetaModel().getObject("/$EntityContainer@Org.OData.Capabilities.V1.SupportedFormats")}).then(function(t){const e=(t||[]).map(t=>t.toLowerCase());if(e.indexOf("application/pdf")>-1){return n.getMetaModel().getObject("/$EntityContainer@com.sap.vocabularies.PDF.v1.Features")}return undefined}).then(function(t){if(t){i["PDF"]=Object.assign({},t)}}).catch(function(e){t.error(`An error occurs while computing export capabilities: ${e}`)}).then(function(){return i})},_isFilterableNavigationProperty:function(t,e,i){const n=A(e.getContext(b.getCustomData(i,"metaPath"))),a=A(e.getContext(t.annotationPath)).navigationProperties,r=a.findIndex(t=>{var e;return((e=t.targetType)===null||e===void 0?void 0:e.name)===n.targetEntityType.name}),o=a.slice(r>0?r:0);return!t.relativePath.includes("/")||t.isPartOfLineItem===true&&!o.some(O)},_fetchPropertyInfo:function(t,e,i,n){var a,r,o;const l=e.annotationPath,s=t.getObject(l),c=t.createBindingContext(l),u=(a=e.typeConfig)!==null&&a!==void 0&&a.className&&F(e.typeConfig.className)?g.getTypeConfig(e.typeConfig.className,e.typeConfig.formatOptions,e.typeConfig.constraints):{},p=h.isPropertyFilterable(c,s),d=e.typeConfig&&e.typeConfig.className&&((r=e.typeConfig.className)===null||r===void 0?void 0:r.indexOf("Edm."))!==0,f=b.getCustomData(i,"enableAnalytics")==="true",m=f?this._getAggregatedPropertyMap(i):{},v=M(e.label??"",n??i);const y={name:e.name,metadataPath:l,groupLabel:e.groupLabel,group:e.group,label:v,tooltip:e.tooltip,typeConfig:u,visible:e.availability!=="Hidden"&&!d,exportSettings:this._setPropertyInfoExportSettings(e.exportSettings,e),unit:e.unit};if(e.visualSettings&&Object.keys(e.visualSettings).length>0){y.visualSettings=e.visualSettings}if(e.exportDataPointTargetValue){y.exportDataPointTargetValue=e.exportDataPointTargetValue}if((o=e.propertyInfos)!==null&&o!==void 0&&o.length){y.propertyInfos=e.propertyInfos;if(y.exportSettings){var P;y.exportSettings.wrap=(P=e.exportSettings)===null||P===void 0?void 0:P.wrap}}else{var C;y.path=e.relativePath;y.sortable=e.sortable;if(f){this._updateAnalyticalPropertyInfoAttributes(y,e)}y.filterable=!!p&&this._isFilterableNavigationProperty(e,t,i)&&(!f||!m[y.name]&&!((C=e.extension)!==null&&C!==void 0&&C.technicallyGroupable));y.key=e.isKey;y.groupable=e.isGroupable;if(e.textArrangement){const t=this.getColumnsFor(i).find(function(t){var i;return t.name===((i=e.textArrangement)===null||i===void 0?void 0:i.textProperty)});if(t){y.mode=e.textArrangement.mode;y.valueProperty=e.relativePath;y.descriptionProperty=t.relativePath}}y.text=e.textArrangement&&e.textArrangement.textProperty;y.caseSensitive=e.caseSensitive;if(e.additionalLabels){y.additionalLabels=e.additionalLabels.map(t=>M(t,n||i))}}this._computeVisualSettingsForPropertyWithUnit(i,y,e.unit,e.unitText,e.timezoneText);return y},_setPropertyInfoExportSettings:function(t,e){var i;const n=this._getExportFormat((i=e.typeConfig)===null||i===void 0?void 0:i.className);if(t){if(n&&!t.timezoneProperty){t.format=n}if(t.template){var a;t.template=(a=e.exportSettings)===null||a===void 0?void 0:a.template}}return t},_updateAnalyticalPropertyInfoAttributes(t,e){if(e.aggregatable){t.aggregatable=e.aggregatable}if(e.extension){t.extension=e.extension}},_fetchCustomPropertyInfo:function(t,e,i){const n=M(t.header,i||e);const a={name:t.name,groupLabel:undefined,group:undefined,label:n,type:"Edm.String",visible:t.availability!=="Hidden",exportSettings:t.exportSettings,visualSettings:t.visualSettings};if(t.propertyInfos&&t.propertyInfos.length){a.propertyInfos=t.propertyInfos;a.exportSettings={wrap:t.exportSettings.wrap,template:t.exportSettings.template}}else{a.path=t.name;a.sortable=false;a.filterable=false}return a},_bColumnHasPropertyWithDraftIndicator:function(t){return!!(t.formatOptions&&t.formatOptions.hasDraftIndicator||t.formatOptions&&t.formatOptions.fieldGroupDraftIndicatorPropertyPath)},_updateDraftIndicatorModel:function(t,e){const i=t.getColumns();const n=t.getBindingContext("internal");const a=n&&n.getPath();if(i&&n){for(const t in i){if(this._bColumnHasPropertyWithDraftIndicator(e)&&e.name===i[t].getDataProperty()){if(n.getProperty(a+E)===undefined){n.setProperty(a+E,e.name);break}}}}},_fetchPropertiesForEntity:function(e,i,n,a){const o=u.getEntitySetPath(i);let l=[];const s=r.getFilterRestrictionsByPath(o,n);const c=s.NonFilterableProperties;return Promise.resolve(this.getColumnsFor(e)).then(t=>{if(t){let i;t.forEach(t=>{this._updateDraftIndicatorModel(e,t);switch(t.type){case"Annotation":i=this._fetchPropertyInfo(n,t,e,a);if(i&&c.indexOf(i.name)===-1){i.maxConditions=b.isMultiValue(i)?-1:1}break;case"Slot":case"Default":i=this._fetchCustomPropertyInfo(t,e,a);break;default:throw new Error(`unhandled switch case ${t.type}`)}l.push(i)})}}).then(()=>{l=this._updatePropertyInfo(e,l)}).catch(function(e){t.error(`An error occurs while updating fetched properties: ${e}`)}).then(function(){return l})},_getCachedOrFetchPropertiesForEntity:function(t,e,i,n){const a=b.getCachedProperties(t);if(a){return Promise.resolve(a)}return this._fetchPropertiesForEntity(t,e,i,n).then(function(e){b.setCachedProperties(t,e);return e})},_setTableNoDataText:function(t,e){let i="";const n=P.getAllFilterInfo(t),a=e.path.startsWith("/")?e.path.substr(1):e.path;const r=function(){if(t.data("hiddenFilters")||t.data("quickFilterKey")){return"M_TABLE_AND_CHART_NO_DATA_TEXT_MULTI_VIEW"}else{return"T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER"}};const o=t.getFilter();if(o&&!/BasicSearch$/.test(o)){if(n.search||n.filters&&n.filters.length){i=r()}else{i="T_TABLE_AND_CHART_NO_DATA_TEXT"}}else if(n.search||n.filters&&n.filters.length){i=r()}else{i="M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT"}t.setNoData(I(t).getText(i,undefined,a))},handleTableDataReceived:function(t,e){const i=t&&t.getRowBinding(),n=e&&e.getProperty("dataReceivedAttached");if(e&&!n){i.attachDataReceived(function(){e.setProperty("selectedContexts",[]);const i=t.getSelectedContexts();e.setProperty("selectedContexts",i);e.setProperty("numberOfSelectedContexts",i.length);const n=JSON.parse(h.parseCustomData(b.getCustomData(t,"operationAvailableMap")));a.setActionEnablement(e,n,i,"table");s.updateDeleteInfoForSelectedContexts(e,i);const r=t?t.getParent():null;if(r){r.setUpEmptyRows(t)}});e.setProperty("dataReceivedAttached",true)}},rebind:function(e,i){const n=e.getParent();const a=n===null||n===void 0?void 0:n.getProperty("bindingSuspended");n===null||n===void 0?void 0:n.setProperty("outDatedBinding",a);if(!a){P.clearSelection(e);D.rebind.apply(this,[e,i]);P.onTableBound(e);this._setTableNoDataText(e,i);return P.whenBound(e).then(this.handleTableDataReceived(e,e.getBindingContext("internal"))).catch(function(e){t.error("Error while waiting for the table to be bound",e)})}return Promise.resolve()},fetchProperties:function(t){return b.fetchModel(t).then(e=>this._getCachedOrFetchPropertiesForEntity(t,b.getCustomData(t,"entityType"),e.getMetaModel())).then(e=>{t.getBindingContext("internal").setProperty("tablePropertiesAvailable",true);return e})},preInit:function(t){return D.preInit.apply(this,[t]).then(function(){const e=t.getCreationRow();if(e){e.setBindingContext(null)}})},updateBindingInfo:function(t,e){D.updateBindingInfo.apply(this,[t,e]);this._internalUpdateBindingInfo(t,e);e.events.dataReceived=t.getParent().onInternalDataReceived.bind(t.getParent());e.events.dataRequested=t.getParent().onInternalDataRequested.bind(t.getParent());this._setTableNoDataText(t,e);T.enableFastCreationRow(t.getCreationRow(),e.path,t.getBindingContext(),t.getModel(),t.getModel("ui").getProperty("/isEditable"))},_manageSemanticTargets:function(t){const e=t.getRowBinding();if(e){e.attachEventOnce("dataRequested",function(){setTimeout(function(){const e=r.getTargetView(t);if(e){P.getSemanticTargetsFromTable(e.getController(),t)}},0)})}},updateBinding:function(e,n,a){const o=e.getParent();const l=o===null||o===void 0?void 0:o.getProperty("bindingSuspended");if(!l){let o=false;const l=r.getTargetView(e);const s=e.getBindingContext("internal");const c="pendingManualBindingUpdate";const u=s.getProperty(c);const p=e.getRowBinding();if(p){const t=p.getFilters("Application");o=i(n.filters,t[0])&&p.getQueryOptionsFromParameters().$search===n.parameters.$search&&!u&&l&&l.getViewData().converterType==="ListReport"}D.updateBinding.apply(this,[e,n,a]);e.fireEvent("bindingUpdated");if(o&&e.getFilter()&&a){p.requestRefresh(p.getGroupId()).finally(function(){s.setProperty(c,false)}).catch(function(e){t.error("Error while refreshing the table",e)});s.setProperty(c,true)}this._manageSemanticTargets(e)}o===null||o===void 0?void 0:o.setProperty("outDatedBinding",l)},_computeRowBindingInfoFromTemplate:function(t){const i=e(b.getCustomData(t,"rowsBindingInfo"));if(i.parameters.$$getKeepAliveContext){const e=b.getCustomData(t,"targetCollectionPath");const n=t.getModel("internal");const a=n.getObject("/keptAliveLists")||{};if(!a[e]){a[e]=t.getId();n.setProperty("/keptAliveLists",a)}else if(a[e]!==t.getId()){delete i.parameters.$$getKeepAliveContext}}return i},_internalUpdateBindingInfo:function(t,e){const i=t.getBindingContext("internal");Object.assign(e,this._computeRowBindingInfoFromTemplate(t));if(t.getRowBinding()){e.suspended=false}if(i){i.setProperty("dataReceivedAttached",false)}let n;const a=P.getAllFilterInfo(t);if(a.filters.length>0){n=new $({filters:a.filters,and:true})}if(a.bindingPath){e.path=a.bindingPath}const r=t.getDataStateIndicator();if(r&&r.isFiltering()){if(e.filters.length>0){n=new $({filters:e.filters.concat(a.filters),and:true});this.updateBindingInfoWithSearchQuery(e,a,n)}}else{this.updateBindingInfoWithSearchQuery(e,a,n)}},updateBindingInfoWithSearchQuery:function(t,e,i){t.filters=i;if(e.search){t.parameters.$search=r.normalizeSearchTerm(e.search)}else{t.parameters.$search=undefined}},_templateCustomColumnFragment:function(t,e,i,n){const a=new x(t),r=new x({id:n}),o={bindingContexts:{this:r.createBindingContext("/"),column:a.createBindingContext("/")},models:{this:r,column:a}};return b.templateControlFragment("sap.fe.macros.table.CustomColumn",o,{view:e},i).then(function(t){a.destroy();return t})},_templateSlotColumnFragment:async function(e,i,n,a){const r=new x(e),o=new x({id:a}),l={bindingContexts:{this:o.createBindingContext("/"),column:r.createBindingContext("/")},models:{this:o,column:r}};const s=await b.templateControlFragment("sap.fe.macros.table.SlotColumn",l,{isXML:true});if(!s){return Promise.resolve(null)}const c=s.getElementsByTagName("slot")[0],u=s.getElementsByTagName("mdcTable:template")[0];u.removeChild(c);if(e.template){const t=(new DOMParser).parseFromString(e.template,"text/xml");u.appendChild(t.firstElementChild)}else{t.error(`Please provide content inside this Building Block Column: ${e.header}`);return Promise.resolve(null)}if(n.targets!=="jsControlTree"){return s}return C.load({type:"XML",definition:s})},_getExportFormat:function(t){switch(t){case"Edm.Date":return c.getExcelDatefromJSDate();case"Edm.DateTimeOffset":return c.getExcelDateTimefromJSDateTime();case"Edm.TimeOfDay":return c.getExcelTimefromJSTime();default:return undefined}},_getVHRelevantFields:function(t,e,i){let n=[],a=t.getObject(e);if(a.$kind&&a.$kind==="Property"){a=t.getObject(`${e}@com.sap.vocabularies.UI.v1.DataFieldDefault`);e=`${e}@com.sap.vocabularies.UI.v1.DataFieldDefault`}switch(a.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(t.getObject(`${e}/Target/$AnnotationPath`).includes("com.sap.vocabularies.UI.v1.FieldGroup")){t.getObject(`${e}/Target/$AnnotationPath/Data`).forEach((i,a)=>{n=n.concat(this._getVHRelevantFields(t,`${e}/Target/$AnnotationPath/Data/${a}`))})}break;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":n.push(t.getObject(`${e}/Value/$Path`));break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;default:if(e.indexOf(i)===0){n.push(e.substring(i.length+1));break}n.push(h.getNavigationPath(e,true));break}return n},_setDraftIndicatorOnVisibleColumn:function(t,e,i){const n=t.getBindingContext("internal");if(!n){return}const a=n.getPath();const r=e.filter(t=>this._bColumnHasPropertyWithDraftIndicator(t));const o=t.getColumns();let l,s,c,u;for(const t in o){s=o[t].getDataProperty();for(const t in r){u=r[t].name;if(s===u){c=true;break}if(i&&i.name===u){l=i.name}}if(c){n.setProperty(a+E,s);break}}if(!c&&l){n.setProperty(a+E,l)}},removeItem:function(t,e,i){let n=true;if(!t){return Promise.resolve(n)}const a=i.modifier;const r=a.getProperty(t,"dataProperty");if(r&&r.indexOf&&r.indexOf("InlineXML")!==-1){a.insertAggregation(e,"dependents",t);n=false}if(e.isA&&a.targets==="jsControlTree"){this._setDraftIndicatorStatus(a,e,this.getColumnsFor(e))}return Promise.resolve(n)},_getMetaModel:function(t){return t.appComponent&&t.appComponent.getModel().getMetaModel()},_setDraftIndicatorStatus:function(t,e,i,n){if(t.targets==="jsControlTree"){this._setDraftIndicatorOnVisibleColumn(e,i,n)}},_getGroupId:function(t){return t||undefined},_getDependent:function(t,e,i){if(e===i){return t}return undefined},_fnTemplateValueHelp:function(t,e,i){if(e&&!i){return t("sap.fe.macros.table.ValueHelp")}return Promise.resolve()},_getDisplayMode:function(t){let e;if(t!==undefined){t=typeof t==="boolean"?t:t==="true";e=t?"Display":"Editable";return{displaymode:t,columnEditMode:e}}return{displaymode:undefined,columnEditMode:undefined}},_insertAggregation:function(t,e,i){if(t){return e.insertAggregation(i,"dependents",t,0)}return undefined},addItem:async function(e,i,n){const a=this._getMetaModel(n),o=n.modifier,l=o.getId(i),s=i.isA?this.getColumnsFor(i):null;if(!s){return Promise.resolve(null)}const c=s.find(function(t){return t.name===e});if(!c){t.error(`${e} not found while adding column`);return Promise.resolve(null)}this._setDraftIndicatorStatus(o,i,s,c);if(c.type==="Default"){return this._templateCustomColumnFragment(c,n.view,o,l)}if(c.type==="Slot"){return this._templateSlotColumnFragment(c,n.view,o,l)}if(!a){return Promise.resolve(null)}const u=await b.getCustomData(i,"metaPath",o);const p=await b.getCustomData(i,"entityType",o);const d=await b.getCustomData(i,"requestGroupId",o);const f=this._getGroupId(d);const m=a.createBindingContext(u);const g=await this._getCachedOrFetchPropertiesForEntity(i,p,a,n.appComponent);const h=g.find(function(t){return t.name===e});const v=a.createBindingContext(h.metadataPath);const y=this._getVHRelevantFields(a,h.metadataPath,u);const P={sBindingPath:u,sValueHelpType:"TableValueHelp",oControl:i,oMetaModel:a,oModifier:o,oPropertyInfo:h};const C=async e=>{const n=new x({id:l,requestGroupId:f}),r={bindingContexts:{this:n.createBindingContext("/"),dataField:v,contextPath:m},models:{this:n,dataField:a,metaModel:a,contextPath:a}};try{const t=await b.templateControlFragment(e,r,{},o);return await this._insertAggregation(t,o,i)}catch(e){t.error(`ValueHelp not loaded : ${e.message}`);return null}finally{n.destroy()}};const D=(t,r)=>{const s="sap.fe.macros.table.Column";let p;let d;let f;let g;return Promise.all([b.getCustomData(i,"displayModePropertyBinding",o),b.getCustomData(i,"tableType",o),b.getCustomData(i,"onChange",o),b.getCustomData(i,"creationMode",o)]).then(t=>{p=t[0];d=t[1];f=t[2];g=t[3];const h=this._getDisplayMode(p);p=h.displaymode;const y=h.columnEditMode;const P=new x({enableAutoColumnWidth:i.getParent().enableAutoColumnWidth,isOptimizedForSmallDevice:i.getParent().isOptimizedForSmallDevice,readOnly:p,columnEditMode:y,tableType:d,onChange:f,id:l,navigationPropertyPath:e,columnInfo:c,collection:{sPath:u,oModel:a},creationMode:g}),C={bindingContexts:{entitySet:m,collection:m,dataField:v,this:P.createBindingContext("/"),column:P.createBindingContext("/columnInfo")},models:{this:P,entitySet:a,collection:a,dataField:a,metaModel:a,column:P},appComponent:n.appComponent};return b.templateControlFragment(s,C,{view:r},o).finally(function(){P.destroy()})})};await Promise.all(y.map(async t=>{const e=Object.assign({},P,{sPropertyName:t});const i=await Promise.all([b.isValueHelpRequired(e),b.doesValueHelpExist(e)]);const n=i[0],a=i[1];return this._fnTemplateValueHelp(C,n,a)}));const $=n.view||r.getTargetView(i)||(n.appComponent?r.getCurrentPageView(n.appComponent):undefined);return D(h,$)},getFilterDelegate:function(){return Object.assign({},v,{addItem:function(t,e){if(t.indexOf("Property::")===0){t=t.replace("Property::","")}return v.addItem(t,e)}})},getTypeUtil:function(){return g},formatGroupHeader(t,e,i){var n,a;const r=b.getCachedProperties(t),o=r&&r.filter(t=>t.name===i)[0],s=(o===null||o===void 0?void 0:(n=o.typeConfig)===null||n===void 0?void 0:n.baseType)==="DateTime"||(o===null||o===void 0?void 0:(a=o.typeConfig)===null||a===void 0?void 0:a.baseType)==="Date";let c;if(o&&o.mode){switch(o.mode){case"Description":c=e.getProperty(o.descriptionProperty,s);break;case"DescriptionValue":c=l.formatWithBrackets(e.getProperty(o.descriptionProperty,s),e.getProperty(o.valueProperty,s));break;case"ValueDescription":c=l.formatWithBrackets(e.getProperty(o.valueProperty,s),e.getProperty(o.descriptionProperty,s));break;default:break}}else{c=e.getProperty(o===null||o===void 0?void 0:o.path,s)}return I(t).getText("M_TABLE_GROUP_HEADER_TITLE",[o===null||o===void 0?void 0:o.label,c])}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/table/delegates/TreeTableDelegate",["sap/fe/core/CommonUtils","sap/fe/macros/table/delegates/TableDelegate"],function(t,e){"use strict";const i=Object.assign({},e,{_internalUpdateBindingInfo:function(t,i){var n;e._internalUpdateBindingInfo.apply(this,[t,i]);const a=t.getPayload();i.parameters.$$aggregation={...i.parameters.$$aggregation,...{hierarchyQualifier:a===null||a===void 0?void 0:a.hierarchyQualifier},...{expandTo:(n=i.parameters.$$aggregation)!==null&&n!==void 0&&n.search?100:a===null||a===void 0?void 0:a.initialExpansionLevel}}},updateBindingInfoWithSearchQuery:function(e,i,n){e.filters=n;if(i.search){e.parameters.$$aggregation={...e.parameters.$$aggregation,...{search:t.normalizeSearchTerm(i.search)}}}else{var a,r;(a=e.parameters)===null||a===void 0?true:(r=a.$$aggregation)===null||r===void 0?true:delete r.search}}});return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelp.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards"],function(t,e,i,n){"use strict";var a,r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F;var O={};var I=n.isEntitySet;var M=i.getInvolvedDataModelObjects;var A=e.defineBuildingBlock;var E=e.blockAttribute;function w(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function S(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function L(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;_(t,e)}function _(t,e){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return _(t,e)}function B(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function V(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let j=(a=A({name:"ValueHelp",namespace:"sap.fe.macros",fragment:"sap.fe.macros.internal.valuehelp.ValueHelp"}),r=E({type:"string"}),o=E({type:"sap.ui.model.Context",required:true,expectedTypes:["Property"]}),l=E({type:"sap.ui.model.Context",required:true}),s=E({type:"string"}),c=E({type:"boolean"}),u=E({type:"boolean"}),p=E({type:"boolean"}),d=E({type:"string"}),f=E({type:"boolean"}),m=E({type:"string"}),a(g=(h=function(t){L(e,t);function e(e){var i;i=t.call(this,e)||this;w(i,"idPrefix",b,S(i));w(i,"property",v,S(i));w(i,"contextPath",y,S(i));w(i,"conditionModel",P,S(i));w(i,"filterFieldValueHelp",C,S(i));w(i,"useSemanticDateRange",D,S(i));w(i,"useMultiValueField",$,S(i));w(i,"navigationPrefix",x,S(i));w(i,"requiresValidation",T,S(i));w(i,"_flexId",F,S(i));i.requestGroupId="$auto.Workers";i.collaborationEnabled=false;const n=M(i.contextPath);const a=n.targetEntitySet;if(I(a)){var r,o;i.collaborationEnabled=((r=a.annotations.Common)===null||r===void 0?void 0:(o=r.DraftRoot)===null||o===void 0?void 0:o.ShareAction)!==undefined}return i}O=e;return e}(t),b=B(h.prototype,"idPrefix",[r],{configurable:true,enumerable:true,writable:true,initializer:function(){return"ValueHelp"}}),v=B(h.prototype,"property",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),y=B(h.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),P=B(h.prototype,"conditionModel",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),C=B(h.prototype,"filterFieldValueHelp",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),D=B(h.prototype,"useSemanticDateRange",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),$=B(h.prototype,"useMultiValueField",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),x=B(h.prototype,"navigationPrefix",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=B(h.prototype,"requiresValidation",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),F=B(h.prototype,"_flexId",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||g);O=j;return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelpDelegate",["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/type/TypeUtil","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/m/inputUtils/highlightDOMElements","sap/ui/mdc/condition/Condition","sap/ui/mdc/enum/ConditionValidated","sap/ui/mdc/p13n/StateUtil","sap/ui/mdc/ValueHelpDelegate","sap/ui/model/FilterType"],function(t,e,i,n,a,r,o,l,s,c){"use strict";const u="sap.fe.core.controls.FilterBar";const p="sap.ui.mdc.filterbar.FilterBarBase";return Object.assign({},s,{isSearchSupported:function(t,e,i){return e.getFilterFields()==="$search"},updateBindingInfo:function(t,i,n){s.updateBindingInfo(t,i,n);if(i.getFilterFields()==="$search"){const t=i.getFilterValue();const a=e.normalizeSearchTerm(t);if(n.parameters){n.parameters.$search=a||undefined}}},updateBinding:function(t,e,i){const n=e.getRootBinding()||e;if(!n.isSuspended()){n.suspend()}if(i.parameters){e.changeParameters(i.parameters)}e.filter(i.filters,c.Application);if(n.isSuspended()){n.resume()}},executeFilter:async function(t,e,i,n){e.getContexts(0,n);await this.checkListBindingPending(t,e,n);return e},checkListBindingPending:async function(t,e,i){if(!e||e.isSuspended()){return false}const n=await e.requestContexts(0,i);return n.length===0},getTypeUtil:function(t){return i},retrieveContent:function(t,e,i){return n.showValueList(t,e,i)},_getConditionPayloadList:function(t){const e=t.payload||{},i=Object.keys(e),n=i.length?e[i[0]]:[];return n},_onConditionPropagationToFilterBar:async function(e,i,n,a){try{const t=await l.retrieveExternalState(a);const s=e.getFilterItems();for(const e of i){const i=this._getConditionPayloadList(e);for(const e of n){const n=e.source.split("/").pop()||"";if(s.find(t=>t.getId().split("::").pop()===n)){for(const a of i){const i=r.createCondition("EQ",[a[e.helpPath]],null,null,o.Validated);t.filter[n]||=[];t.filter[n].push(i)}}}}l.applyExternalState(a,t)}catch(e){const i=e instanceof Error?e.message:String(e);t.error(`ValueHelpDelegate: ${i}`)}},_onConditionPropagationToBindingContext:function(e,i,n){const a=n.getModel().getMetaModel();for(const r of e){const e=this._getConditionPayloadList(r),o=e.length===1?e[0]:undefined;if(e.length>1){t.warning("ValueHelpDelegate: ParameterOut in multi-value-field not supported")}if(o){this._onConditionPropagationUpdateProperty(a,o,i,n)}}},_onConditionPropagationUpdateProperty:function(t,e,i,n){for(const r of i){if(n.getProperty(r.source)!==e[r.helpPath]){var a;const e=((a=n.getPath())===null||a===void 0?void 0:a.split("(")[0])+`/${r.source}`;const i=t===null||t===void 0?void 0:t.getObject(`${e}@com.sap.vocabularies.Common.v1.Text`);if(i!==undefined){const t=i===null||i===void 0?void 0:i.$Path;n.requestSideEffects([t.split("/")[0]])}}n.setProperty(r.source,e[r.helpPath])}},onConditionPropagation:async function(t,e,i,a){if(i!=="ControlChange"){return}const r=t.qualifiers[t.valueHelpQualifier];const o=(r===null||r===void 0?void 0:r.vhParameters)!==undefined?n.getOutParameters(r.vhParameters):[],l=e.getControl(),s=l.getParent();let c=l.getConditions();c=c.filter(function(e){const i=e.payload||{};return i[t.valueHelpQualifier]});if(s.isA(p)){const t=e.getParent();if(t.isA(u)){await this._onConditionPropagationToFilterBar(t,c,o,s)}}else{const t=e.getBindingContext();if(t){this._onConditionPropagationToBindingContext(c,o,t)}}},_createInitialFilterCondition:function(e,i){let n;if(e===undefined||e===null){t.error("ValueHelpDelegate: value of the property could not be requested")}else if(e===""){if(i){n=r.createCondition("Empty",[],null,null,o.Validated)}}else{n=r.createCondition("EQ",[e],null,null,o.Validated)}return n},_getInitialFilterConditionsFromBinding:async function(e,i,n){const a=n.map(t=>t.source);const r=i.getBindingContext();if(!r){t.error("ValueHelpDelegate: No BindingContext");return e}const o=await r.requestProperty(a);for(let t=0;t<n.length;t++){const i=n[t];const a=this._createInitialFilterCondition(o[t],i.initialValueFilterEmpty);if(a){e[i.helpPath]=[a]}}return e},_getInitialFilterConditionsFromFilterBar:async function(t,e,i){const n=e.getParent();const a=await l.retrieveExternalState(n);for(const e of i){const i=e.source.split("/").pop();const n=a.filter[i];if(n){t[e.helpPath]=n}}return t},_partitionInParameters:function(t){const e={constant:[],binding:[],filter:[]};for(const i of t){if(i.constantValue!==undefined){e.constant.push(i)}else if(i.source.indexOf("$filter")===0){e.filter.push(i)}else{e.binding.push(i)}}return e},_tableAfterRenderDelegate:{onAfterRendering:function(t){const e=t.srcControl,i=e.$().find("tbody .sapMText"),n=e.getParent();a(i,n.getFilterValue(),true)}},getInitialFilterConditions:async function(e,i,a){if(i!==null&&i!==void 0&&i.isA("sap.ui.mdc.valuehelp.content.MTable")){const t=i.getTable();t===null||t===void 0?void 0:t.removeEventDelegate(this._tableAfterRenderDelegate);t===null||t===void 0?void 0:t.addEventDelegate(this._tableAfterRenderDelegate,this)}const r={};if(!a){t.error("ValueHelpDelegate: Control undefined");return r}const o=e.qualifiers[e.valueHelpQualifier];const l=(o===null||o===void 0?void 0:o.vhParameters)!==undefined?n.getInParameters(o.vhParameters):[];const s=this._partitionInParameters(l);const c=a.getBindingContext();for(const t of s.constant){const e=this._createInitialFilterCondition(t.constantValue,c?t.initialValueFilterEmpty:false);if(e){r[t.helpPath]=[e]}}if(s.binding.length){await this._getInitialFilterConditionsFromBinding(r,a,s.binding)}if(s.filter.length){await this._getInitialFilterConditionsFromFilterBar(r,a,s.filter)}return r},createConditionPayload:function(t,e,i,n){const a=t.qualifiers[t.valueHelpQualifier],r={},o={};const l=e.getControl();const s=l===null||l===void 0?void 0:l.isA("sap.ui.mdc.MultiValueField");if(!a.vhKeys||a.vhKeys.length===1||s){return undefined}a.vhKeys.forEach(function(t){const e=n.getObject(t);if(e!=null){r[t]=(e===null||e===void 0?void 0:e.length)===0?"":e}});if(Object.keys(r).length){o[t.valueHelpQualifier]=[r]}return o},isFilterableListItemSelected:function(t,e,i,n){var a;if(t.isValueListWithFixedValues!==true&&((a=e.getConfig())===null||a===void 0?void 0:a.maxConditions)===1){return false}const r=i.getBindingContext();n=n.filter(t=>t.validated===o.Validated);const l=n.find(function(i){var n;const a=i.payload,o=t.valueHelpQualifier||"";if(!a&&Object.keys(t.qualifiers)[0]===o){const t=e.getKeyPath();return(r===null||r===void 0?void 0:r.getObject(t))===(i===null||i===void 0?void 0:i.values[0])}const l=(a===null||a===void 0?void 0:(n=a[o])===null||n===void 0?void 0:n[0])||{},s=Object.keys(l);if(s.length){return s.every(function(t){return l[t]===(r===null||r===void 0?void 0:r.getObject(t))})}return false});return l?true:false}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelpFilterBar.block",["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/MetaModelConverter","sap/fe/core/TemplateModel"],function(t,e,i,n,a){"use strict";var r,o,l,s,c,u,p,d,f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V;var j={};var R=n.getInvolvedDataModelObjects;var U=i.getSelectionFields;var k=i.getExpandFilterFields;var N=e.defineBuildingBlock;var H=e.blockEvent;var z=e.blockAttribute;function W(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function q(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function G(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;Q(t,e)}function Q(t,e){Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return Q(t,e)}function X(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function K(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let J=(r=N({name:"ValueHelpFilterBar",namespace:"sap.fe.macros.valuehelp",fragment:"sap.fe.macros.valuehelp.ValueHelpFilterBar"}),o=z({type:"string"}),l=z({type:"sap.ui.model.Context",required:true}),s=z({type:"sap.ui.model.Context"}),c=z({type:"boolean"}),u=z({type:"boolean"}),p=z({type:"sap.ui.mdc.FilterBarP13nMode[]"}),d=z({type:"boolean"}),f=z({type:"boolean"}),m=z({type:"sap.ui.model.Context",required:true}),g=z({type:"sap.ui.model.Context"}),h=z({type:"string"}),b=z({type:"boolean"}),v=z({type:"boolean"}),y=H(),P=H(),r(C=(D=function(t){G(e,t);function e(e,i,n){var r;var o;o=t.call(this,e)||this;W(o,"id",$,q(o));W(o,"contextPath",x,q(o));W(o,"metaPath",T,q(o));W(o,"hideBasicSearch",F,q(o));W(o,"enableFallback",O,q(o));W(o,"p13nMode",I,q(o));W(o,"useSemanticDateRange",M,q(o));W(o,"liveMode",A,q(o));W(o,"_valueList",E,q(o));W(o,"selectionFields",w,q(o));W(o,"filterConditions",S,q(o));W(o,"suspendSelection",L,q(o));W(o,"expandFilterFields",_,q(o));W(o,"search",B,q(o));W(o,"filterChanged",V,q(o));const l=o.contextPath.getModel();const s=o.metaPath;const c=s===null||s===void 0?void 0:s.getPath();const u=R(o.contextPath);const p=o.getConverterContext(u,undefined,n);if(!o.selectionFields){const t=U(p,[],c).selectionFields;o.selectionFields=new a(t,l).createBindingContext("/")}const d=u.targetEntitySet;o.expandFilterFields=k(p,(r=d.annotations.Capabilities)===null||r===void 0?void 0:r.FilterRestrictions,o._valueList);return o}j=e;return e}(t),$=X(D.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),x=X(D.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),T=X(D.prototype,"metaPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),F=X(D.prototype,"hideBasicSearch",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),O=X(D.prototype,"enableFallback",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),I=X(D.prototype,"p13nMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),M=X(D.prototype,"useSemanticDateRange",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),A=X(D.prototype,"liveMode",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),E=X(D.prototype,"_valueList",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),w=X(D.prototype,"selectionFields",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),S=X(D.prototype,"filterConditions",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),L=X(D.prototype,"suspendSelection",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),_=X(D.prototype,"expandFilterFields",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),B=X(D.prototype,"search",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),V=X(D.prototype,"filterChanged",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),D))||C);j=J;return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/visualfilters/InteractiveChartHelper",["sap/base/util/JSTokenizer","sap/fe/core/CommonUtils","sap/fe/core/controls/filterbar/utils/VisualFilterUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/FilterHelper","sap/fe/core/type/TypeUtil","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterFieldHelper","sap/m/library","sap/ui/core/Core","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/ConditionConverter","sap/ui/model/odata/v4/ODataUtils","../field/FieldTemplating"],function(t,e,i,n,a,r,o,l,s,c,u,p,d,f,m,g,h){"use strict";var b=h.getTextBinding;var v=u.formatOptions;var y=u.constraints;var P=l.getFiltersConditionsFromSelectionVariant;var C=o.buildExpressionForCriticalityColorMicroChart;var D=r.isNavigationProperty;var $=r.isEntitySet;var x=a.generate;var T=n.getInvolvedDataModelObjects;const F={getChartDisplayedValue:function(t,e,i){const n=x([i]);return"{parts:[{path:'"+t+"',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}"+(e&&e.ScaleFactor?",{value:'"+e.ScaleFactor.valueOf()+"'}":",{path:'internal>scalefactorNumber/"+n+"'}")+(e&&e.NumberOfFractionalDigits?",{value:'"+e.NumberOfFractionalDigits+"'}":",{value:'0'}")+",{path:'internal>currency/"+n+"'}"+",{path:'"+t+"',type:'sap.ui.model.odata.type.String', constraints:{'nullable':false}}"+"], formatter:'VisualFilterRuntime.scaleVisualFilterValue'}"},getChartValue:function(t){return"{path:'"+t+"',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}"},_getCollectionName:function(t,e,i){const n=t.targetObject;if(D(n)){return i?e.getPath():n.name}else if($(n)){return"/"+n.name}else{return n.name}},_getBindingPathForParameters:function(n,a,r,o,l){const c=[];const u=i.convertFilterCondions(n);const p=e.getParameterInfo(a,r).parameterProperties;if(p){for(const e in o){const i=o[e];const n=p[i];const r=l.split("/")[1];const d=a.createBindingContext(`/${r}/${i}`);const f=s.getTypeConfig(n.$Type,t.parseJS(v(n,{context:d})||"{}"),t.parseJS(y(n,{context:d})||"{}"));const h=u[i];const b=h?h[0]:undefined;if(b){const t=m.toType(b,f,s);const e=n.$Type;let a=encodeURIComponent(g.formatLiteral(t.values[0],e));a=a.replaceAll("'","\\'");c.push(`${i}=${a}`)}}}const d=r.slice(0,r.lastIndexOf("/"));const f=r.substring(r.lastIndexOf("/")+1);return`${d}(${c.toString()})/${f}`},_getUOMAggregationExpression:function(t,e,i,n){let a,r;const o=i&&typeof i!="string"&&i.path;if(t){if(e){a=o?`{ 'unit' : '${o}' }`:"{}";r=""}else{a="{}";r=o?`, '${o}' : {}`:""}}else if(n&&n.AggregatableProperty&&n.AggregatableProperty.value&&n.AggregationMethod){a="{ 'name' : '"+n.AggregatableProperty.value+"', 'with' : '"+n.AggregationMethod+"'}";r=o?", '"+o+"' : {}":""}return{aggregationExpression:a,UOMExpression:r}},getAggregationBinding:function(t,e,n,a,r,o,l,s,c,u,p,d,f,m){const g=l===null||l===void 0?void 0:l.targetObject;const h=d?d.getPath():"";const b=n.getPath();const v=t.Dimensions[0].value;const y=[];let C;let D=this._getCollectionName(e,n,p);const $=F.getUoM(t,e,undefined,s,c);const x=n.getModel();if(f){y.push({operator:"EQ",value1:"true",value2:null,path:"IsActiveEntity",isParameter:true})}if(g){C=P(b,x,g,i.getCustomConditions.bind(i));for(const t in C){const e=C[t];e.forEach(function(t){if(!t.isParameter){y.push(t)}})}}if(h!==`${D}/`&&p&&p.length&&C){const t=this._getBindingPathForParameters(C,x,D,p,b);D=t}const T=this._getUOMAggregationExpression(s,u,$,c);const O=T.aggregationExpression;const I=T.UOMExpression;const M=a?"' : { 'additionally' : ['"+a.path+"'] }":"' : { }";const A=JSON.stringify(y);return"{path: '"+D+"', templateShareable: true, suspended : true, 'filters' : "+A+",'parameters' : {"+F.getSortOrder(t,r,o,m)+", '$$aggregation' : {'aggregate' : {'"+m+"' : "+O+"},'group' : {'"+v+M+I+"} } }"+F.getMaxItems(t)+"}"},_getOrderExpressionFromMeasure:function(t,e){let i;if(t&&t.length){if(t[0].DynamicProperty){var n;i=(n=t[0].DynamicProperty.$target)===null||n===void 0?void 0:n.Name}else{var a;i=(a=t[0].Property)===null||a===void 0?void 0:a.value}if(i===e){return"'$orderby' : '"+e+(t[0].Descending?" desc'":"'")}return"'$orderby' : '"+e+" desc'"}return"'$orderby' : '"+e+" desc'"},getSortOrder:function(t,e,i,n){var a,r;if(t.ChartType==="UI.ChartType/Donut"||t.ChartType==="UI.ChartType/Bar"){return this._getOrderExpressionFromMeasure(i,n)}else if(e==="Edm.Date"||e==="Edm.Time"||e==="Edm.DateTimeOffset"){return"'$orderby' : '"+t.Dimensions[0].value+"'"}else if(i&&i.length&&((a=i[0].Property)===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:r.path)===t.Dimensions[0].value){var o,l;return"'$orderby' : '"+((o=i[0].Property)===null||o===void 0?void 0:(l=o.$target)===null||l===void 0?void 0:l.name)+(i[0].Descending?" desc'":"'")}else{var s;return"'$orderby' : '"+((s=t.Dimensions[0].$target)===null||s===void 0?void 0:s.name)+"'"}},getMaxItems:function(t){if(t.ChartType==="UI.ChartType/Bar"){return",'startIndex' : 0,'length' : 3"}else if(t.ChartType==="UI.ChartType/Line"){return",'startIndex' : 0,'length' : 6"}else{return""}},getColorBinding:function(t,e){var i,n,a;const r=e===null||e===void 0?void 0:(i=e.$target)===null||i===void 0?void 0:(n=i.annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.ValueCriticality;if(t!==null&&t!==void 0&&t.Criticality){return C(t)}else if(t!==null&&t!==void 0&&t.CriticalityCalculation){const e=t.CriticalityCalculation.ImprovementDirection;const i=t.Value;const n=t.CriticalityCalculation.DeviationRangeLowValue.valueOf();const a=t.CriticalityCalculation.ToleranceRangeLowValue.valueOf();const r=t.CriticalityCalculation.AcceptanceRangeLowValue.valueOf();const o=t.CriticalityCalculation.AcceptanceRangeHighValue.valueOf();const l=t.CriticalityCalculation.ToleranceRangeHighValue.valueOf();const s=t.CriticalityCalculation.DeviationRangeHighValue.valueOf();return c.getCriticalityCalculationBinding(e,i,n,a,r,o,l,s)}else if(r&&r.length){return F.getValueCriticality(e.value,r)}else{return undefined}},getValueCriticality:function(t,e){let i;const n=[];if(e&&e.length>0){e.forEach(function(e){if(e.Value&&e.Criticality){const i="${"+t+"} === '"+e.Value+"' ? '"+F._getCriticalityFromEnum(e.Criticality)+"'";n.push(i)}});i=n.length>0&&n.join(" : ")+" : undefined"}return i?"{= "+i+" }":undefined},_getCriticalityFromEnum:function(t){const e=p.ValueColor;let i;if(t==="UI.CriticalityType/Negative"){i=e.Error}else if(t==="UI.CriticalityType/Positive"){i=e.Good}else if(t==="UI.CriticalityType/Critical"){i=e.Critical}else{i=e.Neutral}return i},getScaleUoMTitle:function(t,e,i,n,a,r,o){var l,s,c,u,p;const d=t!==null&&t!==void 0&&t.MeasureAttributes?(l=t.MeasureAttributes[0])===null||l===void 0?void 0:(s=l.DataPoint)===null||s===void 0?void 0:(c=s.$target)===null||c===void 0?void 0:(u=c.ValueFormat)===null||u===void 0?void 0:(p=u.ScaleFactor)===null||p===void 0?void 0:p.valueOf():undefined;const m=x([i]);const g=f.getIntegerInstance({style:"short",showScale:false,shortRefNumber:d});let h=g.getScale();let b=F.getUoM(t,e,undefined,n,a);b=b&&(b.path?"${internal>uom/"+m+"}":"'"+b+"'");h=h?"'"+h+"'":"${internal>scalefactor/"+m+"}";if(!r){r="|"}r="' "+r+" ' + ";const v=h&&b?r+h+" + ' ' + "+b:r+(h||b);return o?v:"{= "+v+"}"},getMeasureDimensionTitle:function(t,e,i){var n,a,r,o,l;let s;let c;if(e){var u,p;c=t===null||t===void 0?void 0:(u=t.Measures[0])===null||u===void 0?void 0:(p=u.$target)===null||p===void 0?void 0:p.name}if(t!==null&&t!==void 0&&t.DynamicMeasures&&t.DynamicMeasures.length>0){var f,m,g;c=(f=t.DynamicMeasures[0])===null||f===void 0?void 0:(m=f.$target)===null||m===void 0?void 0:(g=m.AggregatableProperty)===null||g===void 0?void 0:g.value}else if(!e&&t!==null&&t!==void 0&&t.Measures&&(t===null||t===void 0?void 0:t.Measures.length)>0){var h,b;c=(h=t.Measures[0])===null||h===void 0?void 0:(b=h.$target)===null||b===void 0?void 0:b.name}const v=t===null||t===void 0?void 0:(n=t.Dimensions[0])===null||n===void 0?void 0:n.value;let y=t===null||t===void 0?void 0:(a=t.Dimensions[0])===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:(o=r.annotations)===null||o===void 0?void 0:(l=o.Common)===null||l===void 0?void 0:l.Label;if(!e&&i){s=i.annotations&&i.annotations.Common&&i.annotations.Common.Label;if(s===undefined){var P,C,D,$;s=t===null||t===void 0?void 0:(P=t.Measures[0])===null||P===void 0?void 0:(C=P.$target)===null||C===void 0?void 0:(D=C.annotations)===null||D===void 0?void 0:($=D.Common)===null||$===void 0?void 0:$.Label}}else{var x,T,F,O;s=t===null||t===void 0?void 0:(x=t.Measures[0])===null||x===void 0?void 0:(T=x.$target)===null||T===void 0?void 0:(F=T.annotations)===null||F===void 0?void 0:(O=F.Common)===null||O===void 0?void 0:O.Label}if(s===undefined){s=c}if(y===undefined){y=v}return d.getLibraryResourceBundle("sap.fe.macros").getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_MEASURE_DIMENSION_TITLE",[s,y])},getToolTip:function(t,e,i,n,a,r){const o=t&&t["ChartType"];let l=F.getMeasureDimensionTitle(t,n,a);l=c.escapeSingleQuotes(l);if(r==="false"&&o==="UI.ChartType/Line"){return`{= '${l}'}`}const s=d.getLibraryResourceBundle("sap.fe.macros").getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_TOOLTIP_SEPERATOR");const u=x([i]);const p=F.getScaleUoMTitle(t,e,u,n,a,s,true);return"{= '"+l+(p?"' + "+p:"'")+"}"},_getUOM:function(t,e,i,n,a){const r={};const o=i===null||i===void 0?void 0:i.targetObject;if(t&&e){r[e]={$Path:t.path};return n&&t.path?JSON.stringify(r):t}else if(a){var l,s;const i=o.entityType?o.entityType.entityProperties:(l=o.targetType)===null||l===void 0?void 0:l.entityProperties;const p=i===null||i===void 0?void 0:i.find(t=>t.name==a);if(p!==null&&p!==void 0&&(s=p.annotations)!==null&&s!==void 0&&s.Measures&&e){var c,u;t=p===null||p===void 0?void 0:(c=p.annotations)===null||c===void 0?void 0:c.Measures[e];r[e]={$Path:(u=t)===null||u===void 0?void 0:u.path}}return t&&n&&t.path?JSON.stringify(r):t}},getUoM:function(t,e,i,n,a){var r,o;let l={};if(n){l=t===null||t===void 0?void 0:t.Measures[0]}if(t!==null&&t!==void 0&&t.DynamicMeasures&&t.DynamicMeasures.length>0){var s,c,u,p,d;l=(s=t.DynamicMeasures[0])===null||s===void 0?void 0:(c=s.$target)===null||c===void 0?void 0:(u=c.AggregatableProperty)===null||u===void 0?void 0:(p=u.$target)===null||p===void 0?void 0:(d=p.annotations)===null||d===void 0?void 0:d.Measures}else if(!n&&t!==null&&t!==void 0&&t.Measures&&t.Measures.length>0){l=t.Measures[0]}const f=(r=l)===null||r===void 0?void 0:r.ISOCurrency;const m=(o=l)===null||o===void 0?void 0:o.Unit;let g;if(!n&&a){g=a.AggregatableProperty&&a.AggregatableProperty.value}else{var h;g=(h=l)===null||h===void 0?void 0:h.value}return this._getUOM(f,"ISOCurrency",e,i,g)||this._getUOM(m,"Unit",e,i,g)},getScaleFactor:function(t){if(t&&t.ScaleFactor){return t.ScaleFactor.valueOf()}return undefined},getUoMVisiblity:function(t,e){const i=t&&t["ChartType"];if(e){return false}else if(!(i==="UI.ChartType/Bar"||i==="UI.ChartType/Line")){return false}else{return true}},getInParameterFiltersBinding:function(t){if(t.length>0){const e=[];let i="";t.forEach(function(t){if(t.localDataProperty){e.push(`{path:'$filters>/conditions/${t.localDataProperty}'}`)}});if(e.length>0){i=e.join();return`{parts:[${i}], formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFiltersFromConditions'}`}else{return undefined}}else{return undefined}},getfilterCountBinding:function(t){var e,i;const n=t===null||t===void 0?void 0:(e=t.Dimensions[0])===null||e===void 0?void 0:(i=e.$target)===null||i===void 0?void 0:i.name;return"{path:'$filters>/conditions/"+n+"', formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFilterCounts'}"},getInteractiveChartProperties:function(t){const e=t.chartAnnotation;const i={};if(t.chartMeasure&&e!==null&&e!==void 0&&e.Dimensions&&e.Dimensions[0]){var n,a,r,o,l,s,u,p,d;const m=x([(n=t.metaPath)===null||n===void 0?void 0:n.getPath()]);i.showErrorExpression="${internal>"+m+"/showError}";i.errorMessageExpression="{internal>"+m+"/errorMessage}";i.errorMessageTitleExpression="{internal>"+m+"/errorMessageTitle}";let g;if(e!==null&&e!==void 0&&e.MeasureAttributes&&e!==null&&e!==void 0&&e.MeasureAttributes[0]){var f;g=e!==null&&e!==void 0&&(f=e.MeasureAttributes[0])!==null&&f!==void 0&&f.DataPoint?e===null||e===void 0?void 0:e.MeasureAttributes[0].DataPoint.$target:e===null||e===void 0?void 0:e.MeasureAttributes[0]}const h=e===null||e===void 0?void 0:e.Dimensions[0];const v=c.getParameters(t.contextPath.getObject(),{context:t.contextPath});const y=h===null||h===void 0?void 0:(a=h.$target)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(o=r.Common)===null||o===void 0?void 0:o.Text;const P=T(t.metaPath,t.contextPath).targetObject;const C=T(t.contextPath);const D=t.selectionVariantAnnotation?T(t.selectionVariantAnnotation):undefined;const $=P.SortOrder;i.aggregationBinding=F.getAggregationBinding(e,C,t.contextPath,y,h.$target.type,$,D,t.customAggregate,t.aggregateProperties,t.UoMHasCustomAggregate,v,t.filterBarEntityType,t.draftSupported,t.chartMeasure);i.scalefactor=F.getScaleFactor((l=g)===null||l===void 0?void 0:l.ValueFormat);i.uom=F.getUoM(e,C,true,t.customAggregate,t.aggregateProperties);i.inParameters=c.stringifyCustomData(t.inParameters);i.inParameterFilters=t.inParameters?F.getInParameterFiltersBinding(t.inParameters):undefined;i.selectionVariantAnnotation=t.selectionVariantAnnotation?c.stringifyCustomData(t.selectionVariantAnnotation):undefined;i.stringifiedParameters=c.stringifyCustomData(v);const O=(s=t.metaPath)===null||s===void 0?void 0:(u=s.getModel())===null||u===void 0?void 0:u.createBindingContext(t.contextPath.getPath()+"/@"+h.fullyQualifiedName.split("@")[1]);if(O){const e=T(O,t.contextPath);i.chartLabel=b(e,{})}i.measure=F.getChartValue(t.chartMeasure);i.displayedValue=F.getChartDisplayedValue(t.chartMeasure,(p=g)===null||p===void 0?void 0:p.ValueFormat,(d=t.metaPath)===null||d===void 0?void 0:d.getPath());i.color=F.getColorBinding(g,h)}return i}};return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/visualfilters/VisualFilter.block",["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","./fragments/InteractiveBarChart","./fragments/InteractiveChartWithError","./fragments/InteractiveLineChart","./InteractiveChartHelper"],function(t,e,i,n,a,r,o,l,s,c,u,p,d){"use strict";var f,m,g,h,b,v,y,P,C,D,$,x,T,F,O,I,M,A,E,w,S,L,_,B,V,j,R,U,k,N,H,z,W,q,G,Q,X,K,J,Y,Z,tt,et,it,nt,at,rt,ot,lt,st,ct;var ut={};var pt=p.getInteractiveLineChartTemplate;var dt=u.getInteractiveChartWithErrorTemplate;var ft=c.getInteractiveBarChartTemplate;var mt=s.generate;var gt=o.getInvolvedDataModelObjects;var ht=r.AggregationHelper;var bt=a.getDefaultSelectionVariant;var vt=n.xml;var yt=i.defineBuildingBlock;var Pt=i.blockAttribute;function Ct(t,e,i,n){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Dt(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function $t(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;xt(t,e)}function xt(t,e){xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return xt(t,e)}function Tt(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r);if(a&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(a):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function Ft(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let Ot=(f=yt({name:"VisualFilter",namespace:"sap.fe.macros"}),m=Pt({type:"string",required:true}),g=Pt({type:"string"}),h=Pt({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty"]}),b=Pt({type:"sap.ui.model.Context",required:true}),v=Pt({type:"string"}),y=Pt({type:"string"}),P=Pt({type:"sap.ui.model.Context"}),C=Pt({type:"array"}),D=Pt({type:"boolean"}),$=Pt({type:"boolean"}),x=Pt({type:"boolean"}),T=Pt({type:"string"}),F=Pt({type:"string"}),O=Pt({type:"sap.ui.model.Context"}),I=Pt({type:"boolean"}),M=Pt({type:"string"}),A=Pt({type:"boolean"}),E=Pt({type:"boolean"}),w=Pt({type:"boolean"}),S=Pt({type:"string"}),L=Pt({type:"string"}),_=Pt({type:"string"}),B=Pt({type:"boolean"}),V=Pt({type:"boolean"}),f(j=(R=function(e){$t(i,e);function i(i,n,a){var r,o,s,c,u,p,f,m,g,h,b,v,y,P,C,D,$,x,T;var F;F=e.call(this,i,n,a)||this;Ct(F,"id",U,Dt(F));Ct(F,"title",k,Dt(F));Ct(F,"contextPath",N,Dt(F));Ct(F,"metaPath",H,Dt(F));Ct(F,"outParameter",z,Dt(F));Ct(F,"valuelistProperty",W,Dt(F));Ct(F,"selectionVariantAnnotation",q,Dt(F));Ct(F,"inParameters",G,Dt(F));Ct(F,"multipleSelectionAllowed",Q,Dt(F));Ct(F,"required",X,Dt(F));Ct(F,"showOverlayInitially",K,Dt(F));Ct(F,"renderLineChart",J,Dt(F));Ct(F,"requiredProperties",Y,Dt(F));Ct(F,"filterBarEntityType",Z,Dt(F));Ct(F,"showError",tt,Dt(F));Ct(F,"chartMeasure",et,Dt(F));Ct(F,"UoMHasCustomAggregate",it,Dt(F));Ct(F,"showValueHelp",nt,Dt(F));Ct(F,"customAggregate",at,Dt(F));Ct(F,"groupId",rt,Dt(F));Ct(F,"errorMessageTitle",ot,Dt(F));Ct(F,"errorMessage",lt,Dt(F));Ct(F,"draftSupported",st,Dt(F));Ct(F,"isValueListWithFixedValues",ct,Dt(F));F.groupId="$auto.visualFilters";F.path=(r=F.metaPath)===null||r===void 0?void 0:r.getPath();const O=gt(F.metaPath,F.contextPath);const I=F.getConverterContext(O,undefined,a);const M=new ht(I.getEntityType(),I);const A=M.getCustomAggregateDefinitions();const E=O.targetObject;let w;const S=E&&E.Visualizations;F.getChartAnnotation(S,I);let L,_=[];if((o=F.chartAnnotation)!==null&&o!==void 0&&(s=o.Measures)!==null&&s!==void 0&&s.length){_=A.filter(t=>{var e;return t.qualifier===((e=F.chartAnnotation)===null||e===void 0?void 0:e.Measures[0].value)});w=_.length>0?_[0].qualifier:F.chartAnnotation.Measures[0].value;L=M.getAggregatedProperties("AggregatedProperties")[0]}if(L&&L.length>0&&!((c=F.chartAnnotation)!==null&&c!==void 0&&c.DynamicMeasures)&&_.length===0&&(u=F.chartAnnotation)!==null&&u!==void 0&&u.Measures&&((p=F.chartAnnotation)===null||p===void 0?void 0:p.Measures.length)>0){t.warning("The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.")}if((f=F.chartAnnotation)!==null&&f!==void 0&&f.DynamicMeasures){if(_.length===0){w=I.getConverterContextFor(I.getAbsoluteAnnotationPath(F.chartAnnotation.DynamicMeasures[0].value)).getDataModelObjectPath().targetObject.Name;L=M.getAggregatedProperties("AggregatedProperty")}else{t.warning("The dynamic measures have been ignored as visual filters can deal with only 1 measure and the first (custom aggregate) measure defined under Chart.Measures is considered.")}}if(A.some(function(t){return t.qualifier===w})){F.customAggregate=true}const B=bt(I.getEntityType());F.checkSelectionVariant(B);const V=F.getAggregateProperties(L,w);if(V){F.aggregateProperties=V}const j=S&&((m=S[0])===null||m===void 0?void 0:(g=m.$target)===null||g===void 0?void 0:g.Measures)&&((h=S[0])===null||h===void 0?void 0:(b=h.$target)===null||b===void 0?void 0:(v=b.Measures[0])===null||v===void 0?void 0:(y=v.$target)===null||y===void 0?void 0:y.annotations);const R=V===null||V===void 0?void 0:(P=V.AggregatableProperty)===null||P===void 0?void 0:(C=P.$target)===null||C===void 0?void 0:C.annotations;F.checkIfUOMHasCustomAggregate(A,j,R);const ut=j===null||j===void 0?void 0:(D=j.UI)===null||D===void 0?void 0:D.Hidden;const pt=R===null||R===void 0?void 0:($=R.UI)===null||$===void 0?void 0:$.Hidden;const dt=F.getHiddenMeasure(ut,pt,F.customAggregate);const ft=(x=F.chartAnnotation)===null||x===void 0?void 0:x.ChartType;F.chartType=ft;F.showValueHelp=F.getShowValueHelp(ft,dt);F.draftSupported=l.isDraftSupported(a.models.metaModel,(T=F.contextPath)===null||T===void 0?void 0:T.getPath());F.errorMessage=F.getErrorMessage(dt,w);F.chartMeasure=w;F.measureDimensionTitle=d.getMeasureDimensionTitle(F.chartAnnotation,F.customAggregate,F.aggregateProperties);const mt=gt(F.contextPath);F.toolTip=d.getToolTip(F.chartAnnotation,mt,F.path,F.customAggregate,F.aggregateProperties,F.renderLineChart);F.UoMVisibility=d.getUoMVisiblity(F.chartAnnotation,F.showError);F.scaleUoMTitle=d.getScaleUoMTitle(F.chartAnnotation,mt,F.path,F.customAggregate,F.aggregateProperties);F.filterCountBinding=d.getfilterCountBinding(F.chartAnnotation);return F}ut=i;var n=i.prototype;n.checkIfUOMHasCustomAggregate=function t(e,i,n){const a=i===null||i===void 0?void 0:i.Measures;const r=n===null||n===void 0?void 0:n.Measures;const o=this.getUoM(a,r);if(o&&e.some(function(t){return t.qualifier===o})){this.UoMHasCustomAggregate=true}else{this.UoMHasCustomAggregate=false}};n.getChartAnnotation=function t(e,i){if(e){for(let t=0;t<e.length;t++){const n=e[t]&&e[t].value;this.chartAnnotation=i.getEntityTypeAnnotation(n)&&i.getEntityTypeAnnotation(n).annotation}}};n.getErrorMessage=function t(e,i){let n;if(this.chartAnnotation){if(this.chartAnnotation.ChartType==="UI.ChartType/Line"||this.chartAnnotation.ChartType==="UI.ChartType/Bar"){n=true}else{n=false}}if(typeof e==="boolean"&&e||!n||this.renderLineChart==="false"){this.showError=true;this.errorMessageTitle=e||!n?this.getTranslatedText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"):this.getTranslatedText("M_VISUAL_FILTER_LINE_CHART_INVALID_DATATYPE");if(e){return this.getTranslatedText("M_VISUAL_FILTER_HIDDEN_MEASURE",[i])}else if(!n){return this.getTranslatedText("M_VISUAL_FILTER_UNSUPPORTED_CHART_TYPE")}else{return this.getTranslatedText("M_VISUAL_FILTER_LINE_CHART_UNSUPPORTED_DIMENSION")}}};n.getShowValueHelp=function t(e,i){var n,a;const r=((n=this.chartAnnotation)===null||n===void 0?void 0:n.Dimensions[0])&&((a=this.chartAnnotation)===null||a===void 0?void 0:a.Dimensions[0].$target)&&this.chartAnnotation.Dimensions[0].$target.type;if(r==="Edm.Date"||r==="Edm.Time"||r==="Edm.DateTimeOffset"){return false}else if(typeof i==="boolean"&&i){return false}else if(!(e==="UI.ChartType/Bar"||e==="UI.ChartType/Line")){return false}else if(this.renderLineChart==="false"&&e==="UI.ChartType/Line"){return false}else if(this.isValueListWithFixedValues===true){return false}else{return true}};n.checkSelectionVariant=function e(i){let n;if(this.selectionVariantAnnotation){var a;const t=(a=this.metaPath)===null||a===void 0?void 0:a.getModel().createBindingContext(this.selectionVariantAnnotation.getPath());n=t&&gt(t,this.contextPath).targetObject}if(!n&&i){n=i}if(n&&n.SelectOptions&&!this.multipleSelectionAllowed){for(const e of n.SelectOptions){var r;if(e.PropertyName.value===((r=this.chartAnnotation)===null||r===void 0?void 0:r.Dimensions[0].value)){if(e.Ranges.length>1){t.error("Multiple SelectOptions for FilterField having SingleValue Allowed Expression")}}}}};n.getAggregateProperties=function t(e,i){let n;if(!e){return}e.some(function(t){if(t.Name===i){n=t;return true}});return n};n.getUoM=function t(e,i){var n,a;let r=e===null||e===void 0?void 0:e.ISOCurrency;let o=e===null||e===void 0?void 0:e.Unit;if(!r&&!o&&i){r=i.ISOCurrency;o=i.Unit}return((n=r)===null||n===void 0?void 0:n.path)||((a=o)===null||a===void 0?void 0:a.path)};n.getHiddenMeasure=function t(e,i,n){if(!n&&i){return i.valueOf()}else{return e===null||e===void 0?void 0:e.valueOf()}};n.getRequired=function t(){if(this.required){return vt`<Label text="" width="0.5rem" required="true">
							<layoutData>
								<OverflowToolbarLayoutData priority="Never" />
							</layoutData>
						</Label>`}else{return vt``}};n.getUoMTitle=function t(e){if(this.UoMVisibility){return vt`<Title
							id="${mt([this.id,"ScaleUoMTitle"])}"
							visible="{= !${e}}"
							text="${this.scaleUoMTitle}"
							titleStyle="H6"
							level="H3"
							width="4.15rem"
						/>`}else{return vt``}};n.getValueHelp=function t(e){if(this.showValueHelp){return vt`<ToolbarSpacer />
						<Button
							id="${mt([this.id,"VisualFilterValueHelpButton"])}"
							type="Transparent"
							ariaHasPopup="Dialog"
							text="${this.filterCountBinding}"
							press="VisualFilterRuntime.fireValueHelp"
							enabled="{= !${e}}"
							customData:multipleSelectionAllowed="${this.multipleSelectionAllowed}"
						>
							<layoutData>
								<OverflowToolbarLayoutData priority="Never" />
							</layoutData>
						</Button>`}else{return vt``}};n.getInteractiveChartFragment=function t(){if(this.showError){return dt(this)}else if(this.chartType==="UI.ChartType/Bar"){return ft(this)}else if(this.chartType==="UI.ChartType/Line"){return pt(this)}return vt``};n.getTemplate=function t(){const e=mt([this.path]);const i="${internal>"+e+"/showError}";return vt`
		<control:VisualFilter
		core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
		xmlns="sap.m"
		xmlns:control="sap.fe.core.controls.filterbar"
		xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
		xmlns:core="sap.ui.core"
		id="${this.id}"
		height="13rem"
		width="20.5rem"
		class="sapUiSmallMarginBeginEnd"
		customData:infoPath="${mt([this.path])}"
	>
		<VBox height="2rem" class="sapUiSmallMarginBottom">
			<OverflowToolbar style="Clear">
				${this.getRequired()}
				<Title
					id="${mt([this.id,"MeasureDimensionTitle"])}"
					text="${this.measureDimensionTitle}"
					tooltip="${this.toolTip}"
					titleStyle="H6"
					level="H3"
					class="sapUiTinyMarginEnd sapUiNoMarginBegin"
				/>
				${this.getUoMTitle(i)}
				${this.getValueHelp(i)}
			</OverflowToolbar>
		</VBox>
		<VBox height="100%" width="100%">
			${this.getInteractiveChartFragment()}
		</VBox>
	</control:VisualFilter>`};return i}(e),U=Tt(R.prototype,"id",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),k=Tt(R.prototype,"title",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),N=Tt(R.prototype,"contextPath",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),H=Tt(R.prototype,"metaPath",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=Tt(R.prototype,"outParameter",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),W=Tt(R.prototype,"valuelistProperty",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),q=Tt(R.prototype,"selectionVariantAnnotation",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),G=Tt(R.prototype,"inParameters",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=Tt(R.prototype,"multipleSelectionAllowed",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),X=Tt(R.prototype,"required",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),K=Tt(R.prototype,"showOverlayInitially",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),J=Tt(R.prototype,"renderLineChart",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=Tt(R.prototype,"requiredProperties",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Tt(R.prototype,"filterBarEntityType",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=Tt(R.prototype,"showError",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),et=Tt(R.prototype,"chartMeasure",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),it=Tt(R.prototype,"UoMHasCustomAggregate",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),nt=Tt(R.prototype,"showValueHelp",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),at=Tt(R.prototype,"customAggregate",[w],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),rt=Tt(R.prototype,"groupId",[S],{configurable:true,enumerable:true,writable:true,initializer:function(){return"$auto.visualFilters"}}),ot=Tt(R.prototype,"errorMessageTitle",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),lt=Tt(R.prototype,"errorMessage",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),st=Tt(R.prototype,"draftSupported",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),ct=Tt(R.prototype,"isValueListWithFixedValues",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),R))||j);ut=Ot;return ut},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/visualfilters/VisualFilterRuntime",["sap/base/Log","sap/fe/core/controls/filterbar/utils/VisualFilterUtils","sap/fe/core/templating/FilterHelper","sap/fe/core/type/TypeUtil","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterUtils","sap/ui/core/Core","sap/ui/mdc/condition/Condition","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,i,n,a,r,o,l,s,c,u){"use strict";var p=i.getFiltersConditionsFromSelectionVariant;const d={selectionChanged(i){const n=i.getSource();const a=n.data("outParameter");const r=n.data("valuelistProperty");const o=n.data("dimension");const s=n.data("dimensionText");const c=n.data("multipleSelectionAllowed");const u=n.data("dimensionType");const p=i.getParameter("bar")||i.getParameter("point")||i.getParameter("segment");const d=i.getParameter("selected");const f=n.getModel("$field");let m=f.getProperty("/conditions");if(!a||r!==o){t.error("VisualFilter: Cannot sync values with regular filter as out parameter is not configured properly!")}else{let i=p.getBindingContext().getObject(r);if(i){let t=p.getBindingContext().getObject(s);if(typeof t!=="string"&&!(t instanceof String)){t=undefined}if(d){if(c==="false"){m=[]}if(u==="Edm.DateTimeOffset"){i=e._parseDateTime(i)}const n=l.createItemCondition(i,t||undefined,{},{});m.push(n)}else{m=m.filter(function(t){if(u==="Edm.DateTimeOffset"){return t.operator!=="EQ"||Date.parse(t.values[0])!==Date.parse(i)}return t.operator!=="EQ"||t.values[0]!==i})}f.setProperty("/conditions",m)}else{t.error("VisualFilter: No vaue found for the outParameter")}}},getAggregationSelected(t){var i;let n=[];if(!this.getBindingContext()){return}for(let e=0;e<=t.length-1;e++){const i=t[e];if(i.operator==="EQ"){n.push(i.values[0])}}const a=this.getParent();const r=a.data("dimension");const o=a.data("dimensionType");let l=(i=this.getBindingContext())===null||i===void 0?void 0:i.getObject(r);if(o==="Edm.DateTimeOffset"){l=e._parseDateTime(l)}if(a.data("multipleSelectionAllowed")==="false"&&n.length>1){n=[n[0]]}return n.indexOf(l)>-1},getFiltersFromConditions(){var t,i,l;for(var d=arguments.length,f=new Array(d),m=0;m<d;m++){f[m]=arguments[m]}const g=this.getParent();const h=(t=g.getParent())===null||t===void 0?void 0:(i=t.getParent())===null||i===void 0?void 0:(l=i.getParent())===null||l===void 0?void 0:l.getParent();const b=g.data("inParameters").customData;const v=g.data("draftSupported")==="true";const y=h.getPropertyInfo();const P={};const C=[];let D;let $=[];const x=g.data("parameters").customData;const T=a.parseCustomData(g.data("selectionVariantAnnotation"));const F=g.getBinding("bars")||g.getBinding("points")||g.getBinding("segments");const O=F.getPath();const I=g.getModel().getMetaModel();const M=F.getPath();const A=p(M,I,T,e.getCustomConditions.bind(e));for(const t in y){y[t].typeConfig=n.getTypeConfig(y[t].dataType,{},{})}const E=e.convertFilterCondions(A);Object.keys(E).forEach(function(t){P[t]=E[t];const i=b.find(function(e){return e.valueListProperty===t});const n=i?i.localDataProperty:t;if(!x||x&&x.indexOf(t)===-1){for(const i in y){const a=y[i];if(n===a.name){if(a.typeConfig.baseType==="DateTime"){if(P[t]){P[t].forEach(function(t){t.values[0]=e._formatDateTime(t.values[0])})}}C.push({name:t,typeConfig:a.typeConfig})}}}});b.forEach(function(t,i){if(f[i].length>0){P[t.valueListProperty]=f[i];if(!x||x&&x.indexOf(t.valueListProperty)===-1){for(const i in y){const n=y[i];if(n.name===t.localDataProperty){if(n.typeConfig.baseType==="DateTime"){if(P[t.valueListProperty]){P[t.valueListProperty].forEach(function(t){t.values[0]=e._formatDateTime(t.values[0])})}}C.push({name:t.valueListProperty,typeConfig:n.typeConfig})}}}}});const w=g.getBindingContext("internal");const S=g.data("infoPath");let L;const _=o.getLibraryResourceBundle("sap.fe.macros");const B=a.parseCustomData(g.data("requiredProperties"));if(B.length){const t=Object.keys(P)||[];const e=[];B.forEach(function(i){if(t.indexOf(i)===-1){e.push(i)}});if(!e.length){L=w.getProperty(`${S}/showError`);w.setProperty(S,{errorMessageTitle:"",errorMessage:"",showError:false})}else if(e.length>1){w.setProperty(S,{errorMessageTitle:_.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:_.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF"),showError:true});return}else{const t=I.getObject(`${M}/${e[0]}@com.sap.vocabularies.Common.v1.Label`)||e[0];w.setProperty(S,{errorMessageTitle:_.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:_.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",t),showError:true});return}}else{L=w.getProperty(`${S}/showError`);w.setProperty(S,{errorMessageTitle:"",errorMessage:"",showError:false})}const V=h.data("entityType").split("/")[1];const j=O.split("/")[1].split("(")[0];if(x&&x.length&&V===j){const t=L?r.getBindingPathForParameters(h,P,y,x):undefined;if(t){F.sPath=t}}if(x&&x.length){x.forEach(function(t){if(P[t]){delete P[t]}})}Object.keys(P).forEach(function(t){P[t].forEach(function(t){if(t.values.length>1){t.values=t.values.slice(0,1)}})});if(Object.keys(P).length>0&&C.length){D=s.getFilterInfo(h,P,C,[]).filters;if(D){if(!D.aFilters){$.push(D)}else if(D.aFilters){$=D.aFilters}}}if(v){$.push(new c("IsActiveEntity",u.EQ,true))}if($&&$.length>0){F.filter($)}else if(!Object.keys(P).length){F.filter()}if(L&&F.isSuspended()){F.resume()}return $},getFilterCounts(t){if(this.data("multipleSelectionAllowed")==="false"&&t.length>0){return`(1)`}if(t.length>0){return`(${t.length})`}else{return undefined}},scaleVisualFilterValue(t,i,n,a,r){if(i){return e.getFormattedNumber(r,i,n)}else if(a){return e.getFormattedNumber(r,undefined,undefined,a)}else if(n>0){n=n>2?2:n;return e.getFormattedNumber(r,undefined,n)}else{return t}},fireValueHelp(t){t.getSource().getParent().getParent().getParent().fireValueHelpRequest()}};return d},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/visualfilters/fragments/InteractiveBarChart",["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/StableIdHelper","../InteractiveChartHelper"],function(t,e,i){"use strict";var n={};var a=e.generate;var r=t.xml;function o(t){const e=i.getInteractiveChartProperties(t);if(e){var n,o,l,s;const i=a([(n=t.metaPath)===null||n===void 0?void 0:n.getPath()]);const c=(o=t.chartAnnotation)===null||o===void 0?void 0:o.Dimensions[0];return r`<InteractiveBarChart
                            xmlns="sap.suite.ui.microchart"
                            xmlns:core="sap.ui.core"
                            xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
                            core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                            visible="{= ${e.showErrorExpression}}"
                            selectionChanged="VisualFilterRuntime.selectionChanged"
                            showError="{= ${e.showErrorExpression}}"
                            errorMessageTitle="${e.errorMessageTitleExpression}"
                            errorMessage="${e.errorMessageExpression}"
                            bars="${e.aggregationBinding}"
                            customData:outParameter="${t.outParameter}"
                            customData:valuelistProperty="${t.valuelistProperty}"
                            customData:multipleSelectionAllowed="${t.multipleSelectionAllowed}"
                            customData:dimension="${c===null||c===void 0?void 0:c.$target.name}"
                            customData:dimensionText="${c===null||c===void 0?void 0:(l=c.$target.annotations.Common)===null||l===void 0?void 0:(s=l.Text)===null||s===void 0?void 0:s.path}"
                            customData:scalefactor="${e.scalefactor}"
                            customData:measure="${t.chartMeasure}"
                            customData:uom="${e.uom}"
                            customData:inParameters="${e.inParameters}"
                            customData:inParameterFilters="${e.inParameterFilters}"
                            customData:dimensionType="${c===null||c===void 0?void 0:c.$target.type}"
                            customData:selectionVariantAnnotation="${e.selectionVariantAnnotation}"
                            customData:required="${t.required}"
                            customData:showOverlayInitially="${t.showOverlayInitially}"
                            customData:requiredProperties="${t.requiredProperties}"
                            customData:infoPath="${i}"
                            customData:parameters="${e.stringifiedParameters}"
                            customData:draftSupported="${t.draftSupported}"
                        >
                            <bars>
                                <InteractiveBarChartBar
                                    core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                                    label="${e.chartLabel}"
                                    value="${e.measure}"
                                    displayedValue="${e.displayedValue}"
                                    color="${e.color}"
                                    selected="{path: '$field>/conditions', formatter: 'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected'}"
                                />
                            </bars>
                        </InteractiveBarChart>`}return r``}n.getInteractiveBarChartTemplate=o;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/visualfilters/fragments/InteractiveChartWithError",["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(t){"use strict";var e={};var i=t.xml;function n(t){const e=t.chartAnnotation;if(t.chartMeasure&&e!==null&&e!==void 0&&e.Dimensions&&e.Dimensions[0]){return i`<InteractiveLineChart
                        xmlns="sap.suite.ui.microchart"
                        xmlns:core="sap.ui.core"
                        core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                        showError="${t.showError}"
                        errorMessageTitle="${t.errorMessageTitle}"
                        errorMessage="${t.errorMessage}"
                    />`}return i``}e.getInteractiveChartWithErrorTemplate=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */sap.ui.predefine("sap/fe/macros/visualfilters/fragments/InteractiveLineChart",["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/StableIdHelper","../InteractiveChartHelper"],function(t,e,i){"use strict";var n={};var a=e.generate;var r=t.xml;function o(t){const e=i.getInteractiveChartProperties(t);if(e){var n,o,l,s,c;const i=a([(n=t.metaPath)===null||n===void 0?void 0:n.getPath()]);const u=(o=t.chartAnnotation)===null||o===void 0?void 0:o.Dimensions[0];return r`<InteractiveLineChart
                        xmlns="sap.suite.ui.microchart"
                        xmlns:core="sap.ui.core"
                        xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
                        core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                        visible="{= ${e.showErrorExpression}}"
                        selectionChanged="VisualFilterRuntime.selectionChanged"
                        showError="{= ${e.showErrorExpression}}"
                        errorMessageTitle="${e.errorMessageTitleExpression}"
                        errorMessage="${e.errorMessageExpression}"
                        points="${e.aggregationBinding}"
                        customData:outParameter="${t.outParameter}"
                        customData:valuelistProperty="${t.valuelistProperty}"
                        customData:multipleSelectionAllowed="${t.multipleSelectionAllowed}"
                        customData:dimension="${u===null||u===void 0?void 0:(l=u.$target)===null||l===void 0?void 0:l.name}"
                        customData:dimensionText="${u===null||u===void 0?void 0:(s=u.$target.annotations.Common)===null||s===void 0?void 0:(c=s.Text)===null||c===void 0?void 0:c.path}"
                        customData:measure="${t.chartMeasure}"
                        customData:scalefactor="${e.scalefactor}"
                        customData:uom="${e.uom}"
                        customData:inParameters="${e.inParameters}"
                        customData:inParameterConditions="${e.inParameterFilters}"
                        customData:dimensionType="${u===null||u===void 0?void 0:u.$target.type}"
                        customData:selectionVariantAnnotation="${e.selectionVariantAnnotation}"
                        customData:required="${t.required}"
                        customData:showOverlayInitially="${t.showOverlayInitially}"
                        customData:requiredProperties="${t.requiredProperties}"
                        customData:infoPath="${i}"
                        customData:parameters="${e.stringifiedParameters}"
                        customData:draftSupported="${t.draftSupported}"
                    >
                        <points>
                            <InteractiveLineChartPoint
                                core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                                label="${e.chartLabel}"
                                value="${e.measure}"
                                displayedValue="${e.displayedValue}"
                                color="${e.color}"
                                selected="{path: '$field>/conditions', formatter: 'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected'}"
                            />
                        </points>
             </InteractiveLineChart>`}return r``}n.getInteractiveLineChartTemplate=o;return n},false);sap.ui.require.preload({"sap/fe/macros/contact/ContactQuickView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\'\n\t\t\t\t}"\n><template:if test="{contact>}"><VBox class="sapFePaddingTop sapUiTinyMarginBottom"><controls:CustomQuickViewPage\n\t\t\t\tunittest:id="CustomQuickViewPageContact"\n\t\t\t\ticon="{= ${contact>photo@@MODEL.format} ? ${contact>photo@@MODEL.format} : \'sap-icon://person-placeholder\' }"\n\t\t\t\tfallbackIcon="sap-icon://person-placeholder"\n\t\t\t\ttitle="{contact>fn@@MODEL.format}"\n\t\t\t\tdescription="{contact>role@@MODEL.format}"\n\t\t\t\tcrossAppNavCallback=""\n\t\t\t><core:Fragment fragmentName="sap.fe.macros.contact.ContactQuickViewGroup" type="XML" /></controls:CustomQuickViewPage></VBox></template:if></core:FragmentDefinition>\n',"sap/fe/macros/contact/ContactQuickViewGroup.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\'\n\t}"\n><QuickViewGroup heading="{= CONTACT.getContactTitle(${contact>fn}) }"><QuickViewGroupElement\n\t\t\tlabel="{= CONTACT.computeLabel(\'title\', ${contact>title}) }"\n\t\t\tvalue="{contact>title@@MODEL.format}"\n\t\t\ttype="text"\n\t\t\tvisible="{= !!${contact>title}}"\n\t\t/><QuickViewGroupElement\n\t\t\tlabel="{= CONTACT.computeLabel(\'org\', ${contact>org}) }"\n\t\t\tvalue="{contact>org@@MODEL.format}"\n\t\t\ttype="text"\n\t\t\tvisible="{= !!${contact>org}}"\n\t\t/><template:if test="{contact>tel}"><template:with path="contact>tel" var="tels"><template:repeat\n\t\t\t\t\tlist="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'preferred\'}}"\n\t\t\t\t\tvar="tel"\n\t\t\t\t><QuickViewGroupElement\n\t\t\t\t\t\tlabel="{= CONTACT.computeLabel(\'phone\', ${tel>type/$EnumMember})}"\n\t\t\t\t\t\tvalue="{tel>uri/@@MODEL.format}"\n\t\t\t\t\t\ttarget="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\t\ttype="phone"\n\t\t\t\t\t/></template:repeat><template:repeat\n\t\t\t\t\tlist="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'work\'}}"\n\t\t\t\t\tvar="tel"\n\t\t\t\t><QuickViewGroupElement\n\t\t\t\t\t\tlabel="{= CONTACT.computeLabel(\'phone\', ${tel>type/$EnumMember})}"\n\t\t\t\t\t\tvalue="{tel>uri/@@MODEL.format}"\n\t\t\t\t\t\ttarget="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\t\ttype="phone"\n\t\t\t\t\t/></template:repeat><template:repeat\n\t\t\t\t\tlist="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'cell\'}}"\n\t\t\t\t\tvar="tel"\n\t\t\t\t><QuickViewGroupElement\n\t\t\t\t\t\tlabel="{= CONTACT.computeLabel(\'phone\', ${tel>type/$EnumMember})}"\n\t\t\t\t\t\tvalue="{tel>uri/@@MODEL.format}"\n\t\t\t\t\t\ttarget="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\t\ttype="phone"\n\t\t\t\t\t/></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'fax\'}}" var="tel"><QuickViewGroupElement\n\t\t\t\t\t\tlabel="{= CONTACT.computeLabel(\'phone\', ${tel>type/$EnumMember})}"\n\t\t\t\t\t\tvalue="{tel>uri/@@MODEL.format}"\n\t\t\t\t\t\ttarget="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}"\n\t\t\t\t\t\ttype="phone"\n\t\t\t\t\t/></template:repeat></template:with></template:if><template:if test="{contact>email}"><template:with path="contact>email" var="emails"><template:repeat\n\t\t\t\t\tlist="{path:\'emails>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'preferred\'}}"\n\t\t\t\t\tvar="mail"\n\t\t\t\t><QuickViewGroupElement\n\t\t\t\t\t\tlabel="{= CONTACT.computeLabel(\'mail\', ${mail>type/$EnumMember})}"\n\t\t\t\t\t\tvalue="{mail>address/@@MODEL.format}"\n\t\t\t\t\t\ttarget="{= CONTACT.formatUri(\'mail\', ${mail>address/@@MODEL.format})}"\n\t\t\t\t\t\ttype="email"\n\t\t\t\t\t/></template:repeat><template:repeat\n\t\t\t\t\tlist="{path:\'emails>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'work\'}}"\n\t\t\t\t\tvar="mail"\n\t\t\t\t><QuickViewGroupElement\n\t\t\t\t\t\tlabel="{= CONTACT.computeLabel(\'mail\', ${mail>type/$EnumMember})}"\n\t\t\t\t\t\tvalue="{mail>address/@@MODEL.format}"\n\t\t\t\t\t\ttarget="{= CONTACT.formatUri(\'mail\', ${mail>address/@@MODEL.format})}"\n\t\t\t\t\t\ttype="email"\n\t\t\t\t\t/></template:repeat></template:with></template:if><template:if test="{contact>adr}"><template:with path="contact>adr" var="adrs"><template:repeat list="{adrs>}" var="adr"><template:if test="{adr>label}"><template:then><QuickViewGroupElement\n\t\t\t\t\t\t\t\tlabel="{= CONTACT.computeLabel(\'address\', ${adr>type/$EnumMember})}"\n\t\t\t\t\t\t\t\tvalue="{adr>label/@@MODEL.format}"\n\t\t\t\t\t\t\t/></template:then><template:else><QuickViewGroupElement\n\t\t\t\t\t\t\t\tlabel="{= CONTACT.computeLabel(\'address\', ${adr>type/$EnumMember})}"\n\t\t\t\t\t\t\t\tvalue="{= CONTACT.formatAddress(${adr>street/@@MODEL.format}, ${adr>code/@@MODEL.format}, ${adr>locality/@@MODEL.format}, ${adr>region/@@MODEL.format}, ${adr>country/@@MODEL.format})}"\n\t\t\t\t\t\t\t/></template:else></template:if></template:repeat></template:with></template:if></QuickViewGroup></core:FragmentDefinition>\n',"sap/fe/macros/filter/CustomFilter.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\tFILTERFIELD: \'sap/fe/macros/filter/FilterFieldHelper\',\n\t\t\tFILTER: \'sap/fe/macros/filter/FilterUtils\',\n\t\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t\t}"\n><template:with path="item>annotationPath" var="property"><mdc:FilterField\n\t\t\tid="{= ID.generate([${this>id}, \'CustomFilterField\', ${item>key}]) }"\n\t\t\tdelegate="{name: \'sap/ui/mdc/odata/v4/FieldBaseDelegate\'}"\n\t\t\tlabel="{item>label}"\n\t\t\tdataType="{= ${property>$Type} || \'Edm.String\'}"\n\t\t\tmaxConditions="{= ${property>@@FILTERFIELD.maxConditions} || -1 }"\n\t\t\tconditions="{= \'{$filters>/conditions/\' + ${item>conditionPath} + \'}\'}"\n\t\t\toperators="{parts : [{path: \'property>\'}, {path: \'item>useSemanticDateRange\'}, {path: \'item>settings\'}, {path: \'contextPath>@@MACRO.getPath\'}], formatter: \'FIELD.operators\'}"\n\t\t\tdataTypeConstraints="{item>constraints}"\n\t\t\tdataTypeFormatOptions="{item>formatOptions}"\n\t\t\tfieldHelp="undefined"\n\t\t\trequired="{item>required}"\n\t\t\tcustomData:isSlot="{= ${item>type} === \'Slot\'}"\n\t\t><controls:CustomFilterFieldContentWrapper\n\t\t\t\tcore:require="{handler: \'sap/fe/macros/filter/FilterUtils\'}"\n\t\t\t\tid="{= ID.generate([${this>id}, \'FilterFieldContentWrapper\', ${item>key}]) }"\n\t\t\t\tbinding="{= \'{filterValues>/\' + FILTER.conditionToModelPath(${item>conditionPath}) + \'}\' }"\n\t\t\t\tconditions="{path: \'$field>/conditions\'}"\n\t\t\t><template:if test="{= !!${item>template}}"><fpm:CustomFragment\n\t\t\t\t\t\tfragmentName="{item>template}"\n\t\t\t\t\t\tid="{= ID.generate([${this>id}, \'CustomFilterField\', ${item>key}]) }"\n\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t/></template:if><template:if test="{= ${item>type} === \'Slot\'}"><slot name="{item>slotName}" /></template:if></controls:CustomFilterFieldContentWrapper></mdc:FilterField></template:with></core:FragmentDefinition>\n',"sap/fe/macros/filter/DraftEditState.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcf="sap.ui.mdc.field"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tEDITSTATE: \'sap/fe/macros/filter/DraftEditState\'\n\t\t\t\t\t\t}"\n><mdc:FilterField\n\t\tlabel="{sap.fe.i18n>FILTERBAR_EDITING_STATUS}"\n\t\tmaxConditions="1"\n\t\tid="{= ID.generate([${this>id}, \'FilterField\', \'DraftEditingStatus\' ]) }"\n\t\toperators="DRAFT_EDIT_STATE"\n\t\tdataType="sap.ui.model.odata.type.String"\n\t\tconditions="{$filters>/conditions/$editState}"\n\t\tfieldHelp="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', \'DraftEditingStatus\' ]) }"\n\t\tdisplay="Description"\n\t><mdc:dependents><mdc:ValueHelp\n\t\t\t\tcore:require="{DraftEditState: \'sap/fe/macros/filter/DraftEditState\'}"\n\t\t\t\tid="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', \'DraftEditingStatus\' ]) }"\n\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:FixedList useFirstMatch="true"><template:with path="this>" helper="EDITSTATE.getEditStatesContext" var="states"><template:repeat list="{states>}" var="state"><mdcf:ListFieldHelpItem key="{state>id}" text="{state>display}" /></template:repeat></template:with></mdcvc:FixedList></mdcv:Popover></mdc:typeahead></mdc:ValueHelp></mdc:dependents></mdc:FilterField></core:FragmentDefinition>\n',"sap/fe/macros/form/AddressSection.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:with path="facet>Target/$AnnotationPath" var="annotationPath"><f:FormContainer\n\t\t\tid="{= ${this>id} ? ID.generate([\'fe\', \'FormContainer\', ${facet>ID}]) : undefined }"\n\t\t\tunittest:id="formCAddr"\n\t\t\tbinding="{= FORM.generateBindingExpression((MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) ? MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) : \'\'),${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\tvisible="{= ${facet>./@com.sap.vocabularies.UI.v1.Hidden/$Path} ? (\'{= !${\' + ${facet>./@com.sap.vocabularies.UI.v1.Hidden/$Path} + \'} }\') : true }"\n\t\t\tmacrodata:navigationPath="{= MODEL.getNavigationPath(${annotationPath>}) ? MODEL.getNavigationPath(${annotationPath>}) : \'\'}"\n\t\t\tmacrodata:etName="{contextPath>./@sapui.name}"\n\t\t><template:if test="{= ${facet>@@MODEL.label} }"><f:title><core:Title level="{this>titleLevel}" text="{= ${facet>@@MODEL.label} }" /></f:title></template:if><f:formElements><f:FormElement id="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${facet>ID}]) : undefined}"><f:fields><Text text="{facet>Target/$AnnotationPath/label@@MODEL.format}" class="sapMITBFilterNeutral" /></f:fields></f:FormElement></f:formElements></f:FormContainer></template:with></core:FragmentDefinition>\n',"sap/fe/macros/form/FormActionButtons.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tDEFAULTACTIONHANDLER: \'sap/fe/macros/internal/helpers/DefaultActionHandler\'\n\t}"\n><template:if test="{= ${action>type} === \'Menu\'}"><template:then><MenuButton\n\t\t\t\ttext="{action>text}"\n\t\t\t\tmenuPosition="BeginBottom"\n\t\t\t\tid="{= ID.generate([\'fe\',${action>id}])}"\n\t\t\t\tvisible="{= COMMON.handleVisibilityOfMenuActions(${action>visible}) }"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\tclass="sapUiSmallMarginBegin"\n\t\t\t\tuseDefaultActionOnly="{= DEFAULTACTIONHANDLER.getUseDefaultActionOnly(${action>})}"\n\t\t\t\tbuttonMode="{= DEFAULTACTIONHANDLER.getButtonMode(${action>})}"\n\t\t\t\tdefaultAction="{= DEFAULTACTIONHANDLER.getDefaultActionHandler(undefined, ${action>}, undefined, undefined, \'Form\')}"\n\t\t\t><menu><Menu><template:repeat list="{action>menu}" var="menuItemAction"><template:if test="{= ${menuItemAction>type} === \'Default\'}"><template:then><MenuItem\n\t\t\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\',${menuItemAction>id}])}"\n\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : COMMON.buildActionWrapper(${menuItemAction>})}"\n\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t/></template:then><template:else><MenuItem\n\t\t\t\t\t\t\t\t\t\tid="{menuItemAction>id}"\n\t\t\t\t\t\t\t\t\t\tbinding="{menuItemAction>binding}"\n\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : ${menuItemAction>press}}"\n\t\t\t\t\t\t\t\t\t\tariaHasPopup="{menuItemAction>requiresDialog}"\n\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:IBNData="{menuItemAction>customData}"\n\t\t\t\t\t\t\t\t\t/></template:else></template:if></template:repeat></Menu></menu></MenuButton></template:then><template:elseif test="{= ${action>type} === \'Default\'}"><Button\n\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\tid="{= ID.generate([\'fe\',${action>id}])}"\n\t\t\t\ttext="{action>text}"\n\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : COMMON.buildActionWrapper(${action>})}"\n\t\t\t\ttype="Transparent"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t/></template:elseif><template:else><Button\n\t\t\t\tid="{action>id}"\n\t\t\t\tbinding="{action>binding}"\n\t\t\t\ttext="{action>text}"\n\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : ${action>press}}"\n\t\t\t\ttype="{action>buttonType}"\n\t\t\t\tariaHasPopup="{action>requiresDialog}"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\tmacrodata:IBNData="{action>customData}"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/form/FormContainer.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroForm="sap.fe.macros.form"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:dt="sap.ui.dt"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:fpm="sap.fe.macros.fpm"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tDataField: \'sap/fe/core/templating/DataFieldFormatters\',\n\t\tFormTemplating: \'sap/fe/macros/internal/form/FormTemplating\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t}"\n><f:FormContainer\n\t\tcore:require="{FormContainerRuntime: \'sap/fe/macros/form/FormContainerAPI\'}"\n\t\tunittest:id="formC"\n\t\tdt:designtime="{this>designtimeSettings}"\n\t\tid="{= ${this>id} || undefined}"\n\t\tvisible="{this>visible}"\n\t\tmacrodata:navigationPath="{this>navigationPath}"\n\t\tmacrodata:etName="{contextPath>./@sapui.name}"\n\t><template:if test="{this>title}"><f:title><core:Title level="{this>titleLevel}" text="{this>title}" /></f:title></template:if><template:if test="{actions>}"><template:then><f:toolbar><OverflowToolbar\n\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormActionsToolbar\']) : undefined}"\n\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t><Title level="{this>titleLevel}" text="{this>title}" /><ToolbarSpacer /><template:repeat list="{actions>}" var="action"><core:Fragment fragmentName="sap.fe.macros.form.FormActionButtons" type="XML" /></template:repeat></OverflowToolbar></f:toolbar></template:then></template:if><f:dependents><macroForm:FormContainerAPI formContainerId="{this>id}" showDetails="{internal>showDetails}" /><template:repeat list="{path:\'dataFieldCollection>\'}" var="dataField"><template:with path="dataField>annotationPath" var="dataField"><template:if test="{this>id}"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FieldValueHelp\']) }"\n\t\t\t\t\t\t\tproperty="{dataField>Value}"\n\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\tuseMultiValueField="true"\n\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t/></template:if></template:with><template:if test="${dataField>type} === \'Annotation\'}"><template:then><template:with path="dataField>annotationPath" var="annotationDataField"><template:if test="{annotationDataField>Target@@DataField.isSemanticallyConnectedFields}"><template:then><template:repeat list="{annotationDataField>Target/$AnnotationPath/Data}" var="data"><template:with path="data>" helper="COMMON.getDataFromTemplate" var="element"><template:if test="{this>id}"><template:if\n\t\t\t\t\t\t\t\t\t\t\t\t\ttest="{= !FIELD.isFieldPartOfForm(${dataFieldCollection>}, ${element>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t><macro:ValueHelp\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FieldValueHelp\']) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty="{element>Value}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseMultiValueField="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:if></template:if></template:with></template:repeat></template:then></template:if></template:with></template:then></template:if></template:repeat></f:dependents><f:formElements><template:with path="dataFieldCollection>" var="formElements"><template:if test="{= ${formElements>0/annotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1 }"><template:then><template:with path="formElements>0/annotationPath" var="dataPoint"><f:FormElement\n\t\t\t\t\t\t\t\tdt:designtime="{= ${dataPoint>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${dataPoint>@@UI.getDataModelObjectPath}]) : undefined}"\n\t\t\t\t\t\t\t\tlabel="{dataPoint>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataPoint>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t><f:fields><internalMacro:Field\n\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${dataPoint>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\'}"\n\t\t\t\t\t\t\t\t\t\tentitySet="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\tdataField="{dataPoint>}"\n\t\t\t\t\t\t\t\t\t\teditMode="{= ${this>displayMode} === \'true\' ? \'Display\' : undefined}"\n\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t><internalMacro:formatOptions textAlignMode="Form" showEmptyIndicator="true" /></internalMacro:Field></f:fields></f:FormElement></template:with></template:then><template:elseif\n\t\t\t\t\t\ttest="{= ${formElements>0/annotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') > -1 }"\n\t\t\t\t\t><template:with path="formElements>0/annotationPath" var="metaPath"><f:FormElement\n\t\t\t\t\t\t\t\tdt:designtime="{= ${metaPath>./@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\ttext="{metaPath>fn/$Path@com.sap.vocabularies.Common.v1.Label}"\n\t\t\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t><layoutData><f:ColumnElementData cellsLarge="12" /></layoutData></Label></f:label><f:fields><macro:Contact metaPath="{metaPath>}" contextPath="{contextPath>}" visible="true" /></f:fields></f:FormElement></template:with></template:elseif><template:else><template:repeat list="{path: \'formElements>\'}" var="dataField"><template:if test="{= ${dataField>type} === \'Annotation\'}"><template:then><template:with path="dataField>annotationPath" var="annotationDataField"><template:if test="{annotationDataField>Target@@DataField.isSemanticallyConnectedFields}"><template:then><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></f:label><f:fields><controls:FieldWrapper\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired="{= UI.getRequiredExpressionForConnectedDataField(${annotationDataField>Target@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><HBox><template:repeat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="{annotationDataField>Target/$AnnotationPath/Data}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="data"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><template:with\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath="data>"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelper="COMMON.getDataFromTemplate"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="element"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.macros.internal.field.ConnectedDataField"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:repeat></HBox></controls:FieldWrapper></f:fields></f:FormElement></template:then><template:elseif\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${annotationDataField>Value} &amp;&amp; ${annotationDataField>Value/$Path} &amp;&amp; UI.isMultiValueField(${annotationDataField>Value@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:fields><internalMacro:MultiValueField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{annotationDataField>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><internalMacro:formatOptions showEmptyIndicator="true" /></internalMacro:MultiValueField></f:fields></f:FormElement></template:elseif><template:else><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:fields><internalMacro:Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentitySet="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataField="{annotationDataField>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextLinesEdit="{dataField>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLines="{dataField>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxCharactersDisplay="{dataField>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{dataField>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlignMode="Form"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></internalMacro:Field></f:fields></f:FormElement></template:else></template:if></template:with></template:then><template:elseif test="{= ${dataField>type} === \'Default\'}"><f:FormElement\n\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${dataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, ${dataField>id}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\t\t\t\t\t\tvisible="{dataField>visible}"\n\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t><f:fields><fpm:CustomFragment\n\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>key}]) }"\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="{dataField>template}"\n\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\t\t\t\t\t\t/></f:fields></f:FormElement></template:elseif><template:elseif test="{= ${dataField>type} === \'Slot\'}"><slot name="{dataField>key}" /></template:elseif></template:if></template:repeat></template:else></template:if></template:with></f:formElements></f:FormContainer></core:FragmentDefinition>\n',"sap/fe/macros/form/FormElementFlexibility.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n        FIELD: \'sap/fe/macros/field/FieldHelper\',\n        FORM: \'sap/fe/macros/form/FormHelper\',\n        MODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n        COMMON: \'sap/fe/macros/CommonHelper\',\n        UI: \'sap/fe/core/templating/UIFormatters\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n    }"\n><template:if test="{dataField>@com.sap.vocabularies.UI.v1.DataFieldDefault}"><template:then><template:with path="dataField>@com.sap.vocabularies.UI.v1.DataFieldDefault" var="dataField"><core:Fragment fragmentName="sap.fe.macros.form.FormElementFlexibility" type="XML" /></template:with></template:then><template:else><f:FormElement\n\t\t\t\tunittest:id="FormElement"\n\t\t\t\tid="{= ${this>_flexId} + \'_FormElement\'}"\n\t\t\t\tlabel="{= ${dataField>@com.sap.vocabularies.Common.v1.Label} || ${dataField>@@MODEL.label} || \'[LABEL_MISSING: \' + ${dataField>@@FIELD.propertyName} +\']\'}"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${entitySet>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t><internalMacro:Field\n\t\t\t\t\teditMode="{= ${this>displayMode} === \'true\' ? \'Display\' : undefined}"\n\t\t\t\t\t_flexId="{this>_flexId}"\n\t\t\t\t\tentitySet="{entitySet>}"\n\t\t\t\t\tdataField="{dataField>}"\n\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t><internalMacro:formatOptions textAlignMode="Form" showEmptyIndicator="true" /></internalMacro:Field></f:FormElement></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/form/ValueHelpWrapper.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{FORM: \'sap/fe/macros/form/FormHelper\'}"\n><macro:ValueHelp\n\t\t_flexId="{= ${this>idPrefix} + \'-content_FieldValueHelp\'}"\n\t\tproperty="{property>}"\n\t\tcontextPath="{contextPath>}"\n\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${entitySet>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t/></core:FragmentDefinition>\n',"sap/fe/macros/internal/CollaborationAvatar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n><Avatar\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\tvisible="{this>collaborationHasActivityExpression}"\n\t\tinitials="{this>collaborationInitialsExpression}"\n\t\tdisplaySize="Custom"\n\t\tcustomDisplaySize="1.75rem"\n\t\tcustomFontSize="1rem"\n\t\tbackgroundColor="{this>collaborationColorExpression}"\n\t/></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/ConnectedDataField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><internalMacro:Field\n\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath},${element>Value/$Path}]) : \'\' }"\n\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\tentitySet="{entitySet>}"\n\t\tdataField="{element>}"\n\t\tonChange="{this>onChange}"\n\t\tariaLabelledBy="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t><internalMacro:formatOptions\n\t\t\ttextLinesEdit="{element>formatOptions/textLinesEdit}"\n\t\t\ttextMaxLines="{element>formatOptions/textMaxLines}"\n\t\t\ttextMaxCharactersDisplay="{dataField>formatOptions/textMaxCharactersDisplay}"\n\t\t\ttextExpandBehaviorDisplay="{dataField>formatOptions/textExpandBehaviorDisplay}"\n\t\t\ttextAlignMode="Form"\n\t\t\tshowEmptyIndicator="true"\n\t\t/><internalMacro:layoutData><FlexItemData growFactor="1" /></internalMacro:layoutData></internalMacro:Field><template:if test="{= COMMON.notLastIndex(${annotationDataField>Target/$AnnotationPath/}, ${element>})}"><template:then><Text\n\t\t\t\ttext="{= COMMON.getDelimiter(${annotationDataField>Target/$AnnotationPath/Template})}"\n\t\t\t\tclass="sapUiSmallMarginBeginEnd"\n\t\t\t\twidth="100%"\n\t\t\t/></template:then></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/FieldContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t\t\t\t\t\t }"\n><template:if\n\t\ttest="{= ${dataField>$Type} === \'com.sap.vocabularies.UI.v1.DataField\' ||\n\t\t${dataField>$Type} === \'com.sap.vocabularies.UI.v1.DataFieldWithUrl\' ||\n\t\t${dataField>$Type} === \'com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath\' ||\n\t\t${dataField>$Type} === \'com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation\' ||\n\t\t${dataField>$Type} === \'com.sap.vocabularies.UI.v1.DataFieldWithAction\' }"\n\t><template:then><core:Fragment fragmentName="sap.fe.macros.internal.field.FieldStructure" type="XML" /></template:then><template:elseif test="{= ${dataField>$Type} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><template:if test="{= ${this>displayStyle}===\'DataPoint\'}"><template:then><core:Fragment fragmentName="sap.fe.macros.internal.field.FieldStructure" type="XML" /></template:then><template:elseif test="{= ${this>displayStyle}===\'Contact\'}"><template:with path="annotationPath>" var="contact"><core:Fragment fragmentName="sap.fe.macros.internal.field.FieldStructure" type="XML" /></template:with></template:elseif><template:elseif test="{= ${this>displayStyle}===\'Text\'}"><core:Fragment fragmentName="sap.fe.macros.internal.field.FieldStructure" type="XML" /></template:elseif><template:elseif test="{= ${this>semanticObject}}"><core:Fragment fragmentName="sap.fe.macros.internal.field.FieldStructure" type="XML" /></template:elseif></template:if></template:elseif><template:elseif test="{= ${this>displayStyle}===\'Button\'}"><core:Fragment fragmentName="sap.fe.macros.internal.field.FieldStructure" type="XML" /></template:elseif><template:elseif\n\t\t\ttest="{= ${dataField>./@sapui.name} &amp;&amp; ${dataField>./@sapui.name}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1}"\n\t\t><core:Fragment fragmentName="sap.fe.macros.internal.field.FieldStructure" type="XML" /></template:elseif><template:else></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/FieldStructure.fragment.xml":'\n<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\t\t\t\t\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t\t\t\t\t\t }"\n><template:if\n\t\ttest="{= ${this>displayStyle}===\'Avatar\' || ${this>displayStyle}===\'Contact\' || ${this>displayStyle}===\'Button\' || ${this>displayStyle}===\'File\'}"\n\t><template:then><template:if\n\t\t\t\ttest="{= (${this>displayStyle}===\'File\') &amp;&amp; (${this>collaborationEnabled}) &amp;&amp; (${this>editMode}!==\'Display\')}"\n\t\t\t><template:then><HBox width="100%"><VBox width="100%"><core:Fragment fragmentName="sap.fe.macros.internal.field.displayStyle.{this>displayStyle}" type="XML" /></VBox><core:Fragment fragmentName="sap.fe.macros.internal.CollaborationAvatar" type="XML" /></HBox></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.internal.field.displayStyle.{this>displayStyle}" type="XML" /></template:else></template:if></template:then><template:else><template:if test="{= (${this>formatOptions/fieldMode} === \'nowrapper\') &amp;&amp; (${this>editMode}===\'Display\') }"><template:then><core:Fragment fragmentName="sap.fe.macros.internal.field.displayStyle.{this>displayStyle}" type="XML" /></template:then><template:else><controls:FieldWrapper\n\t\t\t\t\t\tid="{= ${this>_flexId} || (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-content\']) : undefined) }"\n\t\t\t\t\t\teditMode="{this>editMode}"\n\t\t\t\t\t\tvisible="{this>visible}"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\ttextAlign="{this>textAlign}"\n\t\t\t\t\t\tclass="{this>class}"\n\t\t\t\t\t><controls:contentDisplay><core:Fragment fragmentName="sap.fe.macros.internal.field.displayStyle.{this>displayStyle}" type="XML" /></controls:contentDisplay><template:if test="{= ${this>editMode}!==\'Display\'  &amp;&amp; !!${this>editStyle}}"><controls:contentEdit><template:if test="{this>collaborationEnabled}"><template:then><HBox width="100%"><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.macros.internal.field.editStyle.{this>editStyle}"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t/><core:Fragment fragmentName="sap.fe.macros.internal.CollaborationAvatar" type="XML" /></HBox></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.internal.field.editStyle.{this>editStyle}" type="XML" /></template:else></template:if></controls:contentEdit></template:if></controls:FieldWrapper></template:else></template:if></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/displayStyle/AmountWithCurrency.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:u="sap.ui.unified"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:coreControls="sap.fe.core.controls"\n><template:if test="{this>formatOptions/isAnalytics}"><template:then><controls:ConditionalWrapper visible="{this>displayVisible}" condition="{this>hasValidAnalyticalCurrencyOrUnit}"><controls:contentTrue><u:Currency\n\t\t\t\t\t\tstringValue="{this>valueAsStringBindingExpression}"\n\t\t\t\t\t\tcurrency="{this>unitBindingExpression}"\n\t\t\t\t\t\tuseSymbol="false"\n\t\t\t\t\t\tmaxPrecision="5"\n\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><u:Currency stringValue="" currency="*" useSymbol="false" /></controls:contentFalse></controls:ConditionalWrapper></template:then><template:else><coreControls:FormElementWrapper\n\t\t\t\tformDoNotAdjustWidth="true"\n\t\t\t\twidth="{= ${this>formatOptions/textAlignMode} === \'Table\' ? \'100%\' : undefined}"\n\t\t\t><u:Currency\n\t\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\t\tstringValue="{this>valueAsStringBindingExpression}"\n\t\t\t\t\tcurrency="{this>unitBindingExpression}"\n\t\t\t\t\tuseSymbol="false"\n\t\t\t\t\tmaxPrecision="5"\n\t\t\t\t/></coreControls:FormElementWrapper></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/displayStyle/LabelSemanticKey.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:macro="sap.fe.macros"\n\ttemplate:require="{\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t\t\t\t\t\t }"\n><template:if test="{= ${this>hasQuickView}}"><template:then><Link\n\t\t\t\ttext="{this>text}"\n\t\t\t\twrapping="true"\n\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\tpress="FieldRuntime.pressLink"\n\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t><dependents><macro:QuickView dataField="{dataField>}" semanticObject="{this>semanticObject}" contextPath="{entitySet>}" /></dependents></Link></template:then><template:else><Label\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tunittest:id="MacroDataFieldLabel"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\ttext="{this>identifierTitle}"\n\t\t\t\tdesign="Bold"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/displayStyle/Link.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n><template:if test="{this>linkIsDataFieldWithNavigationPath}"><template:then><Link\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\ttext="{this>text}"\n\t\t\t\tpress="{this>linkPress}"\n\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\tclass="sapMTextRenderWhitespaceWrap"\n\t\t\t/></template:then><template:elseif test="{this>linkIsDataFieldWithIntentBasedNavigation}"><Link\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tcore:require="{WSR: \'sap/base/strings/whitespaceReplacer\'}"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\ttext="{this>text}"\n\t\t\t\tpress="{this>linkPress}"\n\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\tclass="sapMTextRenderWhitespaceWrap"\n\t\t\t/></template:elseif><template:elseif test="{this>linkIsDataFieldWithAction}"><Link\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\ttext="{this>text}"\n\t\t\t\tpress="{this>linkPress}"\n\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\tclass="sapMTextRenderWhitespaceWrap"\n\t\t\t/></template:elseif><template:elseif test="{this>linkIsEmailAddress}"><Link\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tcore:require="{WSR: \'sap/base/strings/whitespaceReplacer\'}"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\ttext="{this>text}"\n\t\t\t\thref="{this>linkUrl}"\n\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\tclass="sapMTextRenderWhitespaceWrap"\n\t\t\t/></template:elseif><template:elseif test="{this>linkIsPhoneNumber}"><Link\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tcore:require="{WSR: \'sap/base/strings/whitespaceReplacer\'}"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\ttext="{this>text}"\n\t\t\t\thref="{this>linkUrl}"\n\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\tclass="sapMTextRenderWhitespaceWrap"\n\t\t\t/></template:elseif><template:else><template:if test="{this>iconUrl}"><template:then><ObjectStatus\n\t\t\t\t\t\tcore:require="{WSR: \'sap/base/strings/whitespaceReplacer\', FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\t\t\ticon="{this>iconUrl}"\n\t\t\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\t\t\ttext="{this>text}"\n\t\t\t\t\t\tpress="FieldRuntime.openExternalLink"\n\t\t\t\t\t\tactive="true"\n\t\t\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\t\t\tcustomData:url="{this>linkUrl}"\n\t\t\t\t\t/></template:then><template:else><Link\n\t\t\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\t\t\tcore:require="{WSR: \'sap/base/strings/whitespaceReplacer\'}"\n\t\t\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\t\t\ttext="{this>text}"\n\t\t\t\t\t\thref="{this>linkUrl}"\n\t\t\t\t\t\ttarget="_top"\n\t\t\t\t\t\twrapping="{= ${this>wrap} === undefined ? true : ${this>wrap} }"\n\t\t\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\t\t/></template:else></template:if></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/displayStyle/LinkWithQuickView.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:macro="sap.fe.macros"><Link\n\t\tid="{this>noWrapperId}"\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\', WSR: \'sap/base/strings/whitespaceReplacer\'}"\n\t\ttext="{= ${this>formatOptions/retrieveTextFromValueList} ? ${this>textFromValueList} : ${this>text} }"\n\t\tvisible="{this>displayVisible}"\n\t\twrapping="{= ${this>wrap} === undefined ? true : ${this>wrap} }"\n\t\tpress="FieldRuntime.pressLink"\n\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t><dependents><macro:QuickView dataField="{dataField>}" semanticObject="{this>semanticObject}" contextPath="{entitySet>}" /></dependents></Link></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/displayStyle/ObjectIdentifier.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t}"\n><template:if test="{= ${entitySet>$kind} === \'NavigationProperty\'}"><template:then><VBox><template:if test="{= ${this>hasSituationsIndicator}}"><template:then><HBox alignItems="Center" justifyContent="SpaceBetween" width="100%"><core:Fragment fragmentName="sap.fe.macros.internal.field.fragments.ObjectIdentifierContent" type="XML" /><SituationsIndicator\n\t\t\t\t\t\t\t\txmlns="sap.fe.macros.internal.situations"\n\t\t\t\t\t\t\t\tentitySet="{entitySet>}"\n\t\t\t\t\t\t\t\tpropertyPath="{property>$Path}"\n\t\t\t\t\t\t\t/></HBox></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.internal.field.fragments.ObjectIdentifierContent" type="XML" /></template:else></template:if><template:if test="{= ${this>formatOptions/fieldGroupDraftIndicatorPropertyPath} === null }"><ObjectStatus\n\t\t\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\t\t\tvisible="{this>showErrorObjectStatus}"\n\t\t\t\t\t\tclass="sapUiSmallMarginBottom"\n\t\t\t\t\t\ttext="{sap.fe.i18n>Contains_Errors}"\n\t\t\t\t\t\tstate="Error"\n\t\t\t\t\t/></template:if></VBox></template:then><template:else><template:if test="{= ${this>hasSituationsIndicator}}"><template:then><HBox alignItems="Center" justifyContent="SpaceBetween" width="100%"><core:Fragment fragmentName="sap.fe.macros.internal.field.fragments.ObjectIdentifierContent" type="XML" /><SituationsIndicator\n\t\t\t\t\t\t\txmlns="sap.fe.macros.internal.situations"\n\t\t\t\t\t\t\tentitySet="{entitySet>}"\n\t\t\t\t\t\t\tpropertyPath="{property>$Path}"\n\t\t\t\t\t\t/></HBox></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.internal.field.fragments.ObjectIdentifierContent" type="XML" /></template:else></template:if></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/displayStyle/ObjectStatus.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:macro="sap.fe.macros"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n\t\t\t\t\t\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t\t\t\t\t\t }"\n><template:if test="{= ${this>formatOptions/isAnalytics} &amp;&amp; ${this>hasUnitOrCurrency} }"><template:then><controls:ConditionalWrapper\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tcondition="{= UI.hasValidAnalyticalCurrencyOrUnit(${property>$Path@@UI.getDataModelObjectPath})}"\n\t\t\t><controls:contentTrue><ObjectStatus\n\t\t\t\t\t\tunittest:id="MacroDataFieldObjectStatus"\n\t\t\t\t\t\ticon="{= CRIT.buildExpressionForCriticalityIcon(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\tstate="{= CRIT.buildExpressionForCriticalityColor(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\t\t\ttext="{this>text}"\n\t\t\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\t\t\tclass="sapMTextRenderWhitespaceWrap"\n\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><ObjectStatus text="*" visible="{this>displayVisible}" /></controls:contentFalse></controls:ConditionalWrapper></template:then><template:else><ObjectStatus\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tunittest:id="MacroDataFieldObjectStatus"\n\t\t\t\ticon="{= CRIT.buildExpressionForCriticalityIcon(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\tstate="{= CRIT.buildExpressionForCriticalityColor(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\ttext="{this>text}"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\tactive="{this>hasQuickView}"\n\t\t\t\tpress="FieldRuntime.pressLink"\n\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t><template:if test="{= ${this>hasQuickView}}"><template:then><dependents><macro:QuickView dataField="{dataField>}" semanticObject="{this>semanticObject}" contextPath="{entitySet>}" /></dependents></template:then></template:if></ObjectStatus></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/displayStyle/SemanticKeyWithDraftIndicator.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:controls="sap.fe.core.controls"\n\ttemplate:require="{\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t}"\n><controls:FormElementWrapper visible="{this>displayVisible}"><VBox class="{= FIELD.getMarginClass(${this>formatOptions/compactSemanticKey}) }"><template:if test="{= ${this>formatOptions/semanticKeyStyle} === \'ObjectIdentifier\' }"><template:then><core:Fragment fragmentName="sap.fe.macros.internal.field.displayStyle.ObjectIdentifier" type="XML" /></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.internal.field.displayStyle.LabelSemanticKey" type="XML" /></template:else></template:if><template:if test="{= ${this>formatOptions/fieldGroupDraftIndicatorPropertyPath} === null }"><macro:DraftIndicator\n\t\t\t\t\tdraftIndicatorType="IconAndText"\n\t\t\t\t\tentitySet="{entitySet>}"\n\t\t\t\t\tisDraftIndicatorVisible="{=\'{parts: [{value: \\\'\' + ${property>$Path} + \'\\\'}, {path: \\\'internal>semanticKeyHasDraftIndicator\\\'} , {path: \\\'HasDraftEntity\\\'}, {path: \\\'IsActiveEntity\\\'}, {path: \\\'pageInternal>hideDraftInfo\\\'}] , formatter: \\\'sap.fe.macros.field.FieldRuntime.isDraftIndicatorVisible\\\'}\'}"\n\t\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\t/></template:if></VBox></controls:FormElementWrapper></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/displayStyle/Text.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n><template:if test="{= ${this>formatOptions/isAnalytics} &amp;&amp; ${this>hasUnitOrCurrency} }"><template:then><controls:ConditionalWrapper visible="{this>displayVisible}" condition="{this>hasValidAnalyticalCurrencyOrUnit}"><controls:contentTrue><Text\n\t\t\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\t\t\ttext="{this>text}"\n\t\t\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\t\t\trenderWhitespace="true"\n\t\t\t\t\t\twrapping="{this>wrap}"\n\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><Text id="{this>noWrapperId}" text="*" /></controls:contentFalse></controls:ConditionalWrapper></template:then><template:elseif test="{this>formatOptions/retrieveTextFromValueList}"><Text\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\ttext="{this>textFromValueList}"\n\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\trenderWhitespace="true"\n\t\t\t/></template:elseif><template:else><Text\n\t\t\t\tid="{this>noWrapperId}"\n\t\t\t\tvisible="{this>displayVisible}"\n\t\t\t\ttext="{this>text}"\n\t\t\t\twrapping="{this>wrap}"\n\t\t\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t\t\t\trenderWhitespace="true"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/editStyle/DatePicker.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\t\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t\t\t\t\t\t }"\n><DatePicker\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\tunittest:id="MacroInput"\n\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\tid="{= (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-edit\']) : undefined) }"\n\t\tvalue="{this>valueBindingExpression}"\n\t\twidth="100%"\n\t\teditable="{this>editableExpression}"\n\t\tenabled="{this>enabledExpression}"\n\t\trequired="{this>requiredExpression}"\n\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\ttextAlign="{parts: [{path:\'dataField>\'}, {path:\'this>formatOptions\'}, {path:\'property>@@FIELD.getPropertyCollection\'}, {path:\'this>editModeAsObject\'}, {path:\'property>@@UI.getConverterContext\'}], formatter:\'FIELD.getTypeAlignment\'}"\n\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\tafterValueHelpOpen="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleOpenPicker\' : undefined}"\n\t\tafterValueHelpClose="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleClosePicker\' : undefined}"\n\t\tliveChange="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t><template:if test="{this>collaborationEnabled}"><layoutData><FlexItemData growFactor="9" /></layoutData></template:if></DatePicker></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/editStyle/DateTimePicker.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\t\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t\t\t\t\t\t }"\n><DateTimePicker\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\tunittest:id="MacroInput"\n\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\tid="{= (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-edit\']) : undefined) }"\n\t\tvalue="{this>valueBindingExpression}"\n\t\twidth="100%"\n\t\teditable="{this>editableExpression}"\n\t\tenabled="{this>enabledExpression}"\n\t\trequired="{this>requiredExpression}"\n\t\tchange="{= ${this>onChange} || \'FieldRuntime.handleChange($controller, $event)\' }"\n\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\ttextAlign="{parts: [{path:\'dataField>\'}, {path:\'this>formatOptions\'}, {path:\'property>@@FIELD.getPropertyCollection\'}, {path:\'this>editModeAsObject\'}, {path:\'property>@@UI.getConverterContext\'}], formatter:\'FIELD.getTypeAlignment\'}"\n\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\tshowTimezone="{this>showTimezone}"\n\t\tafterValueHelpOpen="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleOpenPicker\' : undefined}"\n\t\tafterValueHelpClose="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleClosePicker\' : undefined}"\n\t\tliveChange="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t><template:if test="{this>collaborationEnabled}"><layoutData><FlexItemData growFactor="9" /></layoutData></template:if></DateTimePicker></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/editStyle/Input.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:f="sap.f"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\t\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t\t\t\t\t\t }"\n><Input\n\t\tunittest:id="MacroInput"\n\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\tid="{= (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-edit\']) : undefined) }"\n\t\tvalue="{this>valueBindingExpression}"\n\t\tplaceholder="{property>$Path@com.sap.vocabularies.UI.v1.Placeholder@@MODEL.value}"\n\t\twidth="100%"\n\t\teditable="{this>editableExpression}"\n\t\tenabled="{this>enabledExpression}"\n\t\trequired="{this>requiredExpression}"\n\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\tliveChange="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\ttextAlign="{parts: [{path:\'dataField>\'}, {path:\'this>formatOptions\'}, {path:\'property>@@FIELD.getPropertyCollection\'}, {path:\'this>editModeAsObject\'}, {path:\'property>@@UI.getConverterContext\'}], formatter:\'FIELD.getTypeAlignment\'}"\n\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t><template:if test="{this>collaborationEnabled}"><layoutData><FlexItemData growFactor="9" /></layoutData></template:if></Input></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/editStyle/InputWithUnit.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\t\t\t\t\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t\t\t\t\t\t }"\n><template:if test="{= FIELD.hasStaticUnitOrCurrency(${property>$Path@})}"><template:then><Input\n\t\t\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\tid="{= (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-edit\']) : undefined) }"\n\t\t\t\tvalue="{this>valueBindingExpression}"\n\t\t\t\twidth="100%"\n\t\t\t\tfieldWidth="70%"\n\t\t\t\tdescription="{= FIELD.getStaticUnitOrCurrency(${property>$Path@}, ${this>formatOptions})}"\n\t\t\t\teditable="{this>editableExpression}"\n\t\t\t\tenabled="{this>enabledExpression}"\n\t\t\t\trequired="{this>requiredExpression}"\n\t\t\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\t\t\tliveChange="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t\t\t\ttextAlign="{parts: [{path:\'dataField>\'}, {path:\'this>formatOptions\'}, {path:\'property>@@FIELD.getPropertyCollection\'}, {path:\'this>editModeAsObject\'}, {path:\'property>@@UI.getConverterContext\'}], formatter:\'FIELD.getTypeAlignment\'}"\n\t\t\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\t\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\t\t><template:if test="{this>collaborationEnabled}"><layoutData><FlexItemData growFactor="9" /></layoutData></template:if></Input></template:then><template:else><template:with path="property>$Path@" helper="FIELD.getUnitOrCurrency" var="unit"><Input\n\t\t\t\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\tid="{= (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-edit\']) : undefined) }"\n\t\t\t\t\tvalue="{this>valueBindingExpression}"\n\t\t\t\t\twidth="{= UI.ifUnitEditable(${property>@@UI.getConverterContext},\'70%\',\'100%\')}"\n\t\t\t\t\tfieldWidth="{= UI.ifUnitEditable(${property>@@UI.getConverterContext}, \'100%\' , \'70%\')}"\n\t\t\t\t\tdescription="{this>descriptionBindingExpression}"\n\t\t\t\t\teditable="{this>editableExpression}"\n\t\t\t\t\tenabled="{this>enabledExpression}"\n\t\t\t\t\trequired="{this>requiredExpression}"\n\t\t\t\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\t\t\t\tliveChange="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t\t\t\t\ttextAlign="{parts: [{path:\'dataField>\'}, {path:\'this>formatOptions\'}, {path:\'property>@@FIELD.getPropertyCollection\'}, {path:\'this>editModeAsObject\'}, {path:\'property>@@UI.getConverterContext\'}], formatter:\'FIELD.getTypeAlignment\'}"\n\t\t\t\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\t\t\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\t\t\t><template:if test="{this>collaborationEnabled}"><layoutData><FlexItemData growFactor="9" /></layoutData></template:if></Input><template:if test="{= (${this>formatOptions/measureDisplayMode} !== \'Hidden\')}"><template:then><Input\n\t\t\t\t\t\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\t\tid="{= (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-unitEdit\']) : undefined) }"\n\t\t\t\t\t\t\tvalue="{this>unitBindingExpression}"\n\t\t\t\t\t\t\twidth="30%"\n\t\t\t\t\t\t\teditable="{= (${this>formatOptions/measureDisplayMode} === \'ReadOnly\' ? \'false\' : ${this>unitEditable}) }"\n\t\t\t\t\t\t\tenabled="{this>enabledExpression}"\n\t\t\t\t\t\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\t\t\t\t\t\tliveChange="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t\t\t\t\t\t\ttextAlign="{parts: [{path:\'dataField>\'}, {path:\'this>formatOptions\'}, {path:\'property>@@FIELD.getPropertyCollection\'}, {path:\'this>editModeAsObject\'}, {path:\'property>@@UI.getConverterContext\'}], formatter:\'FIELD.getTypeAlignment\'}"\n\t\t\t\t\t\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\t\t\t\t\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\t\t\t\t\t\tvisible="{= UI.ifUnitEditable(${property>@@UI.getConverterContext},true,false)}"\n\t\t\t\t\t\t><template:if test="{this>collaborationEnabled}"><layoutData><FlexItemData growFactor="9" /></layoutData></template:if></Input></template:then></template:if></template:with></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/editStyle/InputWithValueHelp.fragment.xml":'\n<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:macro="sap.fe.macros"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\t\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\t\t\t\t\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\t\t\t\t\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\',\n\t\t\t\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n\t}"\n><mdc:Field\n\t\tunittest:id="MacroDataField"\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\tdelegate="{= FIELD.computeFieldBaseDelegate(\'sap/fe/macros/field/FieldBaseDelegate\', ${this>formatOptions/retrieveTextFromValueList})}"\n\t\tid="{= ${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-edit\']) : undefined }"\n\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\tvalue="{this>valueBindingExpression}"\n\t\tplaceholder="{property>$Path@com.sap.vocabularies.UI.v1.Placeholder@@MODEL.value}"\n\t\teditMode="{this>editMode}"\n\t\twidth="100%"\n\t\trequired="{this>requiredExpression}"\n\t\tadditionalValue="{this>textBindingExpression}"\n\t\tdisplay="{= UI.getFieldDisplay(${property>@@UI.getConverterContext}, ${this>formatOptions/displayMode}, ${this>editModeAsObject})}"\n\t\tmultipleLines="{= FieldTemplating.getMultipleLinesForDataField(${this>}, ${property>$Path/$Type}, ${property>$Path@com.sap.vocabularies.UI.v1.MultiLineText}) }"\n\t\tfieldHelp="{= ${valueHelpProperty>@@Property.hasValueHelp} ? ValueHelpTemplating.generateID(${this>_vhFlexId},${this>vhIdPrefix},${property>@@Property.getRelativePropertyPath},${valueHelpProperty>@@Property.getRelativePropertyPath}) : undefined}"\n\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\tliveChange="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t\ttextAlign="{parts: [{path:\'dataField>\'}, {path:\'this>formatOptions\'}, {path:\'property>@@FIELD.getPropertyCollection\'}, {path:\'this>editModeAsObject\'}, {path:\'property>@@UI.getConverterContext\'}], formatter:\'FIELD.getTypeAlignment\'}"\n\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\tlabel="{dataField>@@FIELD.computeLabelText}"\n\t><template:if\n\t\t\ttest="{= (${property>$Path/$Type} === \'Edm.String\') &amp;&amp;\t${property>$Path@com.sap.vocabularies.UI.v1.MultiLineText} }"\n\t\t><mdc:contentEdit><TextArea\n\t\t\t\t\tvalue="{this>valueBindingExpression}"\n\t\t\t\t\trequired="{this>requiredExpression}"\n\t\t\t\t\trows="{this>formatOptions/textLinesEdit}"\n\t\t\t\t\tgrowing="{= ${this>formatOptions/textMaxLines} > 0 ? true : undefined}"\n\t\t\t\t\tgrowingMaxLines="{this>formatOptions/textMaxLines}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\t\t\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\t\t\t/></mdc:contentEdit></template:if><template:if test="{this>collaborationEnabled}"><mdc:layoutData><FlexItemData growFactor="9" /></mdc:layoutData></template:if></mdc:Field></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/editStyle/RatingIndicator.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n                        ID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t\t\t\t\t  }"\n><RatingIndicator\n\t\tunittest:id="HeaderRatingIndicatorTest"\n\t\tid="{= ${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-display\']) : undefined }"\n\t\tmaxValue="{dataPoint>TargetValue@@MODEL.format}"\n\t\tvalue="{dataPoint>Value@@MODEL.format}"\n\t\tbinding="{dataPoint>@@MODEL.getNavigationBinding}"\n\t\ttooltip="{= ${dataPoint>@com.sap.vocabularies.Common.v1.QuickInfo} ? ${dataPoint>@com.sap.vocabularies.Common.v1.QuickInfo@@MODEL.value} : \'{sap.fe.i18n>T_COMMON_RATING_INDICATOR_TITLE_LABEL}\'}"\n\t\ticonSize="1.375rem"\n\t\tclass="sapUiTinyMarginTopBottom"\n\t\teditable="true"\n\t><template:if test="{this>collaborationEnabled}"><layoutData><FlexItemData growFactor="9" /></layoutData></template:if></RatingIndicator></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/editStyle/TextArea.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:field="sap.fe.macros.field"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t\t\t\t\t\t }"\n><field:TextAreaEx\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\tunittest:id="MacroInput"\n\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\tid="{= (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-edit\']) : undefined) }"\n\t\tvalue="{this>valueBindingExpression}"\n\t\tplaceholder="{this>textAreaPlaceholder}"\n\t\trequired="{this>requiredExpression}"\n\t\trows="{this>formatOptions/textLinesEdit}"\n\t\tgrowing="{= ${this>formatOptions/textMaxLines} > 0}"\n\t\tgrowingMaxLines="{this>formatOptions/textMaxLines}"\n\t\twidth="100%"\n\t\teditable="{this>editableExpression}"\n\t\tenabled="{this>enabledExpression}"\n\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\tliveChange="{= (${this>collaborationEnabled} || ${this>formatOptions/textMaxLength}) ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t\tmaxLength="{this>formatOptions/textMaxLength}"\n\t\tshowExceededText="true"\n\t><template:if test="{this>collaborationEnabled}"><field:layoutData><FlexItemData growFactor="9" /></field:layoutData></template:if></field:TextAreaEx></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/editStyle/TimePicker.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\t\t\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\t\t\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\t\t\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\t\t\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\'\n\t\t\t\t\t\t }"\n><TimePicker\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\tunittest:id="MacroInput"\n\t\tlog:sourcePath="{this>dataSourcePath}"\n\t\tid="{= (${this>idPrefix} ? ID.generate([${this>idPrefix}, \'Field-edit\']) : undefined) }"\n\t\tvalue="{this>valueBindingExpression}"\n\t\twidth="100%"\n\t\teditable="{this>editableExpression}"\n\t\tenabled="{this>enabledExpression}"\n\t\trequired="{this>requiredExpression}"\n\t\tchange="FieldRuntime.handleChange($controller, $event)"\n\t\tfieldGroupIds="{this>fieldGroupIds}"\n\t\ttextAlign="{parts: [{path:\'dataField>\'}, {path:\'this>formatOptions\'}, {path:\'property>@@FIELD.getPropertyCollection\'}, {path:\'this>editModeAsObject\'}, {path:\'property>@@UI.getConverterContext\'}], formatter:\'FIELD.getTypeAlignment\'}"\n\t\tvalidateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"\n\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\tafterValueHelpOpen="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleOpenPicker\' : undefined}"\n\t\tafterValueHelpClose="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleClosePicker\' : undefined}"\n\t\tliveChange="{= ${this>collaborationEnabled} ? \'FieldRuntime.handleLiveChange\' : undefined}"\n\t><template:if test="{this>collaborationEnabled}"><layoutData><FlexItemData growFactor="9" /></layoutData></template:if></TimePicker></core:FragmentDefinition>\n',"sap/fe/macros/internal/field/fragments/ObjectIdentifierContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n><ObjectIdentifier\n\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\tid="{this>noWrapperId}"\n\t\ttitle="{this>identifierTitle}"\n\t\ttext="{this>identifierText}"\n\t\ttitleActive="{this>hasQuickView}"\n\t\ttitlePress="FieldRuntime.pressLink"\n\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\temptyIndicatorMode="{this>emptyIndicatorMode}"\n\t><template:if test="{= ${this>hasQuickView}}"><template:then><dependents><macro:QuickView dataField="{dataField>}" semanticObject="{this>semanticObject}" contextPath="{entitySet>}" /></dependents></template:then></template:if></ObjectIdentifier></core:FragmentDefinition>\n',"sap/fe/macros/internal/filterField/FilterFieldTemplate.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tCOMMON_HELPER: \'sap/fe/macros/CommonHelper\'\n\t}"\n><internalMacro:FilterField\n\t\tidPrefix="{this>idPrefix}"\n\t\tvhIdPrefix="{this>vhIdPrefix}"\n\t\tproperty="{property>}"\n\t\tcontextPath="{contextPath>}"\n\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\tsettings="{= COMMON_HELPER.stringifyCustomData(${this>settings}) }"\n\t\tvisualFilter="{visualFilter>}"\n\t/></core:FragmentDefinition>\n',"sap/fe/macros/internal/valuehelp/ValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t}"\n><template:with path="property>" var="originalProperty"><template:if test="{this>filterFieldValueHelp}"><template:then><template:with path="property>" helper="FIELD.valueHelpPropertyForFilterField" var="property"><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueHelpContent" type="XML" /></template:with></template:then><template:else><template:with path="property>" helper="FIELD.valueHelpProperty" var="property"><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueHelpContent" type="XML" /></template:with></template:else></template:if></template:with></core:FragmentDefinition>\n',"sap/fe/macros/internal/valuehelp/ValueHelpContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:fl="sap.ui.fl.variants"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\ttemplate:require="{\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tMODEL : \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t}"\n><template:if test="{property>@@Property.hasValueHelp}"><template:then><mdc:ValueHelp\n\t\t\t\tcore:require="{CollaborationHelper: \'sap/fe/macros/internal/collaborationHelper\'}"\n\t\t\t\tunittest:id="ValueHelpMacroFragment"\n\t\t\t\tdelegate="{= ValueHelpTemplating.getDelegateConfiguration(${property>@@Property.getPropertyPath},${this>conditionModel}, ${originalProperty>@@Property.getPropertyPath}, ${this>requestGroupId}, ${this>useMultiValueField})}"\n\t\t\t\tid="{= ValueHelpTemplating.generateID(${this>_flexId},${this>idPrefix},${originalProperty>@@Property.getRelativePropertyPath},${property>@@Property.getRelativePropertyPath})}"\n\t\t\t\tvalidateInput="{= (${this>filterFieldValueHelp} || ${this>requiresValidation}) ? true : ValueHelpTemplating.requiresValidation(${property>@@Property.getProperty})}"\n\t\t\t\topen="{= ${this>collaborationEnabled} ? \'CollaborationHelper.onValueHelpOpenDialog\' : undefined }"\n\t\t\t\tclosed="{= ${this>collaborationEnabled} ? \'CollaborationHelper.onValueHelpCloseDialog\' : undefined }"\n\t\t\t\tcustomData:valuelistForValidation="{property>@com.sap.vocabularies.Common.v1.ValueListForValidation@@MODEL.value}"\n\t\t\t\tcustomData:showConditionPanel="{= ${this>filterFieldValueHelp} ? ValueHelpTemplating.shouldShowConditionPanel(${property>@@Property.getPropertyObjectPath}, ${contextPath>@@UI.getDataModelObjectPath}) : false}"\n\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\tid="{= ValueHelpTemplating.generateID(${this>_flexId},${this>idPrefix},${originalProperty>@@Property.getRelativePropertyPath},${property>@@Property.getRelativePropertyPath})}::Popover::qualifier::"\n\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${property>@@Property.getPropertyObjectPath}, ${property>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\tuseAsValueHelp="{= ${property>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\ttest="{= ${property>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${property>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></template:then><template:elseif test="{= ${property>@@Property.hasDateType} || ${this>filterFieldValueHelp}}"><mdc:ValueHelp\n\t\t\t\tunittest:id="ValueHelpMacroFragmentWithDateTimeFilters"\n\t\t\t\tid="{= ValueHelpTemplating.generateID(${this>_flexId},${this>idPrefix},${originalProperty>@@Property.getRelativePropertyPath},${property>@@Property.getRelativePropertyPath})}"\n\t\t\t\tcustomData:requestGroupId="{this>requestGroupId}"\n\t\t\t><mdc:dialog><mdcv:Dialog title="{= ${property>@@Property.getLabel} || ${property>@@Property.getName}}"><mdcvc:Conditions label="{= ${property>@@Property.getLabel} || ${property>@@Property.getName}}" /></mdcv:Dialog></mdc:dialog></mdc:ValueHelp></template:elseif></template:if></core:FragmentDefinition>\n',"sap/fe/macros/internal/valuehelp/ValueListDialogTable.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tVLH: \'sap/fe/macros/internal/valuehelp/ValueListHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="valueList>" helper="VLH.getValueListCollectionEntitySet" var="entitySet"><mdc:Table\n\t\t\tid="{source>id}::Table"\n\t\t\theight="100%"\n\t\t\tdelegate="{parts: [{path:\'valueList>\'}], formatter:\'VLH.getTableDelegate\'}"\n\t\t\tthreshold="20"\n\t\t\tp13nMode="Sort"\n\t\t\tshowRowCount="true"\n\t\t\tsortConditions="{parts: [{path:\'valueList>\'},{path:\'source>/bSuggestion\'}], formatter:\'VLH.getSortConditionsFromPresentationVariant\'}"\n\t\t\tmacrodata:columns="{= COMMON.stringifyCustomData(${viewData>/columns})}"\n\t\t\tautoBindOnInit="false"\n\t\t><mdc:columns><template:repeat list="{valueList>Parameters}" var="parameter"><template:if\n\t\t\t\t\t\ttest="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'  &amp;&amp; ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterConstant\'}"\n\t\t\t\t\t><template:with path="parameter>ValueListProperty" var="property" helper="VLH.getValueListProperty"><template:if\n\t\t\t\t\t\t\t\ttest="{parts:[{path:\'valueList>\'}, {path:\'parameter>\'}, {path:\'source>\'}],formatter:\'VLH.getColumnVisibility\'}"\n\t\t\t\t\t\t\t><mdc:table.Column\n\t\t\t\t\t\t\t\t\twidth="{= \'{parts: [{value: \\\'getColumnWidthForValueHelpTable\\\'}, {path: \\\'internal>tablePropertiesAvailable\\\', targetType: \\\'any\\\'},{value: \\\'\' + ${parameter>ValueListProperty}+ \'\\\'} , {value: false}], formatter: \\\'sap.fe.core.formatters.TableFormatter\\\'}\' }"\n\t\t\t\t\t\t\t\t\tminWidth="{= \'{parts: [{value: \\\'getColumnWidthForValueHelpTable\\\'}, {path: \\\'internal>tablePropertiesAvailable\\\', targetType: \\\'any\\\'},{value: \\\'\' + ${parameter>ValueListProperty}+ \'\\\'} , {value: true}], formatter: \\\'sap.fe.core.formatters.TableFormatter\\\'}\' }"\n\t\t\t\t\t\t\t\t\theader="{= ${property>@com.sap.vocabularies.Common.v1.Label} || ${property>@sapui.name@@MODEL.value}}"\n\t\t\t\t\t\t\t\t\thAlign="{= ValueHelpTemplating.getColumnHAlign(${property>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\tdataProperty="{= ValueHelpTemplating.getColumnDataProperty(${parameter>ValueListProperty},${property>@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t><internalMacro:Field editMode="Display" entitySet="{entitySet>}" dataField="{property>}" wrap="false"><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\t\tdisplayMode="{= ValueHelpTemplating.getValueHelpTableDisplayMode(${property>@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t/></internalMacro:Field></mdc:table.Column></template:if></template:with></template:if></template:repeat></mdc:columns><mdc:type><mdc:table.GridTableType /></mdc:type></mdc:Table></template:with></core:FragmentDefinition>\n',"sap/fe/macros/internal/valuehelp/ValueListFilterBar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros.valuehelp"\n><macro:ValueHelpFilterBar\n\t\tid="{source>id}::FilterBar"\n\t\tcontextPath="{contextPath>}"\n\t\t_valueList="{valueList>}"\n\t\tliveMode="false"\n\t\tenableFallback="true"\n\t\thideBasicSearch="true"\n\t/></core:FragmentDefinition>\n',"sap/fe/macros/internal/valuehelp/ValueListTable.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:customdata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tVLH: \'sap/fe/macros/internal/valuehelp/ValueListHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><Table\n\t\tid="{source>id}::SuggestTable"\n\t\titems="{parts: [{path:\'valueList>\'}, {path:\'source>/requestGroupId\'}, {path:\'source>/bSuggestion\'}, {path:\'source>/valueHelpWithFixedValues\'}], formatter:\'VLH.getTableItemsParameters\'}"\n\t\tsticky="ColumnHeaders"\n\t\tgrowing="{source>/valueHelpWithFixedValues}"\n\t\tgrowingScrollToLoad="{source>/valueHelpWithFixedValues}"\n\t><columns><template:repeat list="{path: \'valueList>Parameters\'}" var="parameter"><template:if\n\t\t\t\t\ttest="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'  &amp;&amp; ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterConstant\'}"\n\t\t\t\t><template:with path="parameter>ValueListProperty" var="dataField" helper="VLH.getValueListProperty"><template:if test="{= !(${dataField>@com.sap.vocabularies.UI.v1.Hidden} === true)}"><Column\n\t\t\t\t\t\t\t\tvisible="{parts:[{path:\'valueList>\'}, {path:\'parameter>\'}, {path:\'source>\'}],formatter:\'VLH.getColumnVisibility\'}"\n\t\t\t\t\t\t\t\tminScreenWidth="{path:\'valueList>\',formatter:\'VLH.getMinScreenWidth\'}"\n\t\t\t\t\t\t\t\tdemandPopin="true"\n\t\t\t\t\t\t\t\tpopinDisplay="Inline"\n\t\t\t\t\t\t\t\thAlign="{= ValueHelpTemplating.getColumnHAlign(${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\twidth="{=VLH.getColumnWidth(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t><template:if test="{= !(${source>valueHelpWithFixedValues} === true)}"><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueListTableColumnHeader" type="XML" /></template:if></Column></template:if></template:with></template:if></template:repeat></columns><items><ColumnListItem type="Active" customdata:ensurePropertyLoaded="{= VLH.getOutParameterPaths(${valueList>Parameters}) }"><cells><template:with path="valueList>" helper="VLH.getValueListCollectionEntitySet" var="entitySet"><template:repeat list="{valueList>Parameters}" var="parameter"><template:if test="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'}"><template:with path="parameter>ValueListProperty" var="property" helper="VLH.getValueListProperty"><template:if test="{= !(${property>@com.sap.vocabularies.UI.v1.Hidden} === true)}"><internalMacro:Field editMode="Display" entitySet="{entitySet>}" dataField="{property>}"><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayMode="{= ValueHelpTemplating.getValueHelpTableDisplayMode(${property>@@Property.getPropertyObjectPath}, ${source>valueHelpWithFixedValues}) }"\n\t\t\t\t\t\t\t\t\t\t\t/></internalMacro:Field></template:if></template:with></template:if></template:repeat></template:with></cells></ColumnListItem></items></Table></core:FragmentDefinition>\n',"sap/fe/macros/internal/valuehelp/ValueListTableColumnHeader.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t}"\n><template:if test="{dataField>Label}"><template:then><Label text="{dataField>Label@@MODEL.value}" wrapping="true" wrappingType="Hyphenated" /></template:then><template:elseif test="{dataField>@com.sap.vocabularies.Common.v1.Label}"><Label text="{dataField>@com.sap.vocabularies.Common.v1.Label@@MODEL.value}" wrapping="true" wrappingType="Hyphenated" /></template:elseif><template:else><Label text="[{dataField>@sapui.name@@MODEL.value}]" wrapping="true" wrappingType="Hyphenated" /></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.macros","type":"library","embeds":[],"applicationVersion":{"version":"1.113.0"},"title":"UI5 library: sap.fe.macros","description":"UI5 library: sap.fe.macros","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"libs":{"sap.m":{},"sap.suite.ui.microchart":{},"sap.ui.core":{},"sap.fe.core":{},"sap.ui.layout":{},"sap.ui.unified":{},"sap.ui.mdc":{}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',"sap/fe/macros/microchart/fragments/AreaMicroChart.fragment.xml":"<core:FragmentDefinition\n\txmlns=\"sap.suite.ui.microchart\"\n\txmlns:core=\"sap.ui.core\"\n\txmlns:oDataV4MicroChart=\"sap.fe.macros.microchart\"\n\txmlns:template=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1\"\n\ttemplate:require=\"{\n\t\tMODEL: 'sap/ui/model/odata/v4/AnnotationHelper',\n\t\tMICROCHART: 'sap/fe/macros/microchart/MicroChartHelper',\n\t\tID: 'sap/fe/core/helpers/StableIdHelper'\n\t}\"\n><template:if test=\"{= MICROCHART.shouldMicroChartRender('Area', ${DataPoint>}, ${DataPoint>Value/$Path@}, ${metaPath>})}\"><template:then><template:with path=\"DataPoint>Value/$Path\" helper=\"MODEL.resolve$Path\" var=\"Measure\"><template:with path=\"metaPath>Dimensions/0/\" var=\"Dimension\"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\t\tcore:require=\"{MICROCHARTR: 'sap/fe/macros/microchart/MicroChartHelper' }\"\n\t\t\t\t\t\tid=\"{= ${this>id} ? ID.generate([${this>id}, 'AreaMicroChart']) : undefined }\"\n\t\t\t\t\t\tshowOnlyChart=\"{this>showOnlyChart}\"\n\t\t\t\t\t\tchartTitle=\"{= ${this>title} || ${metaPath>Title}}\"\n\t\t\t\t\t\tchartDescription=\"{= ${this>description} || ${metaPath>Description}}\"\n\t\t\t\t\t\tuomPath=\"{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }\"\n\t\t\t\t\t\tmeasures=\"{DataPoint>Value/$Path}\"\n\t\t\t\t\t\tdimension=\"{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : ${Dimension>$PropertyPath} }\"\n\t\t\t\t\t\tmeasurePrecision=\"{= ${DataPoint>Value/$Path/$Precision} ? ${DataPoint>Value/$Path/$Precision} : undefined }\"\n\t\t\t\t\t\tmeasureScale=\"{= MICROCHART.getMeasureScaleForMicroChart(${DataPoint>}) }\"\n\t\t\t\t\t\tdimensionPrecision=\"{= ${Dimension>$PropertyPath/$Precision} ? ${Dimension>$PropertyPath/$Precision} : undefined }\"\n\t\t\t\t\t\tdataPointQualifiers=\"{= ${DataPoint>./@sapui.name}.indexOf('com.sap.vocabularies.UI.v1.DataPoint') === -1 ? undefined : (${DataPoint>./@sapui.name}.indexOf('#') > -1 ? ${DataPoint>./@sapui.name}.split('#')[1] : '') }\"\n\t\t\t\t\t\tbinding=\"{= ${this>batchGroupId} ? ('{path:\\'\\', parameters : { $$groupId: \\'' + ${this>batchGroupId} + '\\'} }') : undefined }\"\n\t\t\t\t\t\tonTitlePressed=\"{this>onTitlePressed}\"\n\t\t\t\t\t\tnavigationType=\"{this>navigationType}\"\n\t\t\t\t\t\tcalendarPattern=\"{= MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) }\"\n\t\t\t\t\t><template:if test=\"{= !${this>showOnlyChart} || (${this>showOnlyChart} !== 'true' ? true : false)}\"><core:Fragment fragmentName=\"sap.fe.macros.microchart.fragments.MicroChartTitle\" type=\"XML\" /></template:if><AreaMicroChart hideOnNoData=\"{this>hideOnNoData}\" size=\"{this>size}\"><chart><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\tpoints=\"{= MICROCHART.getAggregationForMicrochart('Points', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, ${Dimension>}, ${Measure>@}) }\"\n\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\ty=\"{DataPoint>Value@@.MODEL.value}\"\n\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></chart><target><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\ty=\"{DataPoint>TargetValue@@.MODEL.value}\"\n\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></target><template:if test=\"{= ${this>showOnlyChart} !== true }\"><firstXLabel><AreaMicroChartLabel /></firstXLabel><firstYLabel><AreaMicroChartLabel /></firstYLabel><lastXLabel><AreaMicroChartLabel /></lastXLabel><lastYLabel><AreaMicroChartLabel /></lastYLabel></template:if><template:if\n\t\t\t\t\t\t\t\ttest=\"{= ${DataPoint>CriticalityCalculation} &amp;&amp; ${DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember} }\"\n\t\t\t\t\t\t\t><template:with path=\"DataPoint>CriticalityCalculation\" var=\"CriticalityCalculation\"><template:if\n\t\t\t\t\t\t\t\t\t\ttest=\"{= ${CriticalityCalculation>ImprovementDirection/$EnumMember} === 'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Minimize'}\"\n\t\t\t\t\t\t\t\t\t><template:then><minThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"Good\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty=\"{CriticalityCalculation>ToleranceRangeHighValue@@.MODEL.format}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></minThreshold><maxThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"Error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty=\"{CriticalityCalculation>DeviationRangeHighValue@@.MODEL.format}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></maxThreshold></template:then><template:elseif\n\t\t\t\t\t\t\t\t\t\t\ttest=\"{= ${CriticalityCalculation>ImprovementDirection/$EnumMember} === 'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Maximize'}\"\n\t\t\t\t\t\t\t\t\t\t><minThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"Error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty=\"{CriticalityCalculation>DeviationRangeLowValue@@.MODEL.format}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></minThreshold><maxThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"Good\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty=\"{CriticalityCalculation>ToleranceRangeLowValue@@.MODEL.format}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></maxThreshold></template:elseif><template:elseif\n\t\t\t\t\t\t\t\t\t\t\ttest=\"{= ${CriticalityCalculation>ImprovementDirection/$EnumMember} === 'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Target'}\"\n\t\t\t\t\t\t\t\t\t\t><minThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"Error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty=\"{CriticalityCalculation>DeviationRangeLowValue@@.MODEL.format}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></minThreshold><maxThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"Error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty=\"{CriticalityCalculation>DeviationRangeHighValue@@.MODEL.format}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></maxThreshold><innerMinThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"Good\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty=\"{CriticalityCalculation>ToleranceRangeLowValue@@.MODEL.format}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></innerMinThreshold><innerMaxThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"Good\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints=\"{= '{path:\\'' + (${contextPath>$kind} === 'EntitySet' ? '/' : '') + ${contextPath>@sapui.name} + '\\'}' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx=\"{= (${Dimension>$PropertyPath/$Type} === 'Edm.Date' ||  (${Dimension>$PropertyPath/$Type} === 'Edm.String' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty=\"{CriticalityCalculation>ToleranceRangeHighValue@@.MODEL.format}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></innerMaxThreshold></template:elseif></template:if></template:with></template:if></AreaMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:with></template:then><template:elseif\n\t\t\ttest=\"{= MICROCHART.logWarning('Area', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${metaPath>Dimensions/0/$PropertyPath}, CriticalityCalculation : (${DataPoint>CriticalityCalculation} &amp;&amp; ${DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember}) }) }\"\n\t\t/></template:if></core:FragmentDefinition>\n","sap/fe/macros/microchart/fragments/BulletMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Bullet\', ${DataPoint>}, ${DataPoint>Value/$Path@})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'BulletMicroChart\']) : undefined }"\n\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\tbinding="{= MICROCHART.getBindingExpressionForMicrochart(\'Bullet\', ${Measure>@}, ${this>}, ${contextPath>}, ${contextPath>@sapui.name}) }"\n\t\t\t\t\tvisible="{= MICROCHART.getHiddenPathExpression(${DataPoint>Value/$Path@com.sap.vocabularies.UI.v1.Hidden}) }"\n\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><BulletMicroChart\n\t\t\t\t\t\ttargetValue="{DataPoint>TargetValue@@MODEL.value}"\n\t\t\t\t\t\tforecastValue="{DataPoint>ForecastValue@@MODEL.value}"\n\t\t\t\t\t\tmaxValue="{DataPoint>MaximumValue@@MODEL.format}"\n\t\t\t\t\t\tminValue="{DataPoint>MinimumValue@@MODEL.format}"\n\t\t\t\t\t\tactualValueLabel="{= MICROCHART.formatDecimal(${DataPoint>Value/$Path}, ${DataPoint>Value/$Path/$}, (${DataPoint>ValueFormat} &amp;&amp; ${DataPoint>ValueFormat/NumberOfFractionalDigits})) }"\n\t\t\t\t\t\ttargetValueLabel="{= MICROCHART.formatDecimal(${DataPoint>TargetValue/$Path}, ${DataPoint>TargetValue/$Path/$}, (${DataPoint>ValueFormat} &amp;&amp; ${DataPoint>ValueFormat/NumberOfFractionalDigits})) }"\n\t\t\t\t\t\tshowDeltaValue="{= ${DataPoint>Visualization/$EnumMember} &amp;&amp; ${DataPoint>Visualization/$EnumMember}.indexOf(\'DeltaBulletChart\') > -1 }"\n\t\t\t\t\t\tmode="{= ${DataPoint>Visualization/$EnumMember} &amp;&amp; ${DataPoint>Visualization/$EnumMember}.indexOf(\'DeltaBulletChart\') > -1 ? \'Delta\' : undefined }"\n\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t><template:if\n\t\t\t\t\t\t\ttest="{= ${DataPoint>Criticality} || (!${DataPoint>Criticality} &amp;&amp; !${DataPoint>CriticalityCalculation}) }"\n\t\t\t\t\t\t><template:then><actual><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\tvalue="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\t\t\tcolor="{= ${DataPoint>Criticality} ? CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) : undefined }"\n\t\t\t\t\t\t\t\t\t/></actual></template:then><template:else><template:with path="DataPoint>CriticalityCalculation" var="CriticalityCalculation"><template:with path="DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember" var="Direction"><actual><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor="{= COMMON.getCriticalityCalculationBinding(${Direction>},\n\t\t\t\t\t\t\t\t\t${DataPoint>Value@@MODEL.value},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>DeviationRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>ToleranceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>AcceptanceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>AcceptanceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>ToleranceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>DeviationRangeHighValue@@MODEL.format}) }"\n\t\t\t\t\t\t\t\t\t\t\t/></actual><thresholds><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${Direction>}.indexOf(\'Minimize\') === -1 &amp;&amp; ${CriticalityCalculation>DeviationRangeLowValue} }"\n\t\t\t\t\t\t\t\t\t\t\t><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{CriticalityCalculation>DeviationRangeLowValue@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{CriticalityCalculation>DeviationRangeLowValue@@MICROCHART.getThresholdColor}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:if><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${Direction>}.indexOf(\'Minimize\') === -1 &amp;&amp; ${CriticalityCalculation>ToleranceRangeLowValue} }"\n\t\t\t\t\t\t\t\t\t\t\t><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{CriticalityCalculation>ToleranceRangeLowValue@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{CriticalityCalculation>ToleranceRangeLowValue@@MICROCHART.getThresholdColor}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:if><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${Direction>}.indexOf(\'Maximize\') === -1 &amp;&amp; ${CriticalityCalculation>ToleranceRangeHighValue} }"\n\t\t\t\t\t\t\t\t\t\t\t><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{CriticalityCalculation>ToleranceRangeHighValue@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{CriticalityCalculation>ToleranceRangeHighValue@@MICROCHART.getThresholdColor}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:if><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${Direction>}.indexOf(\'Maximize\') === -1 &amp;&amp; ${CriticalityCalculation>DeviationRangeHighValue} }"\n\t\t\t\t\t\t\t\t\t\t\t><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{CriticalityCalculation>DeviationRangeHighValue@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{CriticalityCalculation>DeviationRangeHighValue@@MICROCHART.getThresholdColor}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:if></thresholds></template:with></template:with></template:else></template:if></BulletMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:then><template:elseif test="{= MICROCHART.logWarning(\'Bullet\', { DataPoint_Value : ${DataPoint>Value} }) }" /></template:if></core:FragmentDefinition>\n',"sap/fe/macros/microchart/fragments/ColumnMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Column\', ${DataPoint>}, ${DataPoint>Value/$Path@}, ${metaPath>})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><template:with path="metaPath>Dimensions/0/" var="Dimension"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'ColumnMicroChart\']) : undefined }"\n\t\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\t\tmeasures="{DataPoint>Value/$Path}"\n\t\t\t\t\t\tdimension="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : ${Dimension>$PropertyPath} }"\n\t\t\t\t\t\tmeasurePrecision="{= ${DataPoint>Value/$Path/$Precision} ? ${DataPoint>Value/$Path/$Precision} : undefined }"\n\t\t\t\t\t\tmeasureScale="{= MICROCHART.getMeasureScaleForMicroChart(${DataPoint>}) }"\n\t\t\t\t\t\tdimensionPrecision="{= ${Dimension>$PropertyPath/$Precision} ? ${Dimension>$PropertyPath/$Precision} : undefined }"\n\t\t\t\t\t\tdataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMicroChart(${DataPoint>./@sapui.name}) }"\n\t\t\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t\t\tcalendarPattern="{= MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) }"\n\t\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><ColumnMicroChart\n\t\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\t\tcolumns="{= MICROCHART.getAggregationForMicrochart(\'Columns\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, ${Dimension>}, ${Measure>@}) }"\n\t\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t\t><columns><template:if\n\t\t\t\t\t\t\t\t\ttest="{= ${DataPoint>Criticality} || (!${DataPoint>Criticality} &amp;&amp; !${DataPoint>CriticalityCalculation}) }"\n\t\t\t\t\t\t\t\t><template:then><ColumnMicroChartData\n\t\t\t\t\t\t\t\t\t\t\tvalue="{path:\'DataPoint>Value@@MODEL.value\', type:\'sap.ui.model.odata.type.Decimal\'}"\n\t\t\t\t\t\t\t\t\t\t\tcolor="{= ${DataPoint>Criticality} ? CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) : undefined }"\n\t\t\t\t\t\t\t\t\t\t/></template:then><template:else><template:with path="DataPoint>CriticalityCalculation" var="CriticalityCalculation"><template:with\n\t\t\t\t\t\t\t\t\t\t\t\tpath="DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember"\n\t\t\t\t\t\t\t\t\t\t\t\tvar="Direction"\n\t\t\t\t\t\t\t\t\t\t\t><ColumnMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{path:\'DataPoint>Value@@MODEL.value\', type:\'sap.ui.model.odata.type.Decimal\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{= COMMON.getCriticalityCalculationBinding(${Direction>},\n\t\t\t\t\t\t\t\t\t\t\t\t${DataPoint>Value@@MODEL.value},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>DeviationRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>ToleranceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>AcceptanceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>AcceptanceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>ToleranceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>DeviationRangeHighValue@@MODEL.format}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:with></template:else></template:if></columns><template:if test="{= ${this>showOnlyChart} !== \'true\' }"><leftBottomLabel><ColumnMicroChartLabel /></leftBottomLabel><leftTopLabel><ColumnMicroChartLabel /></leftTopLabel><rightBottomLabel><ColumnMicroChartLabel /></rightBottomLabel><rightTopLabel><ColumnMicroChartLabel /></rightTopLabel></template:if></ColumnMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:with></template:then><template:elseif\n\t\t\ttest="{= MICROCHART.logWarning(\'Column\', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${metaPath>Dimensions/0/$PropertyPath} }) }"\n\t\t/></template:if></core:FragmentDefinition>\n',"sap/fe/macros/microchart/fragments/ComparisonMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Comparison\', ${DataPoint>}, ${DataPoint>Value/$Path@}, ${metaPath>})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><template:with path="metaPath>Dimensions/0/" var="Dimension"><template:with path="metaPath>Dimensions/0/$PropertyPath" helper="MODEL.resolve$Path" var="DimensionPath"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'ComparisonMicroChart\']) : undefined }"\n\t\t\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\t\t\tdataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMicroChart(${DataPoint>./@sapui.name}) }"\n\t\t\t\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><ComparisonMicroChart\n\t\t\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\t\t\tdata="{= MICROCHART.getAggregationForMicrochart(\'Data\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, ${Dimension>}, ${Measure>@}) }"\n\t\t\t\t\t\t\t\tcolorPalette="{= MICROCHART.getColorPaletteForMicroChart(${DataPoint>}) }"\n\t\t\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t\t\t\tmaxValue="{DataPoint>MaximumValue@@MODEL.value}"\n\t\t\t\t\t\t\t\tminValue="{DataPoint>MinimumValue@@MODEL.value}"\n\t\t\t\t\t\t\t><data><ComparisonMicroChartData\n\t\t\t\t\t\t\t\t\t\tvalue="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\t\t\ttitle="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${DimensionPath>@com.sap.vocabularies.Common.v1.Text@@MODEL.format} : ${Dimension>@@MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\tdisplayValue="{= MICROCHART.getDisplayValueForMicroChart(${DataPoint>}, ${DataPoint>Value/$Path@com.sap.vocabularies.Common.v1.Text}, ${DataPoint>Value/$Path@com.sap.vocabularies.Common.v1.Text/$Path/$}, ${DataPoint>Value/$Path/$}) }"\n\t\t\t\t\t\t\t\t\t\tcolor="{= CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t/></data></ComparisonMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:with></template:with></template:then><template:elseif\n\t\t\ttest="{= MICROCHART.logWarning(\'Comparison\', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${metaPath>Dimensions/0/$PropertyPath} }) }"\n\t\t/></template:if></core:FragmentDefinition>\n',"sap/fe/macros/microchart/fragments/HarveyBallMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if\n\t\ttest="{= MICROCHART.shouldMicroChartRender(\'Harvey\', ${DataPoint>}, ${DataPoint>Value/$Path@}, \'\', ${DataPoint>MaximumValue/$Path@})}"\n\t><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'HarveyBallMicroChart\']) : undefined }"\n\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\tbinding="{= MICROCHART.getBindingExpressionForMicrochart(\'Harvey\', ${Measure>@}, ${this>}, ${contextPath>}, ${contextPath>@sapui.name}, ${DataPoint>}) }"\n\t\t\t\t\tvisible="{= MICROCHART.getHiddenPathExpression(${DataPoint>Value/$Path@com.sap.vocabularies.UI.v1.Hidden}, ${DataPoint>MaximumValue/$Path@com.sap.vocabularies.UI.v1.Hidden}) }"\n\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><HarveyBallMicroChart\n\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\tformattedLabel="true"\n\t\t\t\t\t\ttotalLabel="{= MICROCHART.formatDecimal(${DataPoint>MaximumValue/$Path}, ${DataPoint>MaximumValue/$Path/$}, (${DataPoint>ValueFormat} &amp;&amp; ${DataPoint>ValueFormat/NumberOfFractionalDigits})) }"\n\t\t\t\t\t\ttotal="{DataPoint>MaximumValue@@MODEL.value}"\n\t\t\t\t\t\tcolorPalette="{= MICROCHART.getColorPaletteForMicroChart(${DataPoint>}) }"\n\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t><items><HarveyBallMicroChartItem\n\t\t\t\t\t\t\t\tformattedLabel="true"\n\t\t\t\t\t\t\t\tfractionLabel="{= MICROCHART.formatDecimal(${DataPoint>Value/$Path}, ${DataPoint>Value/$Path/$}, (${DataPoint>ValueFormat} &amp;&amp; ${DataPoint>ValueFormat/NumberOfFractionalDigits})) }"\n\t\t\t\t\t\t\t\tfraction="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\tcolor="{= CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t/></items></HarveyBallMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:then><template:elseif\n\t\t\ttest="{= MICROCHART.logWarning(\'HarveyBall\', { DataPoint_Value : ${DataPoint>Value}, DataPoint_MaximumValue : ${DataPoint>MaximumValue} }) }"\n\t\t/></template:if></core:FragmentDefinition>\n',"sap/fe/macros/microchart/fragments/LineMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\'\n\t}"\n><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><template:with path="metaPath>Dimensions/0/" var="Dimension"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\tcore:require="{MICROCHARTR: \'sap/fe/macros/microchart/MicroChartHelper\' }"\n\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'LineMicroChart\']) : undefined }"\n\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\tmeasures="{= MICROCHART.getMeasurePropertyPaths(${metaPath>}, ${contextPath>./@}, \'Line\')}"\n\t\t\t\tdimension="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : ${Dimension>$PropertyPath} }"\n\t\t\t\tmeasurePrecision="{= ${Measure>$Precision} ? ${Measure>$Precision} : undefined }"\n\t\t\t\tmeasureScale="{= MICROCHART.getMeasureScaleForMicroChart(${DataPoint>}) }"\n\t\t\t\tdimensionPrecision="{= ${Dimension>$PropertyPath/$Precision} ? ${Dimension>$PropertyPath/$Precision} : undefined }"\n\t\t\t\tdataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMeasures(${metaPath>}, ${contextPath>./@}, \'Line\')}"\n\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\tcalendarPattern="{= MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) }"\n\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><LineMicroChart showThresholdLine="false" hideOnNoData="{this>hideOnNoData}" size="{this>size}"><lines><template:repeat list="{metaPath>Measures}" var="Measure"><template:with path="Measure>" helper="COMMON.getMeasureAttributeForMeasure" var="DataPoint"><template:if\n\t\t\t\t\t\t\t\t\ttest="{= ${DataPoint>Value} &amp;&amp; ${Dimension>$PropertyPath} &amp;&amp; MICROCHART.isNotAlwaysHidden(\'Line\', ${DataPoint>Value}, undefined,${DataPoint>Value/$Path@com.sap.vocabularies.UI.v1.Hidden}) }"\n\t\t\t\t\t\t\t\t><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="DataPointMeasure"><LineMicroChartLine\n\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= MICROCHART.getAggregationForMicrochart(\'LinePoints\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, ${Dimension>}, ${DataPointMeasure>@}) }"\n\t\t\t\t\t\t\t\t\t\t\t><points><LineMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{DataPoint>Value@@.MODEL.value}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></LineMicroChartLine></template:with></template:then><template:elseif\n\t\t\t\t\t\t\t\t\t\ttest="{= MICROCHART.logWarning(\'Line\', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${Dimension>$PropertyPath} }) }"\n\t\t\t\t\t\t\t\t\t/></template:if></template:with></template:repeat></lines></LineMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:with></core:FragmentDefinition>\n',"sap/fe/macros/microchart/fragments/MicroChartTitle.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:m="sap.m"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n        MICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n        COMMON: \'sap/fe/macros/CommonHelper\'\n\n\t}"\n><oDataV4MicroChart:microChartTitle><template:if test="{= ${this>navigationType} === \'External\'}"><template:then><core:InvisibleText\n\t\t\t\t\ttext="{sap.fe.i18n>M_MICROCHART_TITLE_FRAGMENT_HEADER_MICROCHART_LINK_ARIA}"\n\t\t\t\t\tid="{= ID.generate([${this>id}, ${metaPath>@sapui.name}, \'AriaText\']) }"\n\t\t\t\t/><m:Title\n\t\t\t\t\tlevel="H3"\n\t\t\t\t\tvisible="{= COMMON.getHeaderDataPointLinkVisibility(ID.generate([\'fe\', \'MicroChartLink\',  ${contextPath>@sapui.name}, ${metaPath>@sapui.name}]), true) }"\n\t\t\t\t><m:content><m:Link\n\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'MicroChartLink\', ${contextPath>@sapui.name}, ${metaPath>@sapui.name}]) }"\n\t\t\t\t\t\t\ttext="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\t\tpress="{this>onTitlePressed}"\n\t\t\t\t\t\t\tariaDescribedBy="{= ID.generate([${this>id}, ${metaPath>@sapui.name}, \'AriaText\']) }"\n\t\t\t\t\t\t/></m:content></m:Title><m:Title\n\t\t\t\t\tid="{= ID.generate([\'fe\', ${contextPath>@sapui.name}, ${metaPath>@sapui.name}, \'microChartTitle\']) }"\n\t\t\t\t\tlevel="H3"\n\t\t\t\t\ttext="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tclass="sapUiTinyMarginBottom"\n\t\t\t\t\tvisible="{= COMMON.getHeaderDataPointLinkVisibility(ID.generate([\'fe\',  \'MicroChartLink\',  ${contextPath>@sapui.name}, ${metaPath>@sapui.name}]), false) }"\n\t\t\t\t/></template:then><template:elseif test="{= ${this>navigationType} === \'InPage\'}"><core:InvisibleText\n\t\t\t\t\ttext="{sap.fe.i18n>T_COMMON_HEADERDP_TITLE_LINK_INPAGE_ARIA}"\n\t\t\t\t\tid="{= ID.generate([${this>id}, ${metaPath>@sapui.name}, \'AriaText\']) }"\n\t\t\t\t/><m:Title level="H3"><m:content><m:Link\n\t\t\t\t\t\t\ttext="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\t\tpress="{this>onTitlePressed}"\n\t\t\t\t\t\t\tariaDescribedBy="{= ID.generate([${this>id}, ${metaPath>@sapui.name}, \'AriaText\']) }"\n\t\t\t\t\t\t/></m:content></m:Title></template:elseif><template:else><m:Title level="H3" text="{= ${this>title} || ${metaPath>Title}}" /></template:else></template:if></oDataV4MicroChart:microChartTitle></core:FragmentDefinition>\n',"sap/fe/macros/microchart/fragments/RadialMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Radial\', ${DataPoint>}, ${DataPoint>Value/$Path@})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'RadialMicroChart\']) : undefined }"\n\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\tbinding="{= MICROCHART.getBindingExpressionForMicrochart(\'Radial\', ${Measure>@}, ${this>}, ${contextPath>}, ${contextPath>@sapui.name}) }"\n\t\t\t\t\tvisible="{= MICROCHART.getHiddenPathExpression(${DataPoint>Value/$Path@com.sap.vocabularies.UI.v1.Hidden}) }"\n\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><RadialMicroChart\n\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\ttotal="{= ${DataPoint>TargetValue} ? ${DataPoint>TargetValue@@MODEL.value} : undefined }"\n\t\t\t\t\t\tfraction="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\tpercentage="{= !${DataPoint>TargetValue} ? ${{DataPoint>Value@@MODEL.value} : undefined }"\n\t\t\t\t\t\tvalueColor="{= ${DataPoint>Criticality} || (!${DataPoint>Criticality} &amp;&amp; !${DataPoint>CriticalityCalculation}) ?\n\t\t\t\t\t\t\t\t(${DataPoint>Criticality} ? CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) : undefined ) :\n\t\t\t\t\t\t\t\tCOMMON.getCriticalityCalculationBinding(${DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember},\n\t\t\t\t\t\t\t\t\t${DataPoint>Value@@MODEL.value},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/DeviationRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/ToleranceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/AcceptanceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/AcceptanceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/ToleranceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/DeviationRangeHighValue@@MODEL.format}) }"\n\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t/></oDataV4MicroChart:MicroChartContainer></template:with></template:then><template:elseif test="{= MICROCHART.logWarning(\'Radial\', { DataPoint_Value : ${DataPoint>Value} }) }" /></template:if></core:FragmentDefinition>\n',"sap/fe/macros/microchart/fragments/StackedBarMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Stacked Bar\', ${DataPoint>}, ${DataPoint>Value/$Path@})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'StackedBarMicroChart\']) : undefined }"\n\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\tdataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMicroChart(${DataPoint>./@sapui.name}) }"\n\t\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><StackedBarMicroChart\n\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t\tbars="{= MICROCHART.getAggregationForMicrochart(\'Bars\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, \'\', ${Measure>@}, ${metaPath>Dimension}) }"\n\t\t\t\t\t><bars><StackedBarMicroChartBar\n\t\t\t\t\t\t\t\tvalue="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\tdisplayValue="{= ${DataPoint>Value/$Path@com.sap.vocabularies.Common.v1.Text} ? ${DataPoint>Value/$Path@com.sap.vocabularies.Common.v1.Text@@MODEL.value} : undefined }"\n\t\t\t\t\t\t\t\tvalueColor="{= ${DataPoint>Criticality} ? CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) : undefined }"\n\t\t\t\t\t\t\t/></bars></StackedBarMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:then><template:elseif test="{= MICROCHART.logWarning(\'StackedBar\', { DataPoint_Value : ${DataPoint>Value} }) }" /></template:if></core:FragmentDefinition>\n',"sap/fe/macros/quickView/fragments/DataFieldQuickView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t\t\t\t}"\n><template:if test="{dataField>}"><VBox class="sapUiTinyMarginTopBottom"><template:if test="{= ${dataField>IconUrl@@MODEL.value} !== undefined }"><template:then><controls:ConditionalWrapper\n\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tcondition="{= FIELD.checkPrimaryActions(${semantic>}, false, ${viewData>/appComponent}) }"\n\t\t\t\t\t><controls:contentTrue><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageIconUrlTest"\n\t\t\t\t\t\t\t\ticon="{dataField>IconUrl@@MODEL.value}"\n\t\t\t\t\t\t\t\tfallbackIcon="sap-icon://product"\n\t\t\t\t\t\t\t\ttitle="{= FieldTemplating.getTextBinding(${dataField>Value@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageIconUrlTestNoLinkTitle"\n\t\t\t\t\t\t\t\ticon="{dataField>IconUrl@@MODEL.value}"\n\t\t\t\t\t\t\t\tfallbackIcon="sap-icon://product"\n\t\t\t\t\t\t\t\ttitle="{= FieldTemplating.getTextBinding(${dataField>Value@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentFalse></controls:ConditionalWrapper></template:then><template:elseif test="{= ${dataField>Value@@MODEL.value} !== undefined}"><controls:ConditionalWrapper\n\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tcondition="{= FIELD.checkPrimaryActions(${semantic>}, false, ${viewData>/appComponent}) }"\n\t\t\t\t\t><controls:contentTrue><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageTest"\n\t\t\t\t\t\t\t\ttitle="{= FieldTemplating.getTextBinding(${dataField>Value@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageTestNoLinkTitle"\n\t\t\t\t\t\t\t\ttitle="{= FieldTemplating.getTextBinding(${dataField>Value@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentFalse></controls:ConditionalWrapper></template:elseif><template:else><controls:ConditionalWrapper\n\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tcondition="{= FIELD.checkPrimaryActions(${semantic>}, false, ${viewData>/appComponent}) }"\n\t\t\t\t\t><controls:contentTrue><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewNoFieldValuePageTest"\n\t\t\t\t\t\t\t\ttitle="{dataField>@@MODEL.format}"\n\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewNoFieldValuePageTestNoLinkTitle"\n\t\t\t\t\t\t\t\ttitle="{dataField>@@MODEL.format}"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentFalse></controls:ConditionalWrapper></template:else></template:if></VBox></template:if></core:FragmentDefinition>\n',"sap/fe/macros/quickView/fragments/EntityQuickView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t\t\t\t}"\n><template:if test="{entityType>}"><template:then><template:with path="entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo" var="headerInfo"><VBox class="sapFePaddingTop sapUiTinyMarginBottom"><controls:ConditionalWrapper\n\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tcondition="{= FIELD.checkPrimaryActions(${semantic>}, false, ${viewData>/appComponent}) }"\n\t\t\t\t\t><controls:contentTrue><template:if test="{= (${headerInfo>ImageUrl} !== undefined) || (${headerInfo>TypeImageUrl} !== undefined) }"><template:then><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageEntity"\n\t\t\t\t\t\t\t\t\t\ticon="{= ${headerInfo>ImageUrl} !== undefined ? ${headerInfo>ImageUrl@@MODEL.value} : ${headerInfo>TypeImageUrl@@MODEL.value} }"\n\t\t\t\t\t\t\t\t\t\tfallbackIcon="{= ${headerInfo>TypeImageUrl} !== undefined ? ${headerInfo>TypeImageUrl} : (${entityType>./@com.sap.vocabularies.Common.v1.IsNaturalPerson} ? \'sap-icon://person-placeholder\' : \'sap-icon://product\')}"\n\t\t\t\t\t\t\t\t\t\ttitle="{entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\t\t\tdescription="{= (${headerInfo>Description} !== undefined) ? ${entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@MODEL.format} : \'{semantic>propertyPathLabel}\' }"\n\t\t\t\t\t\t\t\t\t><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFacets" type="XML" /></controls:CustomQuickViewPage></template:then><template:else><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageEntityNoIcon"\n\t\t\t\t\t\t\t\t\t\ttitle="{entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\t\t\tdescription="{= (${headerInfo>Description} !== undefined) ? ${entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@MODEL.format} : \'{semantic>propertyPathLabel}\' }"\n\t\t\t\t\t\t\t\t\t><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFacets" type="XML" /></controls:CustomQuickViewPage></template:else></template:if></controls:contentTrue><controls:contentFalse><template:if test="{= (${headerInfo>ImageUrl} !== undefined) || (${headerInfo>TypeImageUrl} !== undefined) }"><template:then><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageEntityNoLinkTitle"\n\t\t\t\t\t\t\t\t\t\ticon="{= ${headerInfo>ImageUrl} !== undefined ? ${headerInfo>ImageUrl@@MODEL.value} : ${headerInfo>TypeImageUrl@@MODEL.value} }"\n\t\t\t\t\t\t\t\t\t\tfallbackIcon="{= ${headerInfo>TypeImageUrl} !== undefined ? ${headerInfo>TypeImageUrl} : (${entityType>./@com.sap.vocabularies.Common.v1.IsNaturalPerson} ? \'sap-icon://person-placeholder\' : \'sap-icon://product\')}"\n\t\t\t\t\t\t\t\t\t\ttitle="{entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\tdescription="{= (${headerInfo>Description} !== undefined) ? ${entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@MODEL.format} : \'{semantic>propertyPathLabel}\' }"\n\t\t\t\t\t\t\t\t\t><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFacets" type="XML" /></controls:CustomQuickViewPage></template:then><template:else><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageEntityNoLinkTitleNoIcon"\n\t\t\t\t\t\t\t\t\t\ttitle="{entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\tdescription="{= (${headerInfo>Description} !== undefined) ? ${entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@MODEL.format} : \'{semantic>propertyPathLabel}\' }"\n\t\t\t\t\t\t\t\t\t><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFacets" type="XML" /></controls:CustomQuickViewPage></template:else></template:if></controls:contentFalse></controls:ConditionalWrapper></VBox></template:with></template:then></template:if></core:FragmentDefinition>\n',"sap/fe/macros/quickView/fragments/QuickViewFacets.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n\t\t\t\t}"\n><template:repeat list="{entityType>./@com.sap.vocabularies.UI.v1.QuickViewFacets}" var="facet"><template:if test="{= ${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') > -1 }"><template:then><template:with path="facet>Target/$AnnotationPath" var="contact"><core:Fragment fragmentName="sap.fe.macros.contact.ContactQuickViewGroup" type="XML" /></template:with></template:then><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.FieldGroup\') > -1)}"><template:with path="facet>Target/$AnnotationPath" var="fieldGroup"><QuickViewGroup heading="{facet>Label}"><template:repeat list="{fieldGroup>Data}" var="dataField"><QuickViewGroupElement\n\t\t\t\t\t\t\t\tlabel="{dataField>@@MODEL.label}"\n\t\t\t\t\t\t\t\turl="{= FieldTemplating.QVTextBinding(${dataField>@@UI.getDataModelObjectPath}, ${dataField>Value@@UI.getDataModelObjectPath}, \'\') }"\n\t\t\t\t\t\t\t\tvalue="{= FieldTemplating.QVTextBinding(${dataField>@@UI.getDataModelObjectPath}, ${dataField>Value@@UI.getDataModelObjectPath}, \'\') }"\n\t\t\t\t\t\t\t\ttype="{= FieldTemplating.getQuickViewType(${dataField>Value@@UI.getDataModelObjectPath} ) }"\n\t\t\t\t\t\t\t/></template:repeat></QuickViewGroup></template:with></template:elseif><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.Identification\') > -1) }"><template:with path="facet>Target/$AnnotationPath" var="identification"><QuickViewGroup heading="{facet>Label}"><template:repeat list="{identification>}" var="dataField"><QuickViewGroupElement\n\t\t\t\t\t\t\t\tlabel="{dataField>@@MODEL.label}"\n\t\t\t\t\t\t\t\tvalue="{dataField>Value@@MODEL.format}"\n\t\t\t\t\t\t\t\ttype="{= FieldTemplating.getQuickViewType(${dataField>Value@@UI.getDataModelObjectPath} ) }"\n\t\t\t\t\t\t\t/></template:repeat></QuickViewGroup></template:with></template:elseif><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1) }"><template:with path="facet>Target/$AnnotationPath" var="dataPoint"><QuickViewGroup heading="{facet>Label}"><QuickViewGroupElement\n\t\t\t\t\t\t\tlabel="{dataPoint>Title}"\n\t\t\t\t\t\t\tvalue="{= ${dataPoint>TargetValue@@MODEL.format} ? ${dataPoint>Value@@MODEL.format}+\'/\'+${dataPoint>TargetValue@@MODEL.format} : ${dataPoint>Value@@MODEL.format} }"\n\t\t\t\t\t\t\ttype="{= FieldTemplating.getQuickViewType(${dataField>Value@@UI.getDataModelObjectPath} ) }"\n\t\t\t\t\t\t/></QuickViewGroup></template:with></template:elseif></template:if></template:repeat></core:FragmentDefinition>\n',"sap/fe/macros/share/ShareSheet.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:footerbar="sap.ushell.ui.footerbar"><ActionSheet cancelButtonPress="onCancelPressed"><buttons><Button icon="sap-icon://email" press="shareEmailPressed" text="{share>/emailButtonText}" class="sapMFlexBox" width="100%" /><Button\n\t\t\t\ticon="sap-icon://share-2"\n\t\t\t\tpress="shareJamPressed"\n\t\t\t\ttext="{share>/jamButtonText}"\n\t\t\t\tvisible="{share>/jamVisible}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t/><Button\n\t\t\t\ticon="sap-icon://group"\n\t\t\t\tpress="shareMSTeamsPressed"\n\t\t\t\ttext="{share>/msTeamsShareButtonText}"\n\t\t\t\tvisible="{share>/msTeamsVisible}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t/><footerbar:AddBookmarkButton\n\t\t\t\ttitle="{share>/title}"\n\t\t\t\tsubtitle="{share>/subtitle}"\n\t\t\t\ttileIcon="{share>/icon}"\n\t\t\t\tcustomUrl="{share>/url}"\n\t\t\t\tserviceUrl="{share>/queryUrl}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t\tpress="onSaveTilePress"\n\t\t\t\tvisible="{share>/saveAsTileVisible}"\n\t\t\t/></buttons></ActionSheet></core:FragmentDefinition>\n',"sap/fe/macros/table/Actions.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:core="sap.ui.core"\n\txmlns:macroTable="sap.fe.macros.table"\n\txmlns:mdcat="sap.ui.mdc.actiontoolbar"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tDATAFIELDANNOTATIONS : \'sap/fe/core/converters/annotations/DataField\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\',\n\t\tDEFAULTACTIONHANDLER: \'sap/fe/macros/internal/helpers/DefaultActionHandler\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:if test="{this>useBasicSearch}"><mdcat:ActionToolbarAction><macroTable:BasicSearch id="{this>filterBarId}" /></mdcat:ActionToolbarAction></template:if><template:if test="{tableDefinition>actions}"><template:repeat list="{tableDefinition>actions}" var="action"><template:if test="{= ${action>type} === \'Default\'}"><template:then><mdcat:ActionToolbarAction><Button\n\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\tid="{= ID.generate([${this>id},${action>id}])}"\n\t\t\t\t\t\t\ttext="{action>text}"\n\t\t\t\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : (${action>noWrap} ? ${action>press} : COMMON.buildActionWrapper(${action>}, ${this>}))}"\n\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\tvisible="{action>visible}"\n\t\t\t\t\t\t\tenabled="{action>enabled}"\n\t\t\t\t\t\t/></mdcat:ActionToolbarAction></template:then><template:elseif test="{= ${action>type} === \'Menu\' }"><mdcat:ActionToolbarAction><template:with path="action>defaultAction/annotationPath" var="dataFieldForDefaultAction"><template:with\n\t\t\t\t\t\t\t\tpath="dataFieldForDefaultAction>Action"\n\t\t\t\t\t\t\t\thelper="COMMON.getActionContext"\n\t\t\t\t\t\t\t\tvar="defaultActionContext"\n\t\t\t\t\t\t\t><MenuButton\n\t\t\t\t\t\t\t\t\ttext="{action>text}"\n\t\t\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\t\t\tmenuPosition="BeginBottom"\n\t\t\t\t\t\t\t\t\tid="{= ID.generate([${this>id},${action>id}])}"\n\t\t\t\t\t\t\t\t\tvisible="{action>visible}"\n\t\t\t\t\t\t\t\t\tenabled="{action>enabled}"\n\t\t\t\t\t\t\t\t\tuseDefaultActionOnly="{= DEFAULTACTIONHANDLER.getUseDefaultActionOnly(${action>})}"\n\t\t\t\t\t\t\t\t\tbuttonMode="{= DEFAULTACTIONHANDLER.getButtonMode(${action>})}"\n\t\t\t\t\t\t\t\t\tdefaultAction="{= DEFAULTACTIONHANDLER.getDefaultActionHandler(${this>}, ${action>}, ${dataFieldForDefaultAction>}, ${defaultActionContext>})}"\n\t\t\t\t\t\t\t\t><menu><Menu><template:repeat list="{action>menu}" var="menuItemAction"><template:with path="menuItemAction>annotationPath" var="dataField"><template:if test="{= ${menuItemAction>type} === \'ForAction\'}"><template:then><template:with\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath="dataField>Action"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelper="COMMON.getActionContext"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="actionContext"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><template:with\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath="dataField>Action"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelper="COMMON.getPathToBoundActionOverload"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="isBound"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><template:if\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${isBound>$IsBound} !== true || ${actionContext>@Org.OData.Core.V1.OperationAvailable} !== false }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{dataField>Label}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : TABLE.pressEventDataFieldForActionButton(${this>}, ${dataField>}, ${collection>@sapui.name}, ${tableDefinition>operationAvailableMap}, ${actionContext>},${action>isNavigable}, ${menuItemAction>enableAutoScroll}, ${menuItemAction>defaultValuesExtensionFunction}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled="{= ${menuItemAction>enabled} !== undefined ? ${menuItemAction>enabled} : TABLE.isDataFieldForActionEnabled(${this>},${dataField>},${isBound>$IsBound}, ${actionContext>}, ${menuItemAction>enableOnSelect})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:if></template:with></template:with></template:then><template:elseif test="{= ${menuItemAction>type} === \'ForNavigation\'}"><MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{dataField>Label}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : COMMON.getPressHandlerForDataFieldForIBN(${dataField>}, \'${internal>selectedContexts}\', !${tableDefinition>enableAnalytics} )}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled="{= ${menuItemAction>enabled} !== undefined ? ${menuItemAction>enabled} : TABLE.isDataFieldForIBNEnabled(${this>}, ${dataField>}, ${dataField>RequiresContext}, ${dataField>NavigationAvailable@@MODEL.value})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmacrodata:IBNData="{= !${dataField>RequiresContext} ? \'{semanticObject: \\\'\' +  ${dataField>SemanticObject} + \'\\\' , action : \\\'\' + ${dataField>Action} + \'\\\'}\' : undefined}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:elseif><template:else><MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : (${menuItemAction>noWrap} ? ${menuItemAction>press} : COMMON.buildActionWrapper(${menuItemAction>}, ${this>}))}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:else></template:if></template:with></template:repeat></Menu></menu></MenuButton></template:with></template:with></mdcat:ActionToolbarAction></template:elseif><template:else><template:with path="action>annotationPath" var="dataField"><template:if test="{= ${action>type} === \'ForAction\'}"><template:then><template:with path="dataField>Action" helper="COMMON.getActionContext" var="actionContext"><template:with path="dataField>Action" helper="COMMON.getPathToBoundActionOverload" var="isBound"><template:if\n\t\t\t\t\t\t\t\t\t\t\ttest="{= ${isBound>$IsBound} !== true || ${actionContext>@Org.OData.Core.V1.OperationAvailable} !== false }"\n\t\t\t\t\t\t\t\t\t\t><mdcat:ActionToolbarAction><Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tunittest:id="DataFieldForActionButton"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>@@UI.getDataModelObjectPath}])}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{dataField>Label}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tariaHasPopup="{= DATAFIELDANNOTATIONS.isDataModelObjectPathForActionWithDialog(${actionContext>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : TABLE.pressEventDataFieldForActionButton(${this>}, ${dataField>}, ${collection>@sapui.name}, ${tableDefinition>operationAvailableMap}, ${actionContext>},${action>isNavigable}, ${action>enableAutoScroll}, ${action>defaultValuesExtensionFunction}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\t\t\t\t\t\t\tenabled="{= ${action>enabled} !== undefined ? ${action>enabled} : TABLE.isDataFieldForActionEnabled(${this>},${dataField>},${isBound>$IsBound}, ${actionContext>}, ${action>enableOnSelect})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{action>visible}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></mdcat:ActionToolbarAction></template:if></template:with></template:with></template:then><template:elseif test="{= ${action>type} === \'ForNavigation\'}"><mdcat:ActionToolbarAction><Button\n\t\t\t\t\t\t\t\t\t\tunittest:id="DataFieldForIntentBasedNavigationButton"\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>@@UI.getDataModelObjectPath}])}"\n\t\t\t\t\t\t\t\t\t\ttext="{dataField>Label}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : COMMON.getPressHandlerForDataFieldForIBN(${dataField>}, \'${internal>selectedContexts}\', !${tableDefinition>enableAnalytics} )}"\n\t\t\t\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\t\t\t\tenabled="{= ${action>enabled} !== undefined ? ${action>enabled} : TABLE.isDataFieldForIBNEnabled(${this>}, ${dataField>}, ${dataField>RequiresContext}, ${dataField>NavigationAvailable@@MODEL.value})}"\n\t\t\t\t\t\t\t\t\t\tvisible="{action>visible}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:IBNData="{= !${dataField>RequiresContext} ? \'{semanticObject: \\\'\' +  ${dataField>SemanticObject} + \'\\\' , action : \\\'\' + ${dataField>Action} + \'\\\'}\' : undefined}"\n\t\t\t\t\t\t\t\t\t/></mdcat:ActionToolbarAction></template:elseif></template:if></template:with></template:else></template:if></template:repeat></template:if><template:with path="tableDefinition>annotation/standardActions/actions" var="standardActions"><template:if test="{tableDefinition>annotation/standardActions/isInsertUpdateTemplated}"><template:if test="{standardActions>create/isTemplated}"><mdcat:ActionToolbarAction><Button\n\t\t\t\t\t\tunittest:id="CreateButtonTemplate"\n\t\t\t\t\t\tid="{= ID.generate([${this>id}, \'StandardAction\', \'Create\'])}"\n\t\t\t\t\t\ttext="{sap.fe.i18n>M_COMMON_TABLE_CREATE}"\n\t\t\t\t\t\tpress="cmd:Create"\n\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\tvisible="{standardActions>create/visible}"\n\t\t\t\t\t\tenabled="{standardActions>create/enabled}"\n\t\t\t\t\t\tmacrodata:IBNData="{= TABLE.getIBNData(${this>})}"\n\t\t\t\t\t/></mdcat:ActionToolbarAction></template:if></template:if><template:repeat list="{ path: \'tableDefinition>actions\', filters: { path: \'type\', operator: \'EQ\', value1: \'Copy\' } }" var="action"><template:with path="action>annotationPath" var="dataField"><mdcat:ActionToolbarAction><Button\n\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>@@UI.getDataModelObjectPath}])}"\n\t\t\t\t\t\ttext="{action>text}"\n\t\t\t\t\t\tpress="{= TABLE.pressEventDataFieldForActionButton(${this>}, ${dataField>}, ${collection>@sapui.name}, ${tableDefinition>operationAvailableMap}, \'${internal>selectedContexts}\',${action>isNavigable}, ${action>enableAutoScroll}, ${action>defaultValuesExtensionFunction}) }"\n\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\tenabled="{action>enabled}"\n\t\t\t\t\t\tvisible="{action>visible}"\n\t\t\t\t\t/></mdcat:ActionToolbarAction></template:with></template:repeat><template:if test="{standardActions>delete/isTemplated}"><mdcat:ActionToolbarAction><Button\n\t\t\t\t\tunittest:id="DeleteButtonTemplate"\n\t\t\t\t\tid="{= ID.generate([${this>id}, \'StandardAction\', \'Delete\'])}"\n\t\t\t\t\ttext="{sap.fe.i18n>M_COMMON_TABLE_DELETE}"\n\t\t\t\t\tpress="cmd:DeleteEntry"\n\t\t\t\t\ttype="Transparent"\n\t\t\t\t\tvisible="{standardActions>delete/visible}"\n\t\t\t\t\tenabled="{standardActions>delete/enabled}"\n\t\t\t\t/></mdcat:ActionToolbarAction></template:if><template:if test="{tableDefinition>annotation/standardActions/isInsertUpdateTemplated}"><template:if test="{standardActions>massEdit/isTemplated}"><mdcat:ActionToolbarAction><Button\n\t\t\t\t\t\tid="{= ID.generate([${this>id}, \'StandardAction\', \'MassEdit\'])}"\n\t\t\t\t\t\ttext="{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}"\n\t\t\t\t\t\tpress="API.onMassEditButtonPressed($event, $controller)"\n\t\t\t\t\t\tvisible="{standardActions>massEdit/visible}"\n\t\t\t\t\t\tenabled="{standardActions>massEdit/enabled}"\n\t\t\t\t\t/></mdcat:ActionToolbarAction></template:if></template:if></template:with><template:if test="{this>enableFullScreen}"><mdcat:ActionToolbarAction><macroTable:TableFullScreenDialog id="{= ID.generate([${this>id}, \'StandardAction\', \'FullScreen\'])}" /></mdcat:ActionToolbarAction></template:if></core:FragmentDefinition>\n',"sap/fe/macros/table/Column.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns:core="sap.ui.core"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="dataField>" helper="FIELD.getDataFieldDefault" var="dataField"><mdcTable:Column\n\t\t\tunittest:id="MDCTableColumn"\n\t\t\tid="{= TABLE.getColumnStableId(${this>id},${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\twidth="{= ${this>isOptimizedForSmallDevice} === false ? TABLE.getColumnWidth(${this>}, ${column>}, ${dataField>}, ${dataField>@@TABLE.getTextOnActionField}, ${dataField>@@UI.getDataModelObjectPath}, true, {Title: ${dataField>Target/$AnnotationPath/Title} || \'\', Description: ${dataField>Target/$AnnotationPath/Description} || \'\'}) : undefined}"\n\t\t\tminWidth="{= ${this>isOptimizedForSmallDevice} === true ? TABLE.getColumnWidth(${this>}, ${column>}, ${dataField>}, ${dataField>@@TABLE.getTextOnActionField}, ${dataField>@@UI.getDataModelObjectPath}, false, {Title: ${dataField>Target/$AnnotationPath/Title} || \'\', Description: ${dataField>Target/$AnnotationPath/Description} || \'\'}) : undefined}"\n\t\t\theader="{= ${dataField>@@MODEL.label} || ${dataField>Target/$AnnotationPath/@@MODEL.label} || ${column>name} }"\n\t\t\tdataProperty="{column>name}"\n\t\t\thAlign="{= ${column>horizontalAlign} || FIELD.getColumnAlignment(${dataField>}, ${this>}) }"\n\t\t\theaderVisible="{= TABLE.setHeaderLabelVisibility( ${dataField>}, ${dataField>Target/$AnnotationPath/Data}) }"\n\t\t\timportance="{column>importance}"\n\t\t\tcustomData:showDataFieldsLabel="{column>showDataFieldsLabel}"\n\t\t\ttooltip="{column>tooltip}"\n\t\t><core:Fragment fragmentName="sap.fe.macros.table.ColumnContent" type="XML" /></mdcTable:Column></template:with></core:FragmentDefinition>\n',"sap/fe/macros/table/ColumnContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:controls="sap.fe.core.controls"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n><template:if\n\t\ttest="{= (${dataField>$Type}.indexOf(\'DataFieldForAnnotation\') > -1) &amp;&amp; (${dataField>Target/$AnnotationPath}.indexOf(\'@com.sap.vocabularies.UI.v1.Chart\') > -1)}"\n\t><template:then><template:with path="dataField>Target/$AnnotationPath" var="collection" helper="MODEL.resolve$Path"><template:with path="collection>" var="collection" helper="COMMON.getNavigationContext"><internalMacro:MicroChart\n\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\t\t\tcontextPath="{collection>}"\n\t\t\t\t\t\tmetaPath="{dataField>Target/$AnnotationPath/}"\n\t\t\t\t\t\tshowOnlyChart="{= TABLE.getShowOnlyChart(${this>}, ${column>}) }"\n\t\t\t\t\t\tsize="{= TABLE.getChartSize(${this>}, ${column>}) }"\n\t\t\t\t\t\thideOnNoData="true"\n\t\t\t\t\t\tisAnalytics="{tableDefinition>enableAnalytics}"\n\t\t\t\t\t/></template:with></template:with></template:then><template:elseif\n\t\t\ttest="{= ${dataField>Value} &amp;&amp; ${dataField>Value/$Path} &amp;&amp; UI.isMultiValueField(${dataField>Value@@Property.getPropertyObjectPath})}"\n\t\t><internalMacro:MultiValueField contextPath="{collection>}" metaPath="{dataField>}"><internalMacro:formatOptions displayOnly="true" /></internalMacro:MultiValueField></template:elseif><template:elseif\n\t\t\ttest="{= (${dataField>$Type}.indexOf(\'DataFieldForAnnotation\') > -1) &amp;&amp; (${dataField>Target/$AnnotationPath}.indexOf(\'FieldGroup\') > -1)}"\n\t\t><template:with path="dataField>Target/$AnnotationPath/Data/" var="dataFieldCollections"><VBox\n\t\t\t\t\tvisible="{= TABLE.getVBoxVisibility( ${dataFieldCollections>}, ${column>FieldGroupHiddenExpressions}, ${dataField>} ) }"\n\t\t\t\t><template:repeat list="{dataFieldCollections>}" var="fieldGroupDataField"><template:if test="{= ${column>showDataFieldsLabel} &amp;&amp; !!${fieldGroupDataField>@@FIELD.computeLabelText} }"><template:then><HBox\n\t\t\t\t\t\t\t\t\talignItems="{= FIELD.buildExpressionForAlignItems(${fieldGroupDataField>Target/$AnnotationPath/Visualization/$EnumMember}) }"\n\t\t\t\t\t\t\t\t><Label\n\t\t\t\t\t\t\t\t\t\tid="{= TABLE.getFieldGroupLabelStableId(${this>id},${fieldGroupDataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\ttext="{= ${fieldGroupDataField>@@FIELD.computeLabelText} + \':\' }"\n\t\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginEnd"\n\t\t\t\t\t\t\t\t\t/><VBox><layoutData><FlexItemData growFactor="1" /></layoutData><internalMacro:Field\n\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\t\t\t\t\t\t\t\teditMode="{this>columnEditMode}"\n\t\t\t\t\t\t\t\t\t\t\tentitySet="{collection>}"\n\t\t\t\t\t\t\t\t\t\t\tdataField="{fieldGroupDataField>}"\n\t\t\t\t\t\t\t\t\t\t\ttextAlign="Left"\n\t\t\t\t\t\t\t\t\t\t\twrap="{= ${this>tableType} === \'ResponsiveTable\' ? true : false }"\n\t\t\t\t\t\t\t\t\t\t\tclass="{= TABLE.getMarginClass( ${dataFieldCollections>}  , ${fieldGroupDataField>} , ${fieldGroupDataField>Target/$AnnotationPath/Visualization/$EnumMember}, ${column>FieldGroupHiddenExpressions/}) }"\n\t\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t\t\tariaLabelledBy="{= TABLE.getColumnStableId(${this>id},${dataField>@@UI.getDataModelObjectPath}) +\' \'+ TABLE.getFieldGroupLabelStableId(${this>id},${fieldGroupDataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\tnavigateAfterAction="{column>isNavigable}"\n\t\t\t\t\t\t\t\t\t\t\tshowErrorObjectStatus="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t\t\t\t\t\t\t\t><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\ttextLinesEdit="{column>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLines="{column>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextMaxCharactersDisplay="{column>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{column>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextAlignMode="Table"\n\t\t\t\t\t\t\t\t\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\t\t\t\t\t\t\t\t\tsemanticKeyStyle="{= ${this>tableType} === \'ResponsiveTable\' ? \'ObjectIdentifier\' : \'Label\' }"\n\t\t\t\t\t\t\t\t\t\t\t\thasDraftIndicator="{column>formatOptions/hasDraftIndicator}"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupDraftIndicatorPropertyPath="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupName="{column>formatOptions/fieldGroupName}"\n\t\t\t\t\t\t\t\t\t\t\t\tshowIconUrl="{= ${fieldGroupDataField>Inline} &amp;&amp; ${fieldGroupDataField>IconUrl} }"\n\t\t\t\t\t\t\t\t\t\t\t\tignoreNavigationAvailable="{= ${tableDefinition>enableAnalytics} ? true : false }"\n\t\t\t\t\t\t\t\t\t\t\t\tisAnalytics="{tableDefinition>enableAnalytics}"\n\t\t\t\t\t\t\t\t\t\t\t\tisCurrencyAligned="true"\n\t\t\t\t\t\t\t\t\t\t\t\tcompactSemanticKey="{tableDefinition>control/isCompactType}"\n\t\t\t\t\t\t\t\t\t\t\t/><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t\t\t\t\t\t><internalMacro:customData><core:CustomData\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey="extraProperty"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></internalMacro:customData></template:if></internalMacro:Field></VBox></HBox></template:then><template:else><internalMacro:Field\n\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\t\t\t\t\t\teditMode="{this>columnEditMode}"\n\t\t\t\t\t\t\t\t\tentitySet="{collection>}"\n\t\t\t\t\t\t\t\t\tdataField="{fieldGroupDataField>}"\n\t\t\t\t\t\t\t\t\twrap="{= ${this>tableType} === \'ResponsiveTable\' ? true : false }"\n\t\t\t\t\t\t\t\t\tclass="{= TABLE.getMarginClass( ${dataFieldCollections>}  , ${fieldGroupDataField>} , ${fieldGroupDataField>Target/$AnnotationPath/Visualization/$EnumMember}, ${column>FieldGroupHiddenExpressions/}) }"\n\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\tariaLabelledBy="{= TABLE.getColumnStableId(${this>id},${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\tnavigateAfterAction="{column>isNavigable}"\n\t\t\t\t\t\t\t\t\tshowErrorObjectStatus="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t\t\t\t\t\t><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\tfieldMode="{this>fieldMode}"\n\t\t\t\t\t\t\t\t\t\ttextLinesEdit="{column>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\t\t\t\ttextMaxLines="{column>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\t\t\t\ttextMaxCharactersDisplay="{column>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{column>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\t\t\t\ttextAlignMode="Table"\n\t\t\t\t\t\t\t\t\t\tsemanticKeyStyle="{= ${this>tableType} === \'ResponsiveTable\' ? \'ObjectIdentifier\' : \'Label\' }"\n\t\t\t\t\t\t\t\t\t\thasDraftIndicator="{column>formatOptions/hasDraftIndicator}"\n\t\t\t\t\t\t\t\t\t\tfieldGroupDraftIndicatorPropertyPath="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"\n\t\t\t\t\t\t\t\t\t\tfieldGroupName="{column>formatOptions/fieldGroupName}"\n\t\t\t\t\t\t\t\t\t\tshowIconUrl="{= ${fieldGroupDataField>Inline} &amp;&amp; ${fieldGroupDataField>IconUrl} }"\n\t\t\t\t\t\t\t\t\t\tignoreNavigationAvailable="{= ${tableDefinition>enableAnalytics} ? true : false }"\n\t\t\t\t\t\t\t\t\t\tisAnalytics="{tableDefinition>enableAnalytics}"\n\t\t\t\t\t\t\t\t\t\tisCurrencyAligned="true"\n\t\t\t\t\t\t\t\t\t\tcompactSemanticKey="{tableDefinition>control/isCompactType}"\n\t\t\t\t\t\t\t\t\t/><template:if\n\t\t\t\t\t\t\t\t\t\ttest="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t\t\t\t><internalMacro:customData><core:CustomData\n\t\t\t\t\t\t\t\t\t\t\t\tkey="extraProperty"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t\t\t\t\t\t/></internalMacro:customData></template:if></internalMacro:Field></template:else></template:if></template:repeat><template:if test="{= ${collection>@com.sap.vocabularies.Common.v1.DraftRoot} }"><template:if test="{= ${collection>./@com.sap.vocabularies.Common.v1.SemanticKey} }"><template:if test="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"><controls:FormElementWrapper><macro:DraftIndicator\n\t\t\t\t\t\t\t\t\t\tdraftIndicatorType="IconAndText"\n\t\t\t\t\t\t\t\t\t\tentitySet="{collection>}"\n\t\t\t\t\t\t\t\t\t\tisDraftIndicatorVisible="{= FIELD.isDraftIndicatorVisibleInFieldGroup(${column>}) }"\n\t\t\t\t\t\t\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\t\t\t\t\t\t/></controls:FormElementWrapper></template:if></template:if></template:if><template:if test="{= ${collection>./@com.sap.vocabularies.Common.v1.SemanticKey} }"><template:if test="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"><ObjectStatus\n\t\t\t\t\t\t\t\tvisible="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t\t\t\t\t\tclass="sapUiSmallMarginBottom"\n\t\t\t\t\t\t\t\ttext="{sap.fe.i18n>Contains_Errors}"\n\t\t\t\t\t\t\t\tstate="Error"\n\t\t\t\t\t\t\t/></template:if></template:if></VBox></template:with></template:elseif><template:else><internalMacro:Field\n\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\teditMode="{this>columnEditMode}"\n\t\t\t\tentitySet="{collection>}"\n\t\t\t\tdataField="{dataField>}"\n\t\t\t\twrap="{= ${this>tableType} === \'ResponsiveTable\' ? true : false }"\n\t\t\t\tonChange="{this>onChange}"\n\t\t\t\tariaLabelledBy="{= ${column>formatOptions/hasDraftIndicator} ? TABLE.getColumnStableId(${this>id},${dataField>@@UI.getDataModelObjectPath}) : undefined}"\n\t\t\t\tnavigateAfterAction="{column>isNavigable}"\n\t\t\t\tshowErrorObjectStatus="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t><internalMacro:formatOptions\n\t\t\t\t\tfieldMode="{this>fieldMode}"\n\t\t\t\t\ttextLinesEdit="{column>formatOptions/textLinesEdit}"\n\t\t\t\t\ttextMaxLines="{column>formatOptions/textMaxLines}"\n\t\t\t\t\ttextMaxCharactersDisplay="{column>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\ttextExpandBehaviorDisplay="{column>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\ttextAlignMode="Table"\n\t\t\t\t\tsemanticKeyStyle="{= ${this>tableType} === \'ResponsiveTable\' ? \'ObjectIdentifier\' : \'Label\' }"\n\t\t\t\t\thasDraftIndicator="{column>formatOptions/hasDraftIndicator}"\n\t\t\t\t\tfieldGroupDraftIndicatorPropertyPath="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"\n\t\t\t\t\tfieldGroupName="{column>formatOptions/fieldGroupName}"\n\t\t\t\t\tshowIconUrl="{= ${dataField>Inline} &amp;&amp; ${dataField>IconUrl} }"\n\t\t\t\t\tignoreNavigationAvailable="{= ${tableDefinition>enableAnalytics} ? true : false }"\n\t\t\t\t\tisAnalytics="{tableDefinition>enableAnalytics}"\n\t\t\t\t\tisCurrencyAligned="true"\n\t\t\t\t\tcompactSemanticKey="{tableDefinition>control/isCompactType}"\n\t\t\t\t/><template:if\n\t\t\t\t\ttest="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t><internalMacro:customData><core:CustomData\n\t\t\t\t\t\t\tkey="extraProperty"\n\t\t\t\t\t\t\tvalue="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t/></internalMacro:customData></template:if></internalMacro:Field><template:if test="{= ${this>creationMode} === \'CreationRow\'}"><mdcTable:creationTemplate><internalMacro:Field\n\t\t\t\t\t\tcore:require="{TableRuntime: \'sap/fe/macros/table/TableRuntime\'}"\n\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\t\t\teditMode="{this>columnEditMode}"\n\t\t\t\t\t\tentitySet="{collection>}"\n\t\t\t\t\t\tdataField="{dataField>}"\n\t\t\t\t\t\twrap="{= ${this>tableType} === \'ResponsiveTable\' ? true : false }"\n\t\t\t\t\t\tonChange="TableRuntime.onFieldChangeInCreationRow($event, \'{this>customValidationFunction}\')}"\n\t\t\t\t\t\tshowErrorObjectStatus="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t\t\t><internalMacro:formatOptions\n\t\t\t\t\t\t\ttextLinesEdit="{column>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\ttextMaxLines="{column>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\ttextMaxCharactersDisplay="{column>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{column>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\ttextAlignMode="Table"\n\t\t\t\t\t\t\tsemanticKeyStyle="{= ${this>tableType} === \'ResponsiveTable\' ? \'ObjectIdentifier\' : \'Label\' }"\n\t\t\t\t\t\t\thasDraftIndicator="{column>formatOptions/hasDraftIndicator}"\n\t\t\t\t\t\t\tfieldGroupDraftIndicatorPropertyPath="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"\n\t\t\t\t\t\t\tfieldGroupName="{column>formatOptions/fieldGroupName}"\n\t\t\t\t\t\t\tshowIconUrl="{= ${dataField>Inline} &amp;&amp; ${dataField>IconUrl} }"\n\t\t\t\t\t\t\tignoreNavigationAvailable="{= ${tableDefinition>enableAnalytics} ? true : false }"\n\t\t\t\t\t\t\tisCurrencyAligned="true"\n\t\t\t\t\t\t/></internalMacro:Field></mdcTable:creationTemplate></template:if></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/table/Columns.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\ttemplate:require="{\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\'\n\t}"\n><template:if test="{tableDefinition>columns}"><template:repeat list="{tableDefinition>columns}" var="column"><template:if test="{= ${column>availability} === \'Default\'}"><template:if test="{= ${column>type} === \'Default\'}"><template:then><core:Fragment fragmentName="sap.fe.macros.table.CustomColumn" type="XML" /></template:then><template:elseif test="{= ${column>type} === \'Annotation\'}"><template:with path="column>annotationPath" var="dataField"><core:Fragment fragmentName="sap.fe.macros.table.Column" type="XML" /></template:with></template:elseif><template:elseif test="{= ${column>type} === \'Slot\'}"><core:Fragment fragmentName="sap.fe.macros.table.SlotColumn" type="XML" /></template:elseif></template:if></template:if></template:repeat></template:if></core:FragmentDefinition>\n',"sap/fe/macros/table/CustomColumn.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns:core="sap.ui.core"\n\txmlns:fpm="sap.fe.macros.fpm"\n\ttemplate:require="{\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><mdcTable:Column\n\t\tid="{= ID.generate([${this>id}, \'C\', ${column>id}]) }"\n\t\tdataProperty="{column>name}"\n\t\twidth="{column>width}"\n\t\timportance="{column>importance}"\n\t\theader="{column>header}"\n\t\thAlign="{column>horizontalAlign}"\n\t><mdcTable:template><fpm:CustomFragment id="{column>key}" fragmentName="{column>template}" contextPath="{targetCollection>}" /></mdcTable:template></mdcTable:Column></core:FragmentDefinition>\n',"sap/fe/macros/table/SlotColumn.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><mdcTable:Column\n\t\tid="{= ID.generate([${this>id}, \'C\', ${column>id}]) }"\n\t\tdataProperty="{column>name}"\n\t\twidth="{column>width}"\n\t\timportance="{column>importance}"\n\t\thAlign="{column>horizontalAlign}"\n\t\theader="{column>header}"\n\t><mdcTable:template><slot name="{column>key}" /></mdcTable:template></mdcTable:Column></core:FragmentDefinition>\n',"sap/fe/macros/table/ValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if\n\t\ttest="{= (${dataField>$Type}.indexOf(\'DataFieldForAnnotation\') !== -1) &amp;&amp; (${dataField>Target/$AnnotationPath}.indexOf(\'@com.sap.vocabularies.UI.v1.Chart\') !== -1)}"\n\t><template:then></template:then><template:elseif\n\t\t\ttest="{= (${dataField>$Type}.indexOf(\'DataFieldForAnnotation\') !== -1) &amp;&amp; (${dataField>Target/$AnnotationPath}.indexOf(\'FieldGroup\') !== -1)}"\n\t\t><template:with path="dataField>Target/$AnnotationPath/Data" var="dataFields"><template:repeat list="{dataFields>}" var="dataField"><core:Fragment fragmentName="sap.fe.macros.table.ValueHelp" type="XML" /></template:repeat></template:with></template:elseif><template:elseif test="{= ${dataField>Value} }"><template:with path="dataField>Value" var="item"><macro:ValueHelp\n\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\t\tproperty="{item>}"\n\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t/></template:with></template:elseif><template:else><macro:ValueHelp\n\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\tproperty="{dataField>}"\n\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',"sap/fe/macros/valuehelp/ValueHelpFilterBar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcFbVh="sap.ui.mdc.filterbar.vh"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:macroData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n><mdcFbVh:FilterBar\n\t\tid="{this>id}"\n\t\tliveMode="{this>liveMode}"\n\t\tdelegate="{= \'{name:\\\'sap/fe/macros/filterBar/FilterBarDelegate\\\', payload: {entityTypePath: \\\'\' + ${contextPath>@@MACRO.getPath} + \'\\\'} }\' }"\n\t\tsearch="{this>search}"\n\t\tfilterChanged="{this>filterChanged}"\n\t\tfilterConditions="{this>filterConditions}"\n\t\tsuspendSelection="{this>suspendSelection}"\n\t\texpandFilterFields="{this>expandFilterFields}"\n\t\tmacroData:hideBasicSearch="{this>hideBasicSearch}"\n\t\tmacroData:useSemanticDateRange="{this>useSemanticDateRange}"\n\t\tmacroData:selectionFields="{= COMMON.stringifyCustomData(${this>selectionFields}) }"\n\t\tmacroData:entityType="{contextPath>@@MACRO.getPath}"\n\t><mdcFbVh:dependents><template:repeat list="{path:\'selectionFields>\'}" var="item"><template:if test="{= ${item>availability} === \'Default\' &amp;&amp; ${item>template} === undefined}"><template:with path="item>annotationPath" var="property"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\tconditionModel="$filters"\n\t\t\t\t\t\t\tproperty="{property>}"\n\t\t\t\t\t\t\tfilterFieldValueHelp="true"\n\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t/></template:with></template:if></template:repeat><template:if\n\t\t\t\ttest="{= !${path:\'contextPath>@com.sap.vocabularies.UI.v1.SelectionFields\'}  &amp;&amp; (${this>enableFallback} === true)}"\n\t\t\t><template:repeat\n\t\t\t\t\tlist="{path:\'contextPath>\', filters: {path: \'$kind\', operator: \'EQ\', value1:\'Property\'}}"\n\t\t\t\t\tvar="selectionField"\n\t\t\t\t><template:with path="selectionField>" var="item"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\']) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\tconditionModel="$filters"\n\t\t\t\t\t\t\tproperty="{item>}"\n\t\t\t\t\t\t\tfilterFieldValueHelp="true"\n\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t/></template:with></template:repeat></template:if></mdcFbVh:dependents><template:if test="{= !${this>hideBasicSearch} }"><mdcFbVh:basicSearchField><mdc:FilterField\n\t\t\t\t\tplaceholder="{sap.fe.i18n>M_FILTERBAR_SEARCH}"\n\t\t\t\t\tconditions="{$filters>/conditions/$search}"\n\t\t\t\t\tdataType="Edm.String"\n\t\t\t\t\tmaxConditions="1"\n\t\t\t\t/></mdcFbVh:basicSearchField></template:if><mdcFbVh:filterItems><template:repeat list="{path:\'selectionFields>\'}" var="item"><template:if test="{= ${item>availability} === \'Default\'}"><template:if test="{= ${item>template} === undefined}"><template:then><template:with path="item>annotationPath" var="property"><internalMacro:FilterField\n\t\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterField\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\tproperty="{property>}"\n\t\t\t\t\t\t\t\t\t_valueList="{_valueList>}"\n\t\t\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t\t\t\tsettings="{= COMMON.stringifyCustomData(${item>settings}) }"\n\t\t\t\t\t\t\t\t/></template:with></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.filter.CustomFilter" type="XML" /></template:else></template:if></template:if></template:repeat><template:if\n\t\t\t\ttest="{= !${contextPath>@com.sap.vocabularies.UI.v1.SelectionFields} &amp;&amp; (${this>enableFallback} === true) }"\n\t\t\t><template:repeat\n\t\t\t\t\tlist="{path:\'contextPath>\', filters: {path: \'$kind\', operator: \'EQ\', value1:\'Property\'}}"\n\t\t\t\t\tvar="selectionField"\n\t\t\t\t><internalMacro:FilterField\n\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\tproperty="{selectionField>}"\n\t\t\t\t\t\t_valueList="{_valueList>}"\n\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterField\']) }"\n\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\']) }"\n\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\tlog:comment="Taken from Properties"\n\t\t\t\t\t\tsettings="{= COMMON.stringifyCustomData(${selectionField>settings}) }"\n\t\t\t\t\t/></template:repeat></template:if></mdcFbVh:filterItems></mdcFbVh:FilterBar></core:FragmentDefinition>\n',"sap/fe/macros/visualfilters/fragments/InteractiveDonutChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:m="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tHELPER: \'sap/fe/macros/visualfilters/InteractiveChartHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n        FieldHelper: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n><template:if test="{= ${chartAnnotation>Measures/0/} &amp;&amp; ${chartAnnotation>Dimensions/0/} }"><template:then><template:with path="chartAnnotation>Measures/0" helper="COMMON.getMeasureAttributeForMeasure" var="DataPoint"><template:with path="chartAnnotation>Measures/0/" var="Measure"><template:with path="chartAnnotation>Dimensions/0/" var="Dimension"><InteractiveDonutChart\n\t\t\t\t\t\t\tcore:require="{VisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'}"\n\t\t\t\t\t\t\tselectionChanged="VisualFilterRuntime.selectionChanged"\n\t\t\t\t\t\t\tvisible="{= \'{= !${internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/showOverLayForVF}}\'}"\n\t\t\t\t\t\t\tsegments="{parts:[{path:\'chartAnnotation>\'},{path:\'contextPath>\'},{path: \'Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text\'},{path:\'Dimension>$PropertyPath/$Type\'},{path:\'metaPath>SortOrder\'}, {path: \'this>selectionVariantAnnotation\'}, {path:\'this>bCustomAggregate\'}, {path:\'this>aggregateProperties\'}, {path:\'this>bUoMHasCustomAggregate\'}],formatter:\'HELPER.getAggregationBinding\'}"\n\t\t\t\t\t\t\tmacrodata:outParameter="{= ${this>outParameter}}"\n\t\t\t\t\t\t\tmacrodata:valuelistProperty="{= ${this>valuelistProperty}}"\n\t\t\t\t\t\t\tmacrodata:multipleSelectionAllowed="{= %{this>multipleSelectionAllowed}}"\n\t\t\t\t\t\t\tmacrodata:dimension="{= ${Dimension>$PropertyPath}}"\n\t\t\t\t\t\t\tmacrodata:dimensionText="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : undefined}"\n\t\t\t\t\t\t\tmacrodata:measure="{= ${Measure>$PropertyPath}}"\n\t\t\t\t\t\t\tmacrodata:scalefactor="{= HELPER.getScaleFactor(${DataPoint>ValueFormat})}"\n\t\t\t\t\t\t\tmacrodata:uom="{parts:[{path:\'chartAnnotation>\'},{path:\'contextPath>\'},{value:\'true\'}, {path:\'this>bCustomAggregate\'}, {path:\'this>aggregateProperties\'}],formatter:\'HELPER.getUoM\'}"\n\t\t\t\t\t\t\tmacrodata:inParameters="{= COMMON.stringifyCustomData(${this>inParameters}) }"\n\t\t\t\t\t\t\tmacrodata:inParameterConditions="{= ${this>inParameters} !== undefined ? HELPER.getInParameterFiltersBinding(${this>inParameters}) : undefined}"\n\t\t\t\t\t\t\tmacrodata:dimensionType="{= ${Dimension>$PropertyPath/$Type}}"\n\t\t\t\t\t\t\tmacrodata:selectionVariantAnnotation="{= COMMON.stringifyCustomData(${this>selectionVariantAnnotation})}"\n\t\t\t\t\t\t\tmacrodata:required="{this>required}"\n\t\t\t\t\t\t\tmacrodata:showOverlayInitially="{this>showOverlayInitially}"\n\t\t\t\t\t\t\tmacrodata:requiredProperties="{this>requiredProperties}"\n\t\t\t\t\t\t\tmacrodata:infoPath="{= ID.generate([${metaPath>@@MACRO.getPath}]) }"\n\t\t\t\t\t\t><segments><InteractiveDonutChartSegment\n\t\t\t\t\t\t\t\t\tcore:require="{VisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'}"\n\t\t\t\t\t\t\t\t\tlabel="{= FieldTemplating.getTextBinding(${Dimension>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\tvalue="{= ${Measure>$PropertyPath@@HELPER.getChartValue} }"\n\t\t\t\t\t\t\t\t\tdisplayedValue="{parts:[ {path: \'Measure>$PropertyPath\'}, {path: \'DataPoint>ValueFormat\'}, {path: \'metaPath>@@MACRO.getPath\'}], formatter: \'HELPER.getChartDisplayedValue\'}"\n\t\t\t\t\t\t\t\t\tcolor="{parts:[{path:\'DataPoint>@@UI.getDataModelObjectPath\'}, {path:\'Dimension>\'}], formatter: \'HELPER.getColorBinding\'}"\n\t\t\t\t\t\t\t\t\tselected="{path: \'$field>/conditions\', formatter: \'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected\'}"\n\t\t\t\t\t\t\t\t/></segments></InteractiveDonutChart><m:VBox\n\t\t\t\t\t\t\tclass="sapUiOverlay sapUiResponsiveMargin"\n\t\t\t\t\t\t\tvisible="{= \'{internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/showOverLayForVF}\'}"\n\t\t\t\t\t\t><m:Text text="{= \'{internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/VFOverLayMessage}\'}" /></m:VBox></template:with></template:with></template:with></template:then></template:if></core:FragmentDefinition>\n'});