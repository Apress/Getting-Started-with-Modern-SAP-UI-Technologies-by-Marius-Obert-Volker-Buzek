/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","./SearchResultBaseFormatter","./SearchResultTableColumnType"],function(e,t,n){function i(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function u(e,t,n){if(t)o(e.prototype,t);if(n)o(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)a(e,t)}function a(e,t){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return a(e,t)}function f(e){var t=d();return function n(){var i=p(e),r;if(t){var o=p(this).constructor;r=Reflect.construct(i,arguments,o)}else{r=i.apply(this,arguments)}return s(this,r)}}function s(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return c(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}var h=i(e);var T=i(t);var m=n["TableColumnType"];var b=function(e){l(n,e);var t=f(n);function n(e){var i;r(this,n);i=t.call(this,e);i.model=e;i.config=i.model.config;i.columns=undefined;return i}u(n,[{key:"formatColumns",value:function e(t){var n;var i;var r=[];var o=t[0];for(var u=0;u<o.itemattributes.length;u++){r.push({attributeId:o.itemattributes[u].key,persoColumnId:"TABLE_COLUMN_DETAIL_"+u,name:o.itemattributes[u].name,type:m.DETAIL})}if(o.titleDescription!==undefined){i={attributeId:"TABLE_COLUMN_TITLE_DESCRIPTION",persoColumnId:"TABLE_COLUMN_TITLE_DESCRIPTION",name:o.titleDescriptionLabel+" ("+h.getText("titleDescription")+")",type:m.TITLE_DESCRIPTION};r.unshift(i)}if(o.title!==undefined){var l;if(typeof this.config.titleColumnName!=="undefined"&&((l=this.config)===null||l===void 0?void 0:l.titleColumnName)!==""){i={attributeId:"TABLE_COLUMN_TITLE",persoColumnId:"TABLE_COLUMN_TITLE",name:h.getText(this.config.titleColumnName),type:m.TITLE}}else{i={attributeId:"TABLE_COLUMN_TITLE",persoColumnId:"TABLE_COLUMN_TITLE",name:this.model.getDataSource().label,type:m.TITLE}}if(this.config.titleColumnWidth&&this.config.titleColumnWidth!==""){i.width=this.config.titleColumnWidth}r.unshift(i)}if(o.navigationObjects!==undefined&&o.navigationObjects.length>0){r.push({attributeId:"TABLE_COLUMN_RELATED_APPS",persoColumnId:"TABLE_COLUMN_RELATED_APPS",name:h.getText("intents"),type:m.RELATED_APPS})}var a=this.model.config;if(a!==null&&a!==void 0&&(n=a.extendTableColumn)!==null&&n!==void 0&&n.column){i={attributeId:a.extendTableColumn.column.attributeId,persoColumnId:"TABLE_COLUMN_EXTEND",name:a.extendTableColumn.column.name,width:a.extendTableColumn.column.width,type:m.EXTEND};r.push(i)}for(var f=0;f<r.length;f++){r[f].index=f}this.columns=r;return r}},{key:"formatRows",value:function e(t){if(this.columns===undefined){this.formatColumns(t)}var n=[];for(var i=0;i<t.length;i++){n[i]={cells:[]};var r=t[i].itemattributes;for(var o=0;o<this.columns.length;o++){if(this.columns[o].type!==m.DETAIL){continue}var u=this.getAttribute(r,this.columns[o].attributeId);if(u===undefined){n[i].cells.push({value:this.getText(undefined)})}else{if(u.iconUrl){n[i].cells.push({value:this.getText(u.value),icon:u.iconUrl})}else{n[i].cells.push({value:this.getText(u.value)})}}}if(t[i].titleDescription!==undefined){n[i].cells.unshift({value:this.getText(t[i].titleDescription)})}if(t[i].title!==undefined){n[i].cells.unshift({value:this.getText(t[i].title),titleNavigation:t[i].titleNavigation,isTitle:true,titleIconUrl:t[i].titleIconUrl,titleInfoIconUrl:t[i].titleInfoIconUrl})}if(t[i].navigationObjects!==undefined&&t[i].navigationObjects.length>0){n[i].cells.push({value:h.getText("intents"),tooltip:h.getText("intents"),navigationObjects:t[i].navigationObjects,isRelatedApps:true})}if(this.config.extendTableColumn&&typeof this.config.extendTableColumn["assembleCell"]==="function"){var l={id:t[i].attributesMap["id"]||t[i].attributesMap["ID"],favorites_user_id:t[i].attributesMap["favorites_user_id"]||t[i].attributesMap["FAVORITES_USER_ID"]};if(typeof l.id!=="undefined"&&typeof l.favorites_user_id!=="undefined"){n[i].cells.push(this.config.extendTableColumn["assembleCell"](l))}}}return n}},{key:"getAttribute",value:function e(t,n){for(var i=0;i<t.length;i++){if(t[i].key===n){return t[i]}}return undefined}},{key:"getText",value:function e(t){if(t===undefined||t===null){return"–"}if(typeof t!=="string"){return t+""}if(t.trim().length===0){return"–"}return t}}]);return n}(T);return b})})();